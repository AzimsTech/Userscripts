// ==UserScript==
// @name               字体渲染（自用脚本）
// @name:en            Font Rendering (Customized)
// @version            2025.08.02.1
// @author             F9y4ng
// @icon               data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFtklEQVR4nO1WW0yURxSe1rQ1aVMbH9ukTZvG9qXxiUbTF/CCgnLRBVEQIgpdVigoCLtcRC5WvC0iN0EQ0K0uVRZQELRAAS0spIq0CHW3ihdUWFh2/xm0aXrxa2aUBQoGVmv70km+ZOfMOXO+c/acMz8h/69p1sjIiCOltIlS+lCSJEt/f3/l4ODgPPJvLMaYF6X09/v3TaiqvIi68+2wWKwYGhqiNTU1Di/UuSRJcxlj5ms9vVjtEo/ItZkI8dqHTb5pGBoahsFguEoIee2FEWCMJTLGsEV+EOkbT6Ahvk0g0icLR/KqwM+ys7ODX4hzALMlSRr8sdMI2fLtqI/X2wjoohrgsSxOZKGrq+syIWS2xWKZwxiLZYxVWyyWaqvVus1kMr3xzAQYY5/zCBNjCrE3UGNzPorwNRk4pW0ApfSRRqORM8auc32j8TZ6b9wR2RkYGLjV3Nz8/rNE/zJjzHDjeh88lqhwLrZFOM0PKYcusl78Ph5eCx+PJEgShSRJj0ymISg2qbHSSYkVi2KwRXEQZrMFPT09bYSQV+yNfhWPQL2nFDv8C2xRr3VNgnJdjm0ftGo3ztfoRbRpKV8h2GM36uJaURffioCVXyInQyfOMjMzA+wl0NLfPwi3pSqciWkWzoo2n8F6WSrclqhQq7woZAWKCgT57cG9eya4OEXbssNxIqIGbouVGB6yoLOzs33G3cIY+4yzLjpchZhx0YZ5pUOrqUNCdAHSNhyzyX1XJiMi9CAUq/ZNqpMN7rtQXHhW/EXJycluMyJAKa2wDFtF3596ElFdbCvWLNsO2fIEgTBZus1JxqZSOC2MgCbsrNiXRzXgTHSTLUOyFQmcAFpbW88TQmZN53wepfRP3akmhHqpJ0U0Fcoi6xHplWXbR6zJQKzvobG6cdmBSt0FWK3W30JDQxdORyCfUgq/1Sk4+kX1jAgcDqmw1UlVdJOoEVEnqu+E7MBGLQK8U0Ux1tfXf00IeWlK52az+U1K6S+NDZcQ6LHL5iA3pAzr3VOx3mMiAtx3QhNejcOKcptuin8R1Lu1SIotwp4ns4MPMM+lcWhqvAyz2Tzi7Oz88dOKz4OzjAnPRVbwSdulfm4pOF/bhp+NtyeAt5hi9X5UbPvWpuu5JA7uzrGie3jqR+WpAcViRvD7T58+nTclAUmS1j2e+5nIlZcJw+zgk+Lh4fK+vr673d3dXUaj8RrfNzZcxmrn+AkjunJbI3RR9QKV0Y02+TeqFqx0isGVDgP6+/uH5s+f/84kAhaL5T1Jkv5o13fBfakK/m6pohOudFzjBfSro6OjnBDyoV6vTxBEFZnY4Tc2pKZD7LpDUG49JILRarWpU2bBYDCkcQWTyYyrXdfFY8N7uLCwMJ8Q8smTQv2pp/smXJ2icU71eCCdCK/FZpkaCtn+CeCy0VauimmCi2M0bly/g97e3puEkDlTkigrK1N0dHS0GY1Gg16vb5bL5fGEkE959T548GA+J7gr6RiivMdaT+65D6rIXBTmnZ6ArWFZCPfOGHvAvDOg3l0qsqBQKDyf3o+EvE4I4a/YB+OZUkpduHFoUDr2BR4Xl2q3nIProhjcuzsgLh4P/iryqPms4LppAUcRGZYlzhITE5XE3kUpnceNK8suwG2REuGyA6LF8rMrJzkfRfqeUqHDdd0Wq1BT3SLkrq6uG+xybrVa3+JP9OjFLRd/QH5OJZoaLz3V+Sj4bDlyuArft3fbZH19fbfUavVce6IP5Ib52SeREHXguVCUVy5IlJSU7LSHQAQ38veOQ+1eX7Tl+jwTzqT5IcgvURAoLi4uIIS8bDeBS/k+uK2VPRP0OWv/TmDWjAgwxoK40Q5lDta6K58LOxPyR7+os2dM4OHDh28PDw/T6QpupjCZTJKDg4N9naDRaD4qLS3N1el0J54HJSUlhQsWLNhECHnXLgLj1qv/AKb+Lvgv1l/c+5HQxwRN2QAAAABJRU5ErkJggg==
// @namespace          https://github.com/F9y4ng/GreasyFork-Scripts/
// @homepage           https://f9y4ng.github.io/GreasyFork-Scripts/
// @homepageURL        https://f9y4ng.github.io/GreasyFork-Scripts/
// @supportURL         https://github.com/F9y4ng/GreasyFork-Scripts/issues
// @require            https://f9y4ng.github.io/GreasyFork-Scripts/lib/frColorPicker.js#sha256-5qwlU92m9JJzPnwytGBsLkwXoqPnnrjKFATILied8Os=
// @match              *://*/*
// @grant              GM_getValue
// @grant              GM.getValue
// @grant              GM_setValue
// @grant              GM.setValue
// @grant              GM_listValues
// @grant              GM.listValues
// @grant              GM_deleteValue
// @grant              GM.deleteValue
// @grant              GM_openInTab
// @grant              GM.openInTab
// @grant              GM_addElement
// @grant              GM_registerMenuCommand
// @grant              GM.registerMenuCommand
// @grant              GM_unregisterMenuCommand
// @compatible         edge version≥90 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Chrome version≥90 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Firefox version≥84 (Compatible Greasemonkey, Tampermonkey, Violentmonkey)
// @compatible         Opera version≥78 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Safari version≥15.4 (Compatible Tampermonkey, Userscripts)
// @license            GPL-3.0-only
// @copyright          2020-2025, F9y4ng
// @run-at             document-start
// @downloadURL https://raw.githubusercontent.com/AzimsTech/Userscripts/release/release/E5AD97E4BD93E6B8B2E69F93EFBC88E887AAE794A8E8849AE69CACEFBC89.user.js
// @updateURL https://raw.githubusercontent.com/AzimsTech/Userscripts/release/release/E5AD97E4BD93E6B8B2E69F93EFBC88E887AAE794A8E8849AE69CACEFBC89.meta.js
// ==/UserScript==
(function(F,Q,Pe,Be,Ut){"use strict";const Tt={debugging:!1,info:GM?.info??GM_info,atob:Q.atob.bind(Q),btoa:Q.btoa.bind(Q),alert:F.alert.bind(F),prompt:F.prompt.bind(F),confirm:F.confirm.bind(F),setTimeout:F.setTimeout.bind(F),console:Q.Object.assign({},F.console),RC2:{flag:"5295b9589c42a644ca9304163cd8",date:"2025.04.05"}},So=F.wrappedJSObject?Array.from:Q.Array.from,Xo={oS:Q.Object.prototype.toString,aF:(...Ft)=>Be(So(...Ft))};F.navigation||["pushState","replaceState"].forEach(Ft=>void(F.history[Ft]=Ut.eH(Ft))),Pe(F,Q,Tt,{...Xo,...Ut,cS:Ut.mS.filter(isNaN)})})(typeof window<"u"?window:this,((F,Q)=>{if(typeof GM_addElement>"u")return F;try{const{contentWindow:Pe}=Q=GM_addElement("iframe",{id:"\u{1D42C}\u{1D41A}\u{1D41F}\u{1D41E}.\u{1D430}\u{1D422}\u{1D427}\u{1D41D}\u{1D428}\u{1D430}",style:"display:none"});return F.wrappedJSObject||Q?.remove(),Pe}catch{return Q?.remove(),F}})(typeof window<"u"?window:this,null),function(F,Q,Pe,Be){"use strict";const{atob:Ut,btoa:It,alert:Tt,prompt:So,confirm:Xo,console:Ft,setTimeout:oa,debugging:To,info:We,RC2:Zn}=Pe,{mS:na,cS:sa,aF:he,oS:uo,lS:ct,sS:Fo,oC:ft}=Be,gn=We.version??We.scriptHandlerVersion??"unknown",Rt=We.scriptHandler,Jn=Ct("setValue"),ot=Ct("getValue"),Vt=Ct("deleteValue"),Qn=Ct("listValues"),lt=Ct("openInTab"),fo=Ct("addElement"),Gt=Ct("registerMenuCommand"),es=Ct("unregisterMenuCommand"),bn=Ct("unsafeWindow"),ts=Ct("contextMode"),n=ca(),qo=ss()||To,se=qo?nt.bind(Ft,"log"):()=>{},Zo=qo?nt.bind(Ft,"info"):()=>{},Y=qo?nt.bind(Ft,"error"):()=>{},xn=qo?nt.bind(Ft,"count"):()=>{},{h:jt,hR:aa,hN:Qt,pN:$n,pT:os,tH:wt,iT:Ye,fS:mt}=fa(),e={count:{clickTimer:0},array:{exps:[],scaleMatrix:[],props:{window:[],element:[],html:[]},values:new Set,iframe:new Set},const:{seed:h(6,"mix"),root:h(6,"char"),raf:Symbol(`\u{10831}${h(8,"hex")}`),caf:Symbol(`\u{10831}${h(8,"hex")}`),dialog:`fr-dialog-${h(8,"hex")}`,cssAttrName:`fr-css-${h(8,"hex")}`,boldAttrName:`fr-bold-${h(8,"date")}`,iframeAttrName:`fr-iframe-${h(8,"hex")}`,regexp:/\b#[\u{1D68A}-\u{1D6A3}\w\u{1D670}-\u{1D689}]+(?=\s)/gu,queryString:"html,head,title,base,meta,style,link,script,noscript,iframe,img,picture,canvas,br,hr,svg,svg *,g,image,object,embed,audio,video,source,track,progress,fr-colorpicker,fr-colorpicker *,fr-configure,fr-configure *,fr-dialogbox,fr-dialogbox *,gb-notice,gb-notice *",flagName:"fr-found-conflict-callback"},var:{curVersion:Io("version")??We.script.version??"2025.08.02.0",scriptName:Io(`name:${ma()}`)??Te("Rm9udCUyMFJlbmRlcmluZw=="),scriptAuthor:Io("author")??We.script.author??Te("Rjl5NG5n"),attachShadow:Element.prototype.attachShadow,getClientRects:Element.prototype.getClientRects,getBoundingClientRect:Element.prototype.getBoundingClientRect,getScreenCTM:SVGGraphicsElement.prototype.getScreenCTM,fillText:CanvasRenderingContext2D.prototype.fillText,strokeText:CanvasRenderingContext2D.prototype.strokeText,stopImmediatePropagation:Event.prototype.stopImmediatePropagation,stopPropagation:Event.prototype.stopPropagation},url:{introURL:Te("aHR0cHMlM0ElMkYlMkZmOXk0bmcubGlrZXMuZmFucyUyRkZvbnQtUmVuZGVyaW5n"),fontlistImg:Te("aHR0cHMlM0ElMkYlMkZvb28uMHgwLm9vbyUyRjIwMjUlMkYwMyUyRjI1JTJGT1NkVVVZLmdpZg=="),loadingImg:Te("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGaW1hZ2VzJTJGbG9hZGluZy5naWY="),Anton:Te("aHR0cHMlM0ElMkYlMkZmb250cy5nc3RhdGljLmNvbSUyRnMlMkZhbnRvbiUyRnYyNSUyRjFQdGdnODdMUk95QW0zS3otQzgud29mZjI="),predefined:Te("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGcmVuZGVyaW5nUnVsZXM="),feedback:Io("supportURL")??We.script.supportURL??Te("aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGRjl5NG5nJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGaXNzdWVz"),homepage:Io("homepageURL")??We.script.homepage??Te("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJG"),prohibit:"challenges.cloudflare.com|m.stripe.network|js.stripe.com"},class:{guide:h(7,"mix"),title:h(8,"char"),rotation:h(7,"char"),emoji:h(7,"mix"),main:h(8,"char"),fontList:h(8,"char"),spanlabel:h(6,"mix"),label:h(6,"mix"),checkbox:h(8,"char"),flex:h(8,"char"),tooltip:h(8,"char"),tooltiptext:h(8,"char"),ps1:h(6,"mix"),ps2:h(6,"mix"),ps3:h(6,"mix"),ps4:h(6,"mix"),ps5:h(6,"mix"),slider:h(8,"char"),frColorPicker:h(9,"char"),readonly:h(8,"mix"),notreadonly:h(8,"mix"),reset:h(7,"mix"),cancel:h(7,"mix"),submit:h(7,"mix"),selector:h(8,"char"),selectFontID:h(8,"char"),close:h(7,"char"),db:h(9,"mix"),dbbc:h(8,"mix"),dbb:h(8,"char"),dbm:h(8,"char"),dbt:h(8,"char"),dbbt:h(7,"mix"),dbbf:h(7,"mix"),dbbn:h(7,"mix"),switcher:h(6,"mix"),anim:h(6,"mix"),range:h(9,"char"),rangeProgress:h(9,"mix")},id:{rndStyle:h(12,"char"),configure:h(12,"char"),dialogbox:h(12,"char"),container:h(10,"char"),field:h(10,"mix"),fontList:h(8,"mix"),fontFace:h(8,"mix"),fontSmooth:h(8,"mix"),fontStroke:h(8,"mix"),fontShadow:h(8,"mix"),shadowColor:h(8,"mix"),fontCss:h(8,"mix"),fontEx:h(8,"mix"),submit:h(8,"char"),fface:h(8,"mix"),smooth:h(8,"mix"),fontSize:h(8,"mix"),fontScale:h(8,"mix"),scale:h(8,"mix"),fviewport:h(8,"char"),fixViewport:h(8,"mix"),strokeSize:h(8,"mix"),stroke:h(8,"mix"),fstroke:h(8,"mix"),fshadow:h(8,"mix"),fixStroke:h(8,"mix"),rdCanvas:h(8,"char"),renderCanvas:h(8,"mix"),lazyload:h(8,"mix"),fixShadow:h(8,"mix"),shadowSize:h(8,"mix"),shadow:h(8,"mix"),color:h(8,"mix"),cssinclued:h(8,"mix"),cssexclude:h(8,"mix"),render:h(8,"char"),mono:h(8,"char"),cm:h(8,"mix"),fi:h(8,"mix"),iscusmono:h(6,"char"),selector:h(8,"char"),cleaner:h(6,"char"),fonttooltip:h(9,"char"),fontName:h(8,"char"),cSwitch:h(6,"mix"),eSwitch:h(6,"mix"),backup:h(8,"char"),files:h(6,"char"),tfiles:h(6,"mix"),db:h(6,"char"),ct:h(6,"char"),isclosetip:h(7,"mix"),bk:h(6,"char"),isbackup:h(7,"mix"),pv:h(6,"char"),ispreview:h(7,"mix"),fs:h(6,"char"),isfontsize:h(7,"mix"),fvp:h(6,"char"),isfixviewport:h(7,"mix"),hk:h(6,"char"),ishotkey:h(7,"mix"),mps:h(6,"char"),maxps:h(7,"mix"),gc:h(6,"char"),globaldisable:h(7,"char"),feedback:h(7,"char"),pdr:h(6,"char"),pdrr:h(7,"mix"),flc:h(6,"char"),flcid:h(7,"mix")}};if(pa(bn))return;class Co{constructor(r){if(Co.instance)return Co.instance;Q.Object.assign(this,{context:r,timerMap:{timeout:{},interval:{}}}),this._registerAnimationFrame(r),["setTimeout","setInterval","clearTimeout","clearInterval"].forEach(g=>this[g]=this[g].bind(this)),Co.instance=this}_registerAnimationFrame(r){const g=he(["ms","moz","webkit","o"]).Find(q=>r[`${q}RequestAnimationFrame`]),H=r.requestAnimationFrame??r[`${g}RequestAnimationFrame`],z=r.cancelAnimationFrame??(r[`${g}CancelAnimationFrame`]||r[`${g}CancelRequestAnimationFrame`]);Q.Object.assign(r,{[e.const.raf]:H,[e.const.caf]:z})}_ticking(r,g,H,...z){let q=performance.now();const xe=Symbol(g),Ie=()=>{const Qe=performance.now();this._setTimerMap(xe,g,Ie),!(Qe-q<(Number(H)||0))&&(typeof r=="function"&&r.apply(null,z),g==="interval"?q=Qe:this.clearTimeout(xe))};return this._setTimerMap(xe,g,Ie),xe}_setTimerMap(r,g,H){this.timerMap[g][r]=this.context[e.const.raf](H)}_clearTimerMap(r,g){this.context[e.const.caf](this.timerMap[g][r]),delete this.timerMap[g][r]}setTimeout(r,g,...H){return this._ticking(r,"timeout",g,...H)}clearTimeout(r){this._clearTimerMap(r,"timeout")}setInterval(r,g,...H){return this._ticking(r,"interval",g,...H)}clearInterval(r){this._clearTimerMap(r,"interval")}}const Eo=new Co(F);class ra{constructor(r=()=>document.documentElement){Q.Object.assign(this,{targetNode:r,result:new Map,callbacks:new Map,isCancelled:!1,observer:null})}async getNodeAndObserve({name:r,callback:g,config:H,timeout:z=1e4}={}){if(typeof g=="function"&&this.callbacks.set(r,g),this.config=H??{childList:!0,subtree:!0,attributes:!0},this.target=this.targetNode(),this.target)return this._observeElement(this.target);try{const q=await Promise.race([this._waitingForTarget(),ht(z,{instant:!0})]);if(q)return this._observeElement(q);throw new Error("Target cannot be found in the current page.")}catch(q){return this.isCancelled=Y(`GetNodeAndObserve${mt}:`,q.message)??!0,this.observer&&(this.observer.disconnect()??(this.observer=null)),this.result}}_waitingForTarget(){return new Promise(r=>{this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(()=>{const g=this.targetNode();!g&&!this.isCancelled||(this.observer.disconnect(),r(g))}),this.observer.observe(document,{childList:!0,subtree:!0})})}_handleCallbacks(r,g,H){for(const[z,q]of this.callbacks)try{this.result.set(z,q({node:r,mutations:g,observer:H})??r)}catch(xe){Y(`Error in callback '${z}':`,xe.message)}}_observeElement(r){return this.result.set(void 0,r)&&this.callbacks.size===0?Promise.resolve(this.result):new Promise(g=>{new MutationObserver((z,q)=>{this._handleCallbacks(r,z,q),g(this.result)}).observe(r,this.config)})}}function Ct(c){return{setValue:typeof GM_setValue<"u"?GM_setValue:GM?.setValue??ct?.setItem.bind(ct),getValue:typeof GM_getValue<"u"?GM_getValue:GM?.getValue??ct?.getItem.bind(ct),deleteValue:typeof GM_deleteValue<"u"?GM_deleteValue:GM?.deleteValue??ct?.removeItem.bind(ct),listValues:typeof GM_listValues<"u"?GM_listValues:GM?.listValues??(()=>[]),openInTab:typeof GM_openInTab<"u"?GM_openInTab:GM?.openInTab??F.open.bind(F),addElement:typeof GM_addElement<"u"?ia.bind(F):vn.bind(F),registerMenuCommand:typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:GM?.registerMenuCommand,unregisterMenuCommand:typeof GM_unregisterMenuCommand<"u"?GM_unregisterMenuCommand:void 0,contextMode:We.injectInto==="content"||We.script["inject-into"]==="content"||["dom","js"].includes(We.sandboxMode),unsafeWindow:typeof unsafeWindow<"u"?unsafeWindow:F}[c]??nt("warn",`Grant 'GM.${c}' is not available.`)??(()=>{})}function nt(c,r,...g){const H={log:["log","%c\u27A4 %c","display:inline-block","font-family:ui-monospace,monospace"],info:["log","%c\u27A4 ","display:inline-block;padding:4px 0"],error:["error","%c\u{1F6A9} ","display:inline-block;font-family:ui-monospace,monospace"],warn:["warn","%c\u{1F6A9} ","display:inline-block;font-family:ui-monospace,monospace"],count:["count","\u27A4 "]},[z,q,xe]=[this??Ft,r??"",H[c]];if(!xe)return z.log(q,...g);const[Ie,Qe,...Wt]=xe;return z[Ie](Qe+q,...Wt,...g)}function ia(...c){try{return Rt==="Tampermonkey"&&typeof c[0]!="string"&&c[0].ownerDocument!==document?vn(...c):GM_addElement(...c)}catch(r){return Y("SafeAddElement:",{...c,e:r.message}),vn(...c)}}function vn(c,r,g){try{return typeof c=="string"&&(g=r||{})&&(r=c)&&(c=(/^(script|style|link|meta)$/i.test(r)?document.head:document.body)||document.documentElement),At(c,Je(r,g))}catch(H){Y("GeneralAddElement:",{...arguments,e:H})}}function ca(){return(navigator.language||Intl.DateTimeFormat().resolvedOptions().locale||"en-US").startsWith("zh")}function y(c,r=document){try{return/^#[\w:.-]+$/.test(c)?r.getElementById(c.slice(1)):r.querySelector(c)}catch{return null}}function Ze(c,r=document){try{return he(r.querySelectorAll(c))}catch{return he([])}}function Je(c,r){const g=document.createElement(c);if(uo.call(r)!=="[object Object]")return g;for(const[H,z]of Object.entries(r))H==="class"?Array.isArray(z)?g.classList.add(...z):g.classList.add(z):["innerHTML","textContent"].includes(H)?g[H]=z:g.setAttribute(H,z);return g}function wn(c){return c?e.var.attachShadow.call(c,{mode:"closed"}):null}function yn(c,r=null){return c?.nodeType!==Node.ELEMENT_NODE?new Proxy(ft(),{get:()=>NaN}):F.getComputedStyle(c,r)}function Jo({range:c,length:r=1,type:g="round"}){const H=F.crypto.getRandomValues(new Uint32Array(Number(r)||1));return he(H,z=>(Math[g]??Math.round)(z/4294967295*(Number(c)||10)))}function He(c,r=Boolean,g=null){return Array.isArray(c)?he(new Set(typeof r=="function"?c.filter(r):c),typeof g=="function"?g:void 0):[]}function yt(c){return typeof c=="symbol"?c.description:String(c)}function mo(c){return c=yt(c??"").toLowerCase(),c.replace(/^\b[a-z]|\s[a-z]/g,r=>r.toUpperCase())}function Dt(c){return c?.nodeName?.toLowerCase()??""}function Kt(c,r=!0){typeof c!="string"&&(c=yt(c));try{const g=r?encodeURIComponent(c):c;return It(g)}catch{return""}}function Te(c,r=!0){if(typeof c!="string")return"";try{const g=Ut(c.replace(/[^A-Za-z0-9+/=]/g,""));return r?decodeURIComponent(g):g}catch{return""}}function*la(c){for(const r of c.flat(1/0))yield r instanceof Node?r:new Text(r)}function At(c,...r){if(!c||!r.length)return;const g={fragment:document.createDocumentFragment(),value:null};for(const H of la(r))(g.value=H)&&g.fragment.appendChild(H);return c.appendChild(g.fragment)&&g.value}function h(c,r,g,H=na,z=sa){return r==="date"?(g=new Date().setHours(20,30,40,50).toString(16),g.padEnd(c,g)):r==="hex"||r==="number"?(g=r==="hex"?16:10,he(Jo({range:g,length:c,type:"floor"}),q=>q.toString(g)).join("")):(g=r==="mix"?H:z,he(Jo({range:g.length,length:c}),(q,xe)=>g===H&&!xe?z[Jo({range:70})]:g[q]).join(""))}function da(){const c={createHTML:q=>q,createScript:q=>q,createScriptURL:q=>q};if(!F.trustedTypes?.createPolicy)return c;const r=F.trustedTypes.createPolicy.bind(F.trustedTypes),g=[{host:"bing.com",policy:"rwflyoutDefault"}],H=F.trustedTypes.defaultPolicy?.name??he(g).Find(q=>Qt.endsWith(q.host))?.policy??"default",z=F.trustedTypes.defaultPolicy??r(H,c);return He([F,bn]).forEach(q=>q.trustedTypes.createPolicy=(xe,Ie)=>xe===H?z:r(xe,Ie)),z}function kn(c){const r=new URL(c?.replace(/^blob:/,"")||"about:blank");return he(e.url.prohibit.split("|")).Some(g=>r.hostname===g||r.pathname.startsWith(g))}function Lo({primary:c=!1,target:r=document}){return c?y(`style#${e.id.rndStyle}`,document.head):Ze("style[id]",r).filter(g=>he(g.attributes).Some(H=>/^fr-css-[0-9a-f]{8}$/.test(H.name)))}function pa(c){if(!Ye&&kn(aa))return!0;const r=()=>{const g=n?`\u{1F6A9} [\u811A\u672C\u5197\u4F59\u8B66\u544A]:\r
\u53D1\u73B0\u5197\u4F59\u5B89\u88C5\u7684\u811A\u672C: "${e.var.scriptName}"\uFF0C\u5982\u5237\u65B0\u540E\u95EE\u9898\u4F9D\u65E7\uFF0C\u8BF7\u8BBF\u95EE ${e.url.feedback}/117 \u6392\u67E5\u9519\u8BEF\u3002`:`\u{1F6A9} [Redundant Warning]:\r
Found Redundant Script: '${e.var.scriptName}', if persists after reloading, please visit ${e.url.feedback}/117 to troubleshoot.`;return Ye&&Gt(`\uFFF8\u{1F6D1} ${n?"\u53D1\u73B0\u5197\u4F59\u5B89\u88C5\u7684\u811A\u672C\uFF0C\u70B9\u51FB\u6392\u67E5\uFF01":"Troubleshoot Redundant"}`,()=>lt(`${e.url.feedback}/117`,!1))&&nt("error",g),!0};if(c["fr-init-once"]===!0)return r();if(ts){if(document.documentElement?.hasAttribute("fr-init-once"))return r();const g=n?`${e.var.scriptName}\u8B66\u544A\r
\u811A\u672C\u7684\u6CE8\u5165\u6A21\u5F0F\u5DF2\u8BBE\u7F6E\u4E3A"content"\uFF0C\u90E8\u5206\u811A\u672C\u529F\u80FD\u5C06\u53D7\u9650\u5236\uFF0C\u5982\u6846\u67B6\u9875\u9762\u5185\u90E8\u5206\u529F\u80FD\u5931\u6548\u3001\u5B57\u4F53\u7F29\u653E\u540E\u65E0\u6CD5\u5168\u5C40\u4FEE\u6B63\u5750\u6807\u7B49\u3002`:`${e.var.scriptName} Warning\r
The injection mode of the script has been set to "content", and some script features will be limited.`;Ye&&nt("warn",g)}(c["fr-init-once"]=!0)&&Q.Object.freeze(e.const)&&ns(document.documentElement)}function Mo(){return ht(500,{useCachedSetTimeout:!0}).then(()=>F.location.reload(!0))}function ns(c){c&&(c.id||(c.id=e.const.root),c.hasAttribute("fr-init-once")||c.setAttribute("fr-init-once",""))}async function ua(){const c=Qe(F),r=await z(`${Rt} ${gn}`);return r?g(r):H(navigator.userAgent);function g(Z){const Ce=Ie(Z.platform),Oe=({brand:at,version:Nt})=>`${/Not[^a-z]*A[^a-z]*Brand/i.test(at)?9:/^Chrom(?:e|ium)|Firefox|Safari$/i.test(at)?5:1}${at}\r${Nt}`,[_e,De]=Z.brands?.map(Oe).sort()[0]?.slice(1).split("\r")??[],Ve={Chrome:"Blink",Chromium:"Blink",Firefox:"Gecko",Safari:"WebKit"},dt=({brand:at,version:Nt})=>/^(Chrom(?:e|ium)|Firefox|Safari)$/i.test(at)&&`${at}\r${Nt}`,[gt,pt]=Z.brands?.map(dt).filter(Boolean)[0]?.split("\r")??[_e,De],Yt={engine:Ve[mo(gt)]??Wt(navigator.userAgent),engineVersion:parseFloat(pt)||99,creditEngine:c},Et={brand:(_e?.split(/\s/)??[]).slice(-1)[0]??"Unknown",brandVersion:xe(De),os:Ce};return{...Yt,...Et,source:Z.source??"uad",voucher:Z.voucher??null}}function H(Z){const Ce=(gt,pt="")=>new RegExp(gt,pt).test(Z),Oe=(gt,pt)=>Ce(gt)&&Z.slice(Z.indexOf(gt)+pt).match(/\d+(\.\d+)*/)?.[0],{brand:_e,brandVersion:De,engine:Ve,engineVersion:dt}=q(Z,Ce,Oe);return{engine:Ve,engineVersion:dt,creditEngine:c,brand:_e,brandVersion:De,os:to(Ce),source:"ua",voucher:null}}async function z(Z){const Ce=({browserName:De,browserVersion:Ve,os:dt,arch:gt})=>{const[pt,Yt]=gt?.split("-")??[];let Et=[{brand:mo(De),version:Ve}];if(parseFloat(Ve)<78&&We.userAgent){const[,at,Nt]=We.userAgent.match(/\s(Chrom(?:e|ium)|Firefox)\/(\d+[.0-9]*)/i)??[];at&&(Et=[{brand:mo(at),version:Nt},...Et])}return{bitness:Yt,architecture:pt,brands:Et,platform:mo(dt),source:"ext",voucher:Z}};if(Z.startsWith("Violentmonkey")&&We.platform)return Ce(We.platform);const Oe=De=>{if(c==="Gecko"&&parseFloat(De.brands[0].version)<78){const[,Ve,dt]=navigator.userAgent.match(/\s(Firefox)\/(\d+[.0-9]*)/i)??[];if(Ve)return{...De,brands:[{brand:mo(Ve),version:dt},...De.brands],source:"ua"}}return{...De,source:"ext",voucher:Z}};if((Z.startsWith("Tampermonkey")||Z.startsWith("ScriptCat"))&&We.userAgentData)return Oe(We.userAgentData);const _e=async De=>await De.getHighEntropyValues(["bitness","architecture","fullVersionList"]).then(Ve=>(Ve.brands=Ve.fullVersionList,delete Ve.fullVersionList,Ve));return navigator.userAgentData?.brands?.[0]?await _e(navigator.userAgentData):null}function q(Z,Ce,Oe){const _e=Wt(Z),De={OPR:{brand:"Opera",engine:"Blink",as:"Chrome"},YaBrowser:{brand:"Yandex",engine:"Blink",as:"Chrome"},Edg:{brand:"Edge",engine:"Blink",as:"Chrome"},Chromium:{brand:"Chromium",engine:"Blink"},Chrome:{brand:"Chrome",engine:"Blink"},LibreWolf:{brand:"LibreWolf",engine:"Gecko",as:"Firefox"},SeaMonkey:{brand:"SeaMonkey",engine:"Gecko",as:"Firefox"},PaleMoon:{brand:"PaleMoon",engine:"Gecko",as:"Firefox"},Waterfox:{brand:"Waterfox",engine:"Gecko",as:"Firefox"},Firefox:{brand:"Firefox",engine:"Gecko"},Konqueror:{brand:"Konqueror",engine:"webkit"},Kindle:{brand:"Kindle",engine:"WebKit",as:"Version"},Safari:{brand:"Safari",engine:"WebKit",as:"Version",verset:["Version"]},Trident:{brand:"IE",engine:"Trident",verset:["MSIE","rv"]},Presto:{brand:"Opera",engine:"Presto"}};for(const[pt,{brand:Yt,engine:Et,verset:at,as:Nt}]of Object.entries(De)){if(!Ce(pt))continue;const en=he(at??[]).Find(Ot=>Ce(Ot))||pt;let Xt=Oe(en,en.length+1);if(!Xt)continue;const ut=Nt||pt,ho=parseFloat(Oe(ut,ut.length+1)||99);return{brand:Yt,brandVersion:xe(Xt),engine:Et,engineVersion:ho}}const{b:Ve,bv:dt,ev:gt}=eo(Z);return{brand:Ve,brandVersion:dt,engine:_e,engineVersion:gt}}function xe(Z){if(!Z)return"0.0.0.0";const Ce=Z.split(".").map(Oe=>parseInt(Oe)||0);for(;Ce.length<4;)Ce.push(0);return Ce.join(".")}function Ie(Z){if(!Z)return"Unknown";const Ce=mo(Z);return/^(Like Mac|Ios)$/.test(Ce)?"iOS":Ce==="Cros"?"Chrome OS":Ce.startsWith("Win")?"Windows":Ce.startsWith("Mac")?"MacOS":Ce==="X11"?"Linux":Ce}function Qe(Z){return Z.GestureEvent?"WebKit":Z.scrollByLines||Z.getDefaultComputedStyle?"Gecko":Z.webkitRequestFileSystem||Z.queryLocalFonts?"Blink":"Unknown"}function Wt(Z){return/Gecko\/|Firefox\/|FxiOS/.test(Z)?"Gecko":/Chrom(?:e|ium)\/|CriOS/.test(Z)?"Blink":/AppleWebKit\/|Version\//.test(Z)?"WebKit":"Unknown"}function eo(Z){const[Ce,Oe]=[Z.lastIndexOf(" ")+1,Z.lastIndexOf("/")];if(Ce===0||Oe===-1||Oe<Ce)return{b:"Unknown",bv:"0.0.0.0",ev:99};const _e=Z.slice(Ce,Oe).trim(),De=xe(Z.slice(Oe+1).match(/\d*\.?\d+/)?.[0]),Ve=parseFloat(Z.match(/(?:Chrom(?:e|ium)|Firefox|Version)\/(\d+[.0-9]*)/i)?.[1]||De||99),dt=!/version|\/|\(|\)|;/i.test(_e)&&De||"0.0.0.0";return{b:_e,bv:dt,ev:Ve}}function to(Z){const Oe=he(["like Mac","Mac","Android","Debian","Ubuntu","Linux","Win","CrOS","X11"]).Find(_e=>Z(_e,"i"))||"Unknown";return Ie(Oe)}}function fa(c){const{host:r,href:g,hostname:H,pathname:z,protocol:q}=F.location,xe=F.self===F.top;try{c=xe?r:F.top.location.host}catch{c=new URL(document.referrer||F.location).host}return{h:r,hR:g,hN:H,pN:z,pT:q,tH:c,iT:xe,fS:xe?"":"[FRAMES]"}}function Io(c){const r=new RegExp(`//\\s+@${c}\\s+(.+)`);return(We.scriptMetaStr||We.scriptSource)?.match(r)?.[1]}function ma(c=navigator.language){return new Set(["zh-CN","zh-TW","en","ja","ko"]).has(c)?c:c.startsWith("zh")?"zh-TW":"en"}function ss(){const c=Te("Rjl5NG5n"),r=new URL(F.location).searchParams.get("whoami");return Object.is(c,r)}function ht(c,{useCachedSetTimeout:r,instant:g}={}){const H=r?oa:Eo.setTimeout,z=new Promise(xe=>{H(xe,c)}),q=xe=>z.then(()=>xe);return q.then=z.then.bind(z),q.catch=z.catch.bind(z),g?z:q}function Ro({fn:c,delay:r,once:g=!1,immed:H=!1}){if(typeof c!="function"||typeof r!="number"||r<0)throw new Error("createDeBounce: Invalid arguments");let z;function q(...xe){const Ie=this,Qe=()=>(c.apply(Ie,xe),z=g||null);if(z!==!0){if(z)Eo.clearTimeout(z);else if(H&&Qe())return;z=Eo.setTimeout(Qe,r)}}return q.setImmediate=xe=>H=!!xe,q}function kt(c,r){return c?(Array.isArray(c)?c:typeof c=="string"?Ze(c,r):c?.nodeType?[c]:[]).every(H=>H.remove()||H.parentNode===null):!1}function st(c,{immediate:r=!0,preventDefault:g=!1}={}){g&&c.preventDefault(),e.var[r?"stopImmediatePropagation":"stopPropagation"].call(c)}function Sn(c){return typeof c!="string"?"":he(c,g=>`\\${("00"+g.charCodeAt(0).toString(16)).slice(-4)}`).join("").toUpperCase()}function Qo(c,r="text/plain"){try{navigator.clipboard.writeText(c)}catch{const H=z=>{z.preventDefault(),z.clipboardData.setData(r,c),document.removeEventListener("copy",H,!0)};document.addEventListener("copy",H,!0),document.execCommand("copy")}}(async function(c,r,g){const[H,z,q,xe]=["_REMOTERENDERRULESDATA_","_CONFIGURE_","_EXCLUDE_SITES_","_FONTS_SET_"],[Ie,Qe,Wt,eo]=["_DOMAINS_FONTS_SET_","_CUSTOM_FONTLIST_","_CUSTOM_PROPERTY_","_MONOSPACED_SITERULES_"],[to,Z,Ce]=["_MONOSPACED_FONTLIST_","_MONOSPACED_FEATURE_","_FONTOVERRIDE_DEF_"],[Oe,_e,De]=["_FONTSCALE_DEF_","_FONTCHECKLIST_","_FR_IS_DISCUZ_"],[Ve,dt,gt]=["documentElement","head","body"].map(d=>new ra(()=>document[d])),{engine:pt,engineVersion:Yt,creditEngine:Et,brand:at,os:Nt,voucher:en}=g=r.parse(g||null)||(Fo?.setItem("_NAVIGATORINFO_",r.stringify(g=await ua())),g),[Xt,ut,ho]=["Blink","Gecko","WebKit"].map(d=>d===Et),Ot=en===null&&(pt!==Et||wa(navigator.userAgentData)),[rt,go]=[["Greasemonkey","Userscripts","FireMonkey","stay"].includes(Rt),Nt==="MacOS"],[_t,Lt]=[96,123].map(d=>et({BLINK:d})),ha=et({WEBKIT:16.4,BLINK:73,GECKO:101,ignore:null}),as=n?`<li class="${e.const.seed}.fixed">\u4F18\u5316 Trusted Types policy \u5904\u7406\u51FD\u6570\u3002</li>
            <li class="${e.const.seed}.fixed">\u4F18\u5316\u6D4F\u89C8\u5668\u7684\u8FDC\u7A0B\u5B57\u4F53\u52A0\u8F7D\u72B6\u6001\u4E0E\u8D85\u65F6\u5904\u7406\u3002</li>
            <li class="${e.const.seed}.fixed">\u9ED8\u8BA4\u81EA\u52A8\u4FEE\u590D\u6240\u6709 Discuz! \u8BBA\u575B\u7684\u5B57\u4F53\u56FE\u6807\u9519\u8BEF\u3002</li>
            <li class="${e.const.seed}.fixed">\u4FEE\u590D\u4E00\u4E9B\u5DF2\u77E5\u7684\u95EE\u9898\uFF0C\u4F18\u5316\u4EE3\u7801\uFF0C\u4F18\u5316\u6837\u5F0F\u3002</li>`:`<li class="${e.const.seed}.fixed">Optimized "Trusted Types policy" handler function.</li>
            <li class="${e.const.seed}.fixed">Optimized the browser's remote fonts loading status & timeout processing.</li>
            <li class="${e.const.seed}.fixed">Fixed font icon issue in Discuz! forums by default.</li>
            <li class="${e.const.seed}.fixed">Fixed some known issues, optimized code & style.</li>`,rs=new Set([{ch:"\u5FAE\u8F6F\u96C5\u9ED1",en:"Microsoft YaHei UI",ps:"MicrosoftYaHeiUI"},{ch:"\u5FAE\u8EDF\u6B63\u9ED1\u9AD4",en:"Microsoft JhengHei",ps:"MicrosoftJhengHeiRegular"},{ch:"\u82F9\u65B9-\u7B80",en:"PingFang SC",ps:"PingFangSC-Regular"},{ch:"\u860B\u65B9-\u7E41",en:"PingFang TC",ps:"PingFangTC-Regular"},{ch:"\u860B\u65B9-\u6E2F",en:"PingFang HK",ps:"PingFangHK-Regular"},{ch:"\u66F4\u7EB1\u9ED1\u4F53 SC",en:"Sarasa Gothic SC",ps:"Sarasa-Gothic-SC-Regular"},{ch:"\u66F4\u7D17\u9ED1\u9AD4 TC",en:"Sarasa Gothic TC",ps:"Sarasa-Gothic-TC-Regular"},{ch:"\u51AC\u9752\u9ED1\u4F53\u7B80",en:"Hiragino Sans GB",ps:"HiraginoSansGB-Regular"},{ch:"\u5170\u4EAD\u9ED1-\u7B80",en:"Lantinghei SC",ps:"FZLTTHK--GBK1-0"},{ch:"OPPO Sans",en:"OPPO Sans",ps:"OPPOSans"},{ch:"\u971E\u9E5C\u6587\u6977",en:"LXGW WenKai",ps:"LXGWWenKai-Regular"},{ch:"\u9E3F\u8499\u9ED1\u4F53",en:"HarmonyOS Sans SC",ps:"HarmonyOS_Sans_SC"},{ch:"\u6D6A\u6F2B\u96C5\u5706",en:"LMYY",ps:"\u6D6A\u6F2B\u96C5\u5706"},{ch:"\u601D\u6E90\u9ED1\u4F53",en:"Source Han Sans SC",ps:"SourceHanSansSC-Regular"},{ch:"\u601D\u6E90\u5B8B\u4F53",en:"Source Han Serif SC",ps:"SourceHanSerifSC-Regular"},{ch:"\u6C49\u4EEA\u65D7\u9ED1",en:"HYQiHei",ps:"HYQiHei-EES"},{ch:"\u6587\u6CC9\u9A7F\u5FAE\u7C73\u9ED1",en:"WenQuanYi Micro Hei",ps:"WenQuanYiMicroHei"},{ch:"\u6587\u6CC9\u9A7F\u6B63\u9ED1",en:"WenQuanYi Zen Hei",ps:"WenQuanYiZenHei"},{ch:"\u65B9\u6B63\u8212\u4F53",en:"FZShuTi",ps:"FZSTK--GBK1-0"},{ch:"\u65B9\u6B63\u59DA\u4F53",en:"FZYaoti",ps:"FZYTK--GBK1-0"},{ch:"\u534E\u6587\u4EFF\u5B8B",en:"STFangsong",ps:"STFangsong"},{ch:"\u534E\u6587\u6977\u4F53",en:"STKaiti",ps:"STKaiti"},{ch:"\u534E\u6587\u7EC6\u9ED1",en:"STXihei",ps:"STXihei"},{ch:"\u534E\u6587\u5F69\u4E91",en:"STCaiyun",ps:"STCaiyun"},{ch:"\u534E\u6587\u7425\u73C0",en:"STHupo",ps:"STHupo"},{ch:"\u534E\u6587\u65B0\u9B4F",en:"STXinwei",ps:"STXinwei"},{ch:"\u534E\u6587\u96B6\u4E66",en:"STLiti",ps:"STLiti"},{ch:"\u534E\u6587\u884C\u6977",en:"STXingkai",ps:"STXingkai"},{ch:"\u96C5\u75DE-\u7B80",en:"Yuppy SC",ps:"YuppySC-Regular"},{ch:"\u5706\u4F53-\u7B80",en:"Yuanti SC",ps:"YuantiSC-Regular"},{ch:"\u624B\u4E66\u4F53",en:"ShouShuti",ps:"ShouShuti"},{ch:"\u5E7C\u5706",en:"YouYuan",ps:"YouYuan"}]),me={fontSelect:ho||!Ot&&go?"'PingFang SC'":"'Microsoft YaHei UI'",fontFace:!0,fontSmooth:!0,fontSize:1,fixViewport:!0,fontStroke:ut?.08:Xt?.015:0,fixStroke:_t,lazyload:!1,fontShadow:ut?.36:.75,fixShadow:!1,renderCanvas:!1,shadowColor:ut?"#70707070":"#7C7C7CDD",fontCSS:":not(i,head *):not(mjx-container *,.katex *):not([class*='glyph']):not([class*='symbols' i]):not([class*='icon' i]):not([class*='fa-']):not([class*='vjs-'])",fontEx:"[class*='watermark' i],.textLayer *,pre,pre *,code,code *"},is={isBackupFunction:!0,isPreview:!1,isFontsize:!1,isFixViewport:!1,isHotkey:!0,isCloseTip:!1,maxPersonalSites:100},cs={...is,rebuild:void 0,curVersion:void 0,globalDisable:!1,isCustomMono:!1},Mt={fontBase:"system-ui,-apple-system,BlinkMacSystemFont,sans-serif",fontEmoji:"'Apple Color Emoji','Segoe UI Emoji','Noto Color Emoji','Android Emoji',EmojiSymbols,'EmojiOne Mozilla','Twemoji Mozilla','Segoe UI Symbol','Noto Color Emoji Compat','Font Awesome 6 Pro','Font Awesome 5 Pro',FontAwesome,emoji,codicon,iconfont,icomoon,IcoFont,bwi-font,fontello,themify,bootstrap-icons,'Segoe Fluent Icons','Material Icons','Material Icons Extended','Material Icons Outlined','Material Icons Round','Material Icons Sharp','Material Icons Two Tone','Google Material Icons','Google Material Icons Filled','Material Symbols Outlined','Material Symbols Round','Material Symbols Rounded','Material Symbols Sharp','Google Symbols'",monospacedFont:"'Operator Mono Lig','Fira Code','Source Code Pro','JetBrains Mono',Inconsolata,Monaco,'Roboto Mono','Ubuntu Mono','Anonymous Pro','Droid Sans Mono',Menlo,Consolas",monospacedFeature:'"liga" 0,"tnum","zero"',editorialSiteList:"image.baidu.com|feishu.cn|github.com|github.dev|github1s.com|docs.google.com|fonts.google.com|mail.google.com|support.google.com|newassets.hcaptcha.com|kdocs.cn|leetcode.cn|leetcode.com|notion.site|notion.so|notion.com|docs.qq.com|weread.qq.com|regex101.com|shimo.im|addon.tencentsuite.com|tool.lu|vscode.dev|wolai.com|wqxuetang.com|xiezuocat.com|note.youdao.com|youtube.com|yuque.com"};e.url.guideURI=`${e.url.feedback}/../wiki/${n?encodeURIComponent("\u5B57\u4F53\u6E32\u67D3\uFF08\u81EA\u7528\u811A\u672C\uFF09"):"Font-Rendering-(Customized)"}`,e.url.installURI=`${e.url.homepage}${n?"index.html#\u5B57\u4F53\u6E32\u67D3\u81EA\u7528\u811A\u672C":"index_en.html#font-rendering-customized"}-font-renderinguserjs`,e.var.style=Q.Object.freeze({main:"display:inline-block;font-family:ui-monospace,monospace",firefox:"input:is([type='text'],[type='password'],[type='search'],[type='email'],[type='tel'],[type='url'],[type='number']),input:not([type]){font-family:serif!important}",frDialog:`:root>#${e.const.dialog}{display:block!important;width:auto!important;height:auto!important;background:0 0!important;opacity:1!important;border-width:0!important;outline:0!important;z-index:2147483647!important}:root>#${e.const.dialog}::backdrop{background:transparent!important}#${e.const.dialog}>fr-colorpicker div{all:revert}@font-face{font-family:Anton;font-style:normal;font-weight:400;font-display:swap;src:local("Impact"),url(${e.url.Anton}) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+0304,U+0308,U+0329,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}`,shared:`:host(fr-dialogbox),:host(fr-configure){position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important;background:0 0!important;pointer-events:none!important;--fr-shared-fontfamily:${me.fontSelect},system-ui,-apple-system,BlinkMacSystemFont,sans-serif;--fr-shared-monospace:ui-monospace,'Operator Mono Lig','JetBrains Mono',monospace,${me.fontSelect},sans-serif;--fr-shared-emoji:system-ui,-apple-system,BlinkMacSystemFont,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji,Android Emoji,mojiSymbol,EmojiOne Mozilla,Twemoji Mozilla,bwi-font;}.${e.const.seed}\\.disp\\:inline\\.block{display:inline-block!important}.${e.const.seed}\\.disp\\:block{display:block!important}.${e.const.seed}\\.disp\\:none{display:none!important}.${e.const.seed}\\.vis\\:visible{visibility:visible!important}.${e.const.seed}\\.vis\\:hidden{visibility:hidden!important}.${e.const.seed}\\.clr\\:8b0000{color:#8b0000!important}.${e.const.seed}\\.clr\\:cecece{color:#cecece!important}.${e.const.seed}\\.clr\\:crimson{color:#dc143c!important}.${e.const.seed}\\.fw\\:700{font-weight:700!important}.${e.const.seed}\\.opac\\:1{opacity:1!important}:is(#${e.id.container},.${e.class.db}) .${e.class.emoji}{text-shadow:1px 1px 2px #4b5b6b!important;vertical-align:2px;font:normal 400 16px/150% var(--fr-shared-emoji)!important}.${e.class.readonly}{background:linear-gradient(45deg,#ffe9e9,#ffe9e9 25%,transparent 0,transparent 50%,#ffe9e9 0,#ffe9e9 75%,transparent 0,transparent)!important;background-color:#fff7f7!important;background-size:50px 50px!important}`,frDialogBox:`:host(#${e.id.dialogbox}){z-index:2147483647}.${e.class.db}{position:absolute;top:calc(12% + 10px);right:20px;z-index:99999;display:block;overflow:hidden;box-sizing:content-box;width:100%;max-width:420px;border:2px solid #efefef;border-radius:6px;background:#fff;box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.3);color:#444;transition:opacity .5s;pointer-events:auto;opacity:0}.${e.class.db} *{text-shadow:0 0 1px #777!important;font-family:var(--fr-shared-fontfamily),var(--fr-shared-emoji)!important;line-height:1.5!important;-webkit-text-stroke:0 transparent!important}.${e.class.db} textarea,.${e.class.db} input{background-color:#fefefe;color:#333}.${e.class.dbt}{display:flex;margin-top:0;padding:10px 15px;width:auto;background:#efefef;text-align:left;font-weight:700;font-size:18px!important;flex-wrap:wrap;justify-content:space-between;align-items:center;align-content:center}.${e.class.dbt},.${e.class.dbt} *{font-weight:700;font-size:20px!important;font-family:Candara,Times,var(--fr-shared-fontfamily)!important}.${e.class.dbm}{display:block;margin:5px;padding:10px;color:#444;text-align:left;font-weight:500;font-size:16px!important}.${e.class.dbb}{display:inline-block;box-sizing:content-box;margin:2px 1%;padding:8px 12px;min-width:12%;border-radius:4px;text-align:center;text-decoration:none!important;letter-spacing:0;font-weight:400;cursor:pointer}.${e.const.seed}\\.gradient\\.bg{background:#e7ffd9;animation:gradient 2s ease-in-out forwards}@keyframes gradient{0%{background:#e7ffd9}to{background:transparent}}.${e.class.db} .${e.class.dbt},.${e.class.db} .${e.class.dbb}{text-shadow:none!important;-webkit-text-stroke:0 transparent!important;-webkit-user-select:none;user-select:none}.${e.class.db} .${e.class.dbb}:hover{box-sizing:content-box;color:#fff;text-decoration:none!important;font-weight:700;opacity:.8}.${e.class.db} .${e.class.dbbf}:hover{box-shadow:0 0 3px #d93223!important}.${e.class.db} .${e.class.dbbf}{border:1px solid #d93223!important;border-radius:6px;background:#d93223!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbt}{border:1px solid #038c5a!important;border-radius:6px;background:#038c5a!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbt}:hover{box-shadow:0 0 3px #038c5a!important}.${e.class.db} .${e.class.dbbn}{border:1px solid #777!important;border-radius:6px;background:#777!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbn}:hover{box-shadow:0 0 3px #777!important}.${e.class.dbbc}{display:block;padding:2.5%;background:#efefef;color:#fff;text-align:right;font-size:initial}.${e.class.dbm} textarea{cursor:auto;overscroll-behavior:contain;scrollbar-color:auto}.${e.class.dbm} textarea::-webkit-scrollbar{width:8px;height:8px}.${e.class.dbm} textarea::-webkit-scrollbar-corner{border-radius:2px;background:#efefef;box-shadow:inset 0 0 3px #aaa}.${e.class.dbm} textarea::-webkit-scrollbar-thumb{border-radius:2px;background:#cfcfcf;box-shadow:inset 0 0 5px #999}.${e.class.dbm} textarea::-webkit-scrollbar-track{border-radius:2px;background:#efefef;box-shadow:inset 0 0 5px #aaa;}.${e.class.dbm} button:hover{background:#f6f6f6!important;box-shadow:0 0 3px #a7a7a7!important;cursor:pointer}.${e.class.dbm} p{margin:5px 0!important;text-align:left;text-indent:0;font-weight:400;font-size:16px;line-height:1.5!important;-webkit-user-select:none;user-select:none}.${e.class.dbm} ul{margin:0 0 0 10px!important;padding:2px;color:#808080;list-style:none;font:italic 400 14px/150% var(--fr-shared-fontfamily)!important;-webkit-user-select:none;user-select:none}.${e.class.dbm} ul::-webkit-scrollbar{width:10px;height:1px}.${e.class.dbm} ul::-webkit-scrollbar-thumb{border-radius:10px;background:#cfcfcf;box-shadow:inset 0 0 5px #999;}.${e.class.dbm} ul::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #aaa}.${e.class.dbm} ul li{display:list-item;list-style-type:none;word-break:break-all}.${e.class.dbm} li:before{display:none}.${e.class.dbm} ul#${e.const.seed}\\.vlist li:hover{background-color:rgba(253, 246, 236, 0.8)!important}#${e.const.seed}\\.temp{padding:18px 8px;text-align:center;color:#555;font-size:14px!important}#${e.id.bk},#${e.id.pv},#${e.id.fs},#${e.id.fvp},#${e.id.hk},#${e.id.ct},#${e.id.mps},#${e.id.pdr},#${e.id.flc},#${e.id.gc},#${e.id.cm},#${e.id.fi}{display:flex;box-sizing:content-box;margin:0;padding:2px 4px!important;width:calc(98% - 10px);height:max-content;min-width:auto;min-height:40px;list-style:none;font-style:normal;justify-content:space-between;align-items:flex-start;word-break:break-word}.${e.class.checkbox}{display:none!important}.${e.class.checkbox}+label{position:relative;display:inline-block;box-sizing:content-box;margin:0 2px 0 0;padding:0;width:76px;height:32px;border-radius:7px;background:#f7836d;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(245, 146, 146, 0.4);white-space:nowrap;cursor:pointer}.${e.class.checkbox}+label::before{position:absolute;top:0;left:0;z-index:99;width:24px;height:32px;border-radius:7px;background:#fff;box-shadow:0 0 1px rgba(0, 0, 0, 0.6);color:#fff;content:' '}.${e.class.checkbox}+label::after{position:absolute;top:0;left:28px;padding:5px;border-radius:100px;color:#fff;content:'OFF';font-weight:700;font-style:normal;font-size:16px}.${e.class.checkbox}:checked+label{margin:0 2px 0 0;background:#67a5df!important;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(146, 196, 245, 0.4);cursor:pointer}.${e.class.checkbox}:checked+label::after{left:10px;content:'ON'}.${e.class.checkbox}:checked+label::before{position:absolute;left:52px;z-index:99;content:' '}#${e.const.seed}\\.monospaced\\.siterules::placeholder,#${e.const.seed}\\.monospaced\\.font::placeholder,#${e.const.seed}\\.monospaced\\.feature::placeholder,#${e.const.seed}\\.custom\\.feature::placeholder,#${e.const.seed}\\.custom\\.variant::placeholder{color:#aaa!important;white-space:pre-line!important;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.VIP{margin:2px 0 0 0;color:#b8860b!important;font:normal 400 16px/150% var(--fr-shared-fontfamily)}.${e.const.seed}\\.VIP>u{all:initial;margin:0 4px 0 0;font:normal 500 16px/150% var(--fr-shared-emoji)!important;color:#b8860b!important}:is(#${e.id.pdr},#${e.id.flc},#${e.id.gc}) button{box-sizing:border-box!important;margin:0 5px 0 0!important;padding:5px!important;border:1px solid #999!important;border-radius:4px!important;background-color:#eee;color:#444!important;letter-spacing:normal!important;font-weight:400!important;font-size:14px!important}.${e.class.dbm} a{color:#0969da;text-decoration:none!important;font-style:inherit}.${e.class.dbm} a:hover{color:#dc143c;text-decoration:underline}#${e.id.feedback}{box-sizing:content-box;margin:0;padding:2px 10px;width:max-content;height:22px;min-width:auto;font-style:normal;font-size:16px;cursor:pointer}.${e.class.dbm} #${e.id.files}{display:none}#${e.id.feedback}:hover{color:#dc143c!important}#${e.id.feedback}:after{width:0;height:0;background:url('${e.url.loadingImg}') no-repeat -400px -300px;content:""}#${e.id.pdrr},#${e.id.flcid}{width:max-content;height:max-content;min-width:70px;min-height:32px}#${e.id.maxps}{box-sizing:border-box;padding:4px 5px;width:70px;min-width:70px;border:2px solid #b8860b;border-radius:4px;background:#efefef;color:#333;text-align:center;font:normal 400 16px/150% 'Anton',Times,serif!important}.${e.class.dbm} ul.${e.class.main}{overflow-x:hidden;box-sizing:content-box;margin:0;padding:5px 0;max-height:255px;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.globaldisable}{width:max-content;height:max-content;min-width:70px;min-height:32px}#${e.const.seed}\\.del\\.sitedata{box-sizing:border-box;margin-left:15px;padding:3px 5px;width:max-content;height:max-content;max-width:120px;min-height:30px;border:1px solid #777;border-radius:4px;background-color:#eee;color:#333!important;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.sitedatalist>span{margin:0;padding:0 2px;color:#3e3e3e;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.save\\.sitedata{color:#4b0082;cursor:help;word-break:break-all}p.${e.const.seed}\\.exclusion{font:italic 700 24px/150% Candara,Times!important;word-break:break-all}#${e.const.seed}\\.sdata{box-sizing:content-box;margin:4px 6px;padding:2px 6px;width:57%;height:22px;outline:none!important;border:2px solid #777;border-radius:4px;font:normal 400 16px/150% var(--fr-shared-monospace)!important}#${e.const.seed}\\.sdata\\:search{box-sizing:border-box;margin:0;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#333!important;outline:none!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.sdata\\:clear{box-sizing:border-box;margin:0 0 0 4px;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#333!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.vlist{overflow-x:hidden;margin:0!important;padding:0!important;max-height:190px;list-style:none!important;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.sdata\\:add{box-sizing:border-box;margin:0 0 0 4px;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#8b0000!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.vlist li[id^='${e.const.seed}.vlist.item:']{display:flex;overflow:hidden;margin:0;padding:5px;max-width:364px;color:#555;list-style:none;white-space:nowrap;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important;justify-content:space-between}#${e.const.seed}\\.vlist span.${e.const.seed}\\.domainlist{overflow:hidden;margin-right:auto;padding-left:5px;width:85%;text-overflow:ellipsis;font-weight:700;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.vlist span.${e.const.seed}\\.customdomain{overflow:hidden;margin-left:5px;width:57%;text-overflow:ellipsis;font-weight:700;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.vlist a[id^='${e.const.seed}.vlist.item.link:']{padding:2px;background:0 0;color:#8b0000;font-size:14px!important;cursor:pointer}#${e.const.seed}\\.exSite\\.add{font:italic 700 24px/150% Candara,Times!important;word-break:break-all}#${e.const.seed}\\.custom\\.fontlist,#${e.const.seed}\\.fontoverride\\.defarray,#${e.const.seed}\\.fontscale\\.defjson{box-sizing:content-box;margin:0 0 4px 0;padding:5px;max-width:372px;min-width:372px;min-height:160px;max-height:457px;outline:0;border:1px solid #999;border-radius:6px;white-space:pre;font:normal 400 14px/150% var(--fr-shared-monospace)!important;resize:vertical;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.warning\\.chn{display:block;margin:-7px 0 0 -7px!important;height:max-content;color:#dc143c;font-size:14px!important}#${e.const.seed}\\.warning\\.en{display:block;margin:-5px 0 0 0!important;height:max-content;color:#dc143c;font-size:14px!important}#${e.const.seed}\\.monospaced\\.siterules{box-sizing:border-box;margin:0!important;padding:5px!important;max-width:388px!important;min-width:388px!important;min-height:140px!important;max-height:256px;outline:0!important;border:1px solid #999;border-radius:6px;white-space:pre;font:normal 400 14px/150% var(--fr-shared-monospace)!important;resize:vertical;overscroll-behavior:contain;scrollbar-color:auto;word-break:keep-all!important}#${e.const.seed}\\.monospaced\\.font,#${e.const.seed}\\.monospaced\\.feature,#${e.const.seed}\\.custom\\.feature,#${e.const.seed}\\.custom\\.variant{box-sizing:border-box;padding:5px;width:380px;outline:0!important;border:1px solid #999;border-radius:6px;font:normal 400 14px/150% var(--fr-shared-monospace)!important}.${e.class.dbm} p:is(.${e.const.seed}\\.mono\\.notify,.${e.const.seed}\\.fontfeature,.${e.const.seed}\\.fontvariant){display:block;margin-top:10px!important;color:#555;font-size:14px!important}#${e.id.cm},#${e.id.fi}{margin:0 0 8px;width:97%!important;border-bottom:1px groove #ccc}.${e.class.dbm} span.${e.const.seed}\\.cusmono{margin:2px 0 0 0;color:#555!important;font-weight:700!important;user-select:none;-webkit-user-select:none}#${e.const.seed}\\.kbd{display:inline-block;box-sizing:content-box;margin:4px 0 0;padding:3px 10px;width:94%;border:1px solid rgba(175, 184, 193, 0.4);border-radius:6px;background-color:#f6f8fa;color:#666;vertical-align:middle;text-align:center;font-size:14px!important}.${e.const.seed}\\.clr\\:808080{color:#808080!important}.${e.const.seed}\\.fst\\:nml{font-style:normal!important}.${e.const.seed}\\.fst\\:ita{font-style:italic!important}.${e.const.seed}\\.fs\\:20p{font-size:20px!important}.${e.const.seed}\\.save\\:p{display:flex;height:30px;align-items:center}.${e.const.seed}\\.mh\\:22p{min-height:22px}.${e.const.seed}\\.indent\\:6p{text-indent:6px!important}.${e.const.seed}\\.mgr\\:5p{margin:0 5px 0 0}.${e.const.seed}\\.pd\\:0{padding:0}.${e.const.seed}\\.fs\\:14p{font-size:14px!important}.${e.const.seed}\\.fs\\:11p{font-size:11px!important}.${e.const.seed}\\.cs\\:pointer{cursor:pointer}.${e.const.seed}\\.wrap\\.break{word-wrap:break-word;word-break:break-all!important}.${e.const.seed}\\.clr\\:indigo{color:#4b0082!important}.${e.const.seed}\\.clr\\:green{color:#006400!important}.${e.const.seed}\\.clr\\:555{color:#555!important}.${e.const.seed}\\.fs\\:12p{font-size:12px!important}.${e.const.seed}\\.clr\\:tan{color:#d2b48c!important}.${e.const.seed}\\.clr\\:708090{color:#708090!important}.${e.const.seed}\\.clr\\:ff7f50{color:#ff7f50!important}.${e.const.seed}\\.list\\:p{display:flex;justify-content:left;align-items:center}.${e.const.seed}\\.mg\\:05p{margin:0 5px}.${e.const.seed}\\.clr\\:ff6347{color:#ff6347!important}.${e.const.seed}\\.v\\.en{padding:0px 4px;font:italic 700 20px/130% Candara,Times New Roman!important}.${e.const.seed}\\.v\\.cn{padding:4px;font:italic 700 22px/150% Candara,Times!important}.${e.const.seed}\\.hi\\.cn{font:italic 700 22px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.hi\\.en{font:normal 700 20px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.pd\\:4p{padding:4px}.${e.const.seed}\\.lh\\:180{line-height:180%!important}.${e.const.seed}\\.clr\\:b8860b{color:#b8860b!important}.${e.const.seed}\\.tal\\:center{text-align:center!important}.${e.const.seed}\\.cps{padding-bottom:6px;font-size:18px!important}.${e.const.seed}\\.cpsa{display:inline-block;overflow:hidden;width:302px;height:237px;border:2px solid #b8860b;border-radius:8px;background:url('${e.url.loadingImg}') 50% 50% no-repeat}.${e.const.seed}\\.clr\\:ff0000{border-color:#ff0000!important}.${e.const.seed}\\.clr\\:ff8c00{border-color:#ff8c00!important}.${e.const.seed}\\.input\\.pdb\\:5px{padding-bottom:5px;width:98%;}.${e.const.seed}\\.bd\\:crimson{border:2px solid #dc143c!important}.${e.const.seed}\\.list\\.reset{text-decoration:line-through;font-style:italic}#${e.const.seed}\\.report\\:author{overflow-y:auto;margin:0!important;padding:0!important;max-height:300px;list-style-position:outside}#${e.const.seed}\\.report\\:author li{padding:2px}#${e.const.seed}\\.custom\\.fontlist::placeholder{color:#aaa!important;white-space:pre-line!important;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important;word-break:break-all!important}#${e.const.seed}\\.update li{margin:0;padding:1px 4px;color:#808080;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important}#${e.const.seed}\\.update .${e.const.seed}\\.added{list-style-type:'\uFF0B'}#${e.const.seed}\\.update .${e.const.seed}\\.removed{list-style-type:'\uFF0D'}#${e.const.seed}\\.update .${e.const.seed}\\.fixed{list-style-type:'\uFF20'}#${e.const.seed}\\.update .${e.const.seed}\\.info{color:#daa520;word-break:break-word;list-style-type:'\u266F'}#${e.const.seed}\\.update .${e.const.seed}\\.warn{color:#e90000;word-break:break-word;list-style-type:'\u2718'}#${e.const.seed}\\.update .${e.const.seed}\\.init{color:#65a16a;word-break:break-word;list-style-type:'\u2691'}.${e.class.dbm} input:focus,.${e.class.dbm} textarea:focus{box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.1),0 0 4px rgba(110, 111, 112, 0.6)!important}@-moz-document url-prefix() {.${e.class.dbm} textarea,.${e.class.dbm} ul,#${e.const.seed}\\.custom\\.fontlist,#${e.const.seed}\\.monospaced\\.siterules,#${e.const.seed}\\.fontoverride\\.defarray,#${e.const.seed}\\.fontscale\\.defjson{scrollbar-color:rgba(187, 187, 187, 0.73) rgba(238, 238, 238, 0.07);scrollbar-width:thin}}`,frConfigure:`:host(#${e.id.configure}){z-index:2147483645}#${e.id.container}{position:absolute;top:10px;right:24px;z-index:99999;overflow-x:hidden;overflow-y:auto;display:block;box-sizing:content-box;padding:4px;max-height:calc(100% - 40px);min-height:10%;border-radius:12px;background:#f0f6ff!important;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.3);color:#333;text-align:left;font-weight:700;font-size:16px!important;opacity:0;transition:opacity .5s;width:auto;overscroll-behavior:contain;pointer-events:auto;scrollbar-color:auto}#${e.id.container}::-webkit-scrollbar{width:10px;height:1px}#${e.id.container}::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 5px #67a5df}#${e.id.container}::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #67a5df}#${e.id.container} *{text-shadow:none!important;font-weight:700;font-size:16px;font-family:var(--fr-shared-fontfamily),var(--fr-shared-emoji)!important;line-height:1.5!important;-webkit-text-stroke:0 transparent!important}#${e.id.container} fieldset{display:block;margin:2px;padding:4px 6px;width:auto;height:auto;min-height:475px;border:2px groove #67a5df!important;border-radius:10px;background:#f0f6ff!important}#${e.id.container} legend{position:relative!important;float:none!important;display:block!important;visibility:visible!important;box-sizing:content-box;margin:0;padding:0 32px 0 8px;width:auto!important;height:auto!important;border:none!important;background:#f0f6ff!important;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.container} fieldset ul{margin:0;padding:0;background:#f0f6ff!important}#${e.id.container} ul li{float:none;display:block;box-sizing:content-box;margin:3px 0;min-width:-webkit-fill-available;min-width:-moz-available;border:none;background:#f0f6ff!important;list-style:none;cursor:default;-webkit-user-select:none;user-select:none}#${e.id.container} ul li:before{display:none}#${e.id.container} .${e.class.rotation} svg{visibility:visible!important;overflow:hidden;width:24px;height:24px;vertical-align:initial!important;fill:#67a5df}#${e.id.container} .${e.class.rotation} svg:hover{cursor:help}#${e.const.seed}\\.scriptname{display:inline-block;margin:0 4px 0 0;vertical-align:bottom;overflow:hidden;min-width:130px;max-width:225px;text-overflow:ellipsis;white-space:nowrap;font-weight:700!important;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.scriptname:hover{cursor:help}#${e.id.container} .${e.class.title} .${e.class.guide}{position:absolute;display:inline-block;cursor:pointer}@keyframes rotation{0%{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(1turn)}}.${e.class.title} .${e.class.rotation}{position:relative;display:inline-block;top:auto;right:auto;bottom:auto;left:auto;margin:0;padding:0;width:24px;height:24px;-webkit-transform:rotate(1turn);transform-origin:center 50% 0;animation:rotation 6s linear infinite}#${e.id.container} input:not([type='range'],[type='checkbox']):focus,#${e.id.container} textarea:focus{box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.1),0 0 6px rgba(82, 168, 236, 0.6)!important}#${e.id.fontList}{padding:2px 10px 0;min-height:73px}#${e.id.fontFace},#${e.id.fontSmooth}{display:flex!important;padding:2px 10px;width:calc(100% - 18px);height:40px;min-width:auto;align-items:center;justify-content:space-between}#${e.id.fontSize}{padding:2px 10px;height:60px}#${e.id.fontStroke}{padding:2px 10px;height:60px}#${e.id.fontShadow}{padding:2px 10px;height:60px}#${e.id.container} #${e.id.shadowColor}{display:flex;padding:2px 10px;width:auto;min-height:45px;align-items:center;justify-content:space-around;flex-wrap:nowrap;flex-direction:row}#${e.id.fontCss},#${e.id.fontEx}{padding:2px 10px;height:110px;min-height:110px;min-width:254px!important}#${e.id.submit}{padding:2px 10px;height:40px;display:flex!important}#${e.id.fontList} .${e.class.selector} a{text-decoration:none;font-weight:400}#${e.id.fontList} .${e.class.label}{display:inline-block;margin:-1px 4px 5px 0;padding:0;height:34px;line-height:100%!important}#${e.id.fontList} .${e.class.label} span{display:inline-block;overflow:hidden;box-sizing:border-box;padding:5px;width:max-content;height:max-content;max-width:200px;min-width:12px;background:#67a5df;color:#fff;text-overflow:ellipsis;white-space:nowrap;font-weight:400;font-size:16px!important}#${e.id.fontList} .${e.class.close}:hover{border-radius:2px;background-color:#2d7dca;color:#ff6347}#${e.id.fontList} .${e.class.close}{width:12px}#${e.id.fontList} .${e.class.selector}{overflow-x:hidden;box-sizing:border-box;margin:0 0 6px 0;padding:6px 0 0 6px;width:100%;max-width:254px;max-height:90px;min-width:100%;min-height:45px;border:2px solid #67a5df!important;border-radius:6px;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.selector}{width:100%;max-width:100%;display:none}#${e.id.selector} label{display:block;margin:0 0 4px;color:#333;cursor:auto}#${e.id.cleaner}{margin-left:5px;cursor:pointer}#${e.id.cleaner}:hover{color:#dc143c}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontList} .${e.class.selectFontID} span.${e.class.spanlabel},#${e.id.selector} span.${e.class.spanlabel}{display:block!important;margin:0!important;padding:0 0 4px;width:auto;border:0;background-color:transparent!important;color:#333;text-align:left!important}#${e.id.fontList} .${e.class.selectFontID}{width:auto}#${e.id.fontList} .${e.class.selectFontID} input{overflow:hidden;box-sizing:border-box;margin:0;padding:1px 4px 1px 0px;width:230px;height:42px;max-width:100%;min-width:100%;outline:none;border:2px solid #67a5df;border-radius:6px;background:#fafafa;text-indent:8px;text-overflow:ellipsis;color:#333;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.fontList} .${e.class.selectFontID} input[disabled]{pointer-events:none!important}#${e.id.fontList} input[disabled]::placeholder{color:#444a!important}#${e.id.fontList} .${e.class.selectFontID} input:focus:not(:placeholder-shown)~span{display:none}#${e.id.fontList} .${e.class.selectFontID} input::-webkit-search-cancel-button{margin:auto 4px;cursor:pointer}#${e.id.fontList} .${e.class.selectFontID} dl{display:none;position:absolute;z-index:1000;overflow-x:hidden;box-sizing:content-box;margin:4px 0 0;padding:4px 8px;width:auto;max-width:calc(100% - 68px);max-height:298px;min-width:60%;border:2px solid #67a5df!important;border-radius:6px;background-color:#fff;white-space:nowrap;font-size:18px!important;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.fontoverride\\.def:hover,#${e.const.seed}\\.fontscale\\.def:hover{cursor:help;color:#8b0000}#${e.const.seed}\\.search::placeholder{color:#3699!important;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar{width:10px;height:1px}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 5px #67a5df}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #67a5df}#${e.id.fontList} .${e.class.selectFontID} dl dd{display:block;overflow-x:hidden;box-sizing:content-box;margin:1px 8px;padding:5px 0;width:-moz-available;width:-webkit-fill-available;max-width:100%;min-width:100%;text-overflow:ellipsis;font-weight:400;font-size:21px!important}#${e.id.fontList} .${e.class.selectFontID} dl dd:hover{overflow-x:hidden;box-sizing:content-box;min-width:-moz-available;min-width:-webkit-fill-available;background-color:#67a5df;color:#fff;text-overflow:ellipsis}.${e.class.checkbox}{display:none!important}.${e.class.checkbox}+label{position:relative;display:inline-block;box-sizing:content-box;margin:0 2px 0 0;padding:0;width:76px;height:32px;border-radius:7px;background:#f7836d;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(245, 146, 146, 0.4);white-space:nowrap;cursor:pointer}.${e.class.checkbox}+label::before{position:absolute;top:0;left:0;z-index:99;width:24px;height:32px;border-radius:7px;background:#fff;box-shadow:0 0 1px rgba(0, 0, 0, 0.6);color:#fff;content:" "}.${e.class.checkbox}+label::after{position:absolute;top:0;left:28px;padding:5px;border-radius:100px;color:#fff;content:"OFF";font-weight:700;font-style:normal;font-size:16px}.${e.class.checkbox}:checked+label{margin:0 2px 0 0;background:#67a5df!important;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(146, 196, 245, 0.4);cursor:pointer}.${e.class.checkbox}:checked+label::after{left:10px;content:"ON"}.${e.class.checkbox}:checked+label::before{position:absolute;left:52px;z-index:99;content:" "}#${e.id.fface} label,#${e.id.fface}+label::after,#${e.id.fface}+label::before,#${e.id.smooth} label,#${e.id.smooth}+label::after,#${e.id.smooth}+label::before{-webkit-transition:all .3s ease-in;transition:all .3s ease-in}#${e.id.fontShadow} div.${e.class.flex}:before,#${e.id.fontShadow} div.${e.class.flex}:after,#${e.id.fontStroke} div.${e.class.flex}:before,#${e.id.fontStroke} div.${e.class.flex}:after,#${e.id.fontSize} div.${e.class.flex}:before,#${e.id.fontSize} div.${e.class.flex}:after{display:none}#${e.id.shadowSize},#${e.id.strokeSize},#${e.id.fontScale}{box-sizing:content-box;margin:0 10px 0 0!important;padding:0;width:56px!important;height:32px!important;outline:none!important;border:2px solid #67a5df!important;border-radius:4px;background:#fafafa!important;color:#111!important;text-align:center;text-indent:0;font-weight:400!important;font-size:17px!important;font-family:'Anton',Times,serif!important}#${e.id.fontScale}[disabled]{background-color:rgba(228, 231, 237, 0.82)!important;color:#555!important;filter:grayscale(.9)}#${e.id.fviewport},#${e.id.fstroke},#${e.id.rdCanvas}{visibility:visible;width:auto;color:#666;font-size:12px!important}#${e.id.fviewport}>label,#${e.id.fstroke}>label,#${e.id.rdCanvas}>label{float:none!important;display:inline!important;margin:0!important;padding:0 4px 0 2px!important;color:#666!important;font-size:12px!important;cursor:help!important}#${e.id.fixViewport},#${e.id.fixStroke},#${e.id.renderCanvas}{display:inline-block;margin:0 2px 0 0!important;width:14px!important;height:14px!important;vertical-align:text-bottom;cursor:pointer;-webkit-appearance:none!important}#${e.id.fixViewport}:checked::after,#${e.id.fixStroke}:checked::after,#${e.id.renderCanvas}:checked::after{border:0!important;background-color:#65a0db;color:#fff;content:"\u2713";font-weight:700;font-size:12px;line-height:14px}.${e.class.flex}{display:flex;width:auto;min-width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;flex-direction:row}.${e.class.slider} input{visibility:hidden}#${e.id.fixViewport}::after,#${e.id.fixStroke}::after,#${e.id.renderCanvas}::after{position:relative;top:0;display:inline-block;margin:0;padding:0;width:14px;height:14px;border-radius:3px;background-color:#aaa;color:#fff;content:"\u2717";vertical-align:top;text-align:center;font-weight:700;font-size:10px;line-height:14px}#${e.id.shadowColor} .${e.class.frColorPicker} #${e.id.color}{box-sizing:border-box;margin:0;padding:0 8px 0 0;min-width:160px;max-width:160px;height:35px!important;outline:none!important;border:2px solid #67a5df!important;border-radius:4px;background:rgba(253, 253, 255, 0.69);color:#333!important;text-align:center;text-indent:0;font-weight:400!important;font-size:18px!important;font-family:'Anton',Times,serif!important;cursor:pointer}#${e.id.fontCss} textarea,#${e.id.fontEx} textarea{display:block;box-sizing:border-box;margin:0;padding:5px;width:calc(100% - 2px)!important;height:78px;max-width:calc(100% - 2px);max-height:78px;min-width:calc(100% - 2px);min-height:78px;outline:none!important;border:2px solid #67a5df!important;border-radius:6px;scrollbar-color:auto;color:#0b5b9c!important;font:normal 600 14px/150% var(--fr-shared-monospace)!important;resize:none;cursor:auto;word-break:break-all;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.fontCss} textarea::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontCss} textarea::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontCss} textarea::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.2)}#${e.id.fontEx} textarea{background:#fafafa!important}#${e.id.fontEx} textarea::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontEx} textarea::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontEx} textarea::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px #67a5df}.${e.class.switcher}{float:right;box-sizing:border-box;margin:-2px 4px 0 0;padding:0 6px;border:2px double #67a5df;border-radius:4px;color:#0a68c1;}#${e.id.fontCss} textarea::placeholder,#${e.id.fontEx} textarea::placeholder{color:#555;font:italic 500 14px/150% var(--fr-shared-fontfamily)!important;opacity:.85}#${e.id.cSwitch}:hover,#${e.id.eSwitch}:hover{cursor:pointer;-webkit-user-select:none;user-select:none}.${e.class.notreadonly}{background:linear-gradient(45deg,#e9ffe9,#e9ffe9 25%,transparent 0,transparent 50%,#e9ffe9 0,#e9ffe9 75%,transparent 0,transparent)!important;background-color:#f7fff7!important;background-size:50px 50px}#${e.id.submit} button{box-sizing:border-box;margin:0;padding:5px 10px;width:auto;height:35px;min-width:min-content;min-height:35px;border:2px solid #6ba7e0;border-radius:6px;background-color:#67a5df;background-image:none;color:#fff!important;font:normal 600 14px/150% var(--fr-shared-fontfamily)!important;cursor:pointer}#${e.id.submit} button:hover{box-shadow:0 0 5px rgba(4, 47, 100, 0.35)!important}#${e.id.submit} .${e.class.cancel},#${e.id.submit} .${e.class.reset}{margin-right:6px}#${e.id.submit} .${e.class.submit}{margin-left:auto}#${e.id.backup}{display:none}.${e.class.anim}{border:2px solid #dc143c!important;background:#dc143c!important;animation:jiggle 1.8s ease-in infinite}@keyframes jiggle{48%,62%{transform:scale(1,1)}50%{transform:scale(1.1,.9)}56%{transform:scale(.9,1.1) translate(0,-5px)}59%{transform:scale(1,1) translate(0,-3px)}}.${e.class.tooltip}{position:relative;padding:0;cursor:help;-webkit-user-select:none;user-select:none}.${e.class.tooltip}:active .${e.class.tooltip}{display:block}.${e.const.seed}\\.mgl\\:-5p{margin:0 0 0 -5px}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} *{font-size:14px}.${e.class.tooltip} .${e.class.tooltip}{position:absolute;z-index:999999;display:none;box-sizing:content-box;padding:10px 10px 0 10px;width:234px;max-width:234px;border:2px solid #b8c4ce;border-radius:6px;background-color:#54a2ec;color:#fff;font-weight:400;opacity:.92;word-break:break-all}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} em{font-style:normal}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} strong{color:#ff8c00;font-size:18px}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} p{display:block;margin:0 0 10px;color:#fff;text-indent:0;line-height:150%}.${e.class.ps1}{position:relative;top:-33px;right:3px;float:right;margin:0;padding:0;width:24px;height:0}.${e.class.ps2}{top:35px;right:-7px}.${e.class.ps3},.${e.class.ps4},.${e.class.ps5}{bottom:30px;left:auto}#${e.id.fshadow}{visibility:hidden;margin-top:5px;position:absolute;z-index:999;box-sizing:content-box;padding:10px;width:234px;max-width:234px;border:2px solid #67a5df;border-radius:6px;background-color:#f0f6ff;color:#333;opacity:.92;left:21px}#${e.id.fshadow} .${e.const.seed}\\.fix\\.label{display:flex;align-items:center;justify-content:space-around}#${e.id.fshadow} .${e.const.seed}\\.fix\\.text{padding:5px;font-size:12px;font-weight:400;line-height:170%!important;color:#808287;word-break:break-all}.${e.const.seed}\\.mg\\:0\\.pd\\:0{margin:0;padding:0}.${e.const.seed}\\.checkbox{height:32px;align-self:center}.${e.const.seed}\\.ft\\:gs1{filter:grayscale(1)!important}.${e.const.seed}\\.mg\\:0-3p\\.pd\\:0{margin:0 -3px;padding:0}.${e.const.seed}\\.mgb\\:6p{margin:0 0 6px 0}.${e.const.seed}\\.bdlr\\:4px{border-top-left-radius:4px;border-bottom-left-radius:4px}.${e.const.seed}\\.bdrr\\:4px{border-top-right-radius:4px;border-bottom-right-radius:4px}.${e.const.seed}\\.usel\\:none{user-select:none!important}.${e.const.seed}\\.h\\:35p\\.mh\\:35p{height:35px!important;min-height:35px!important}.${e.const.seed}\\.prvw{background-color:#ff7f50!important;border-color:#ff7f50!important}.${e.const.seed}\\.input\\.color{background-position:left top,left top!important;background-size:var(--fr-input-gb-size,"auto,35px 16px")!important;background-repeat:repeat-y,repeat-y!important;background-origin:padding-box,padding-box!important;background-image:linear-gradient(90deg,var(--fr-input-color) 0,var(--fr-input-color) var(--fr-input-color-edge,35px),transparent var(--fr-input-color-edge2,36px),transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAAAXNSR0IArs4c6QAAAFNJREFUSEtjnDlz5n8GPODs2bP4pBmMjY3xypOin3HUMUhhiRyyoyGDnMhGQwZXlhu8IZOWloa3nKFmOYItdJDLIcZRxyAF0WjI4MpNoyEz5EIGAMmNh+nDrPy/AAAAAElFTkSuQmCC")!important;padding-left:var(--fr-input-padding-left,43px)!important}#${e.id.fontList} .${e.class.selectFontID} dl>dt{all:initial;display:none;padding:8px;border-radius:4px;border:1px solid #e51111;background:#e51111;word-break:break-all;color:#efea11;font-size:15px;cursor:progress}@-moz-document url-prefix() {#${e.id.fontList} .${e.class.label}{margin:-1px 0 4px 0}#${e.id.fontList} .${e.class.selectFontID} input{padding:1px 24px 1px 0px!important}#${e.id.fontList} .${e.class.selectFontID} input:focus:not(:placeholder-shown){padding:1px 8px 1px 0px!important}#${e.id.container},#${e.id.fontList} .${e.class.selector},#${e.id.fontList} .${e.class.selectFontID} dl,#${e.id.fontCss} textarea,#${e.id.fontEx} textarea{scrollbar-color:#487baf #f1f0f0;scrollbar-width:thin}}`,frSlider:`:host(.${e.class.range}){--primary-color:#67a5df;--value-offset-y:var(--ticks-gap);--value-active-color:#fff;--value-background:transparent;--value-background-hover:var(--primary-color);--value-font:italic 700 14px/14px ui-monospace,Consolas,monospace;--fill-color:var(--primary-color);--progress-background:#dfdfdf;--progress-radius:20px;--show-min-max:none;--track-height:calc(var(--thumb-size) / 2);--min-max-font:12px serif;--min-max-opacity:0.5;--min-max-x-offset:10%;--thumb-size:22px;--thumb-color:#fff;--thumb-shadow:0 0 3px rgba(0, 0, 0, 0.4),0 0 1px rgba(0, 0, 0, 0.5) inset,0 0 0 99px var(--thumb-color) inset;--thumb-shadow-active:0 0 0 calc(var(--thumb-size) / 4) inset var(--thumb-color),0 0 0 99px var(--primary-color) inset,0 0 3px rgba(0, 0, 0, 0.4);--thumb-shadow-hover:0 0 0 calc(var(--thumb-size) / 4) inset var(--thumb-color),0 0 0 99px #ff8c00 inset,0 0 3px rgba(0, 0, 0, 0.4);--ticks-thickness:1px;--ticks-height:5px;--ticks-gap:var(--ticks-height, 0);--ticks-color:transparent;--ticks-count:(var(--max) - var(--min))/var(--step);--maxTicksAllowed:1000;--too-many-ticks:Min(1, Max(var(--ticks-count) - var(--maxTicksAllowed), 0));--x-step:Max(var(--step), var(--too-many-ticks) * (var(--max) - var(--min)));--tickIntervalPerc_1:Calc((var(--max) - var(--min)) / var(--x-step));--tickIntervalPerc:calc((100% - var(--thumb-size)) / var(--tickIntervalPerc_1) * var(--tickEvery, 1));--value-a:Clamp(var(--min), var(--value, 0), var(--max));--value-b:var(--value, 0);--text-value-a:var(--text-value, "");--completed-a:calc((var(--value-a) - var(--min)) / (var(--max) - var(--min)) * 100);--completed-b:calc((var(--value-b) - var(--min)) / (var(--max) - var(--min)) * 100);width:auto;min-width:105%!important;margin:-3px 0 0 -7px;box-sizing:content-box;display:inline-block;height:Max(var(--track-height),var(--thumb-size));background:linear-gradient(to right,var(--ticks-color) var(--ticks-thickness),transparent 1px) repeat-x;background-color:transparent;background-size:var(--tickIntervalPerc) var(--ticks-height);background-position-x:calc(var(--thumb-size)/ 2 - var(--ticks-thickness)/ 2);background-position-y:var(--flip-y,bottom);padding-bottom:var(--flip-y,var(--ticks-gap));padding-top:calc(var(--flip-y) * var(--ticks-gap));position:relative;z-index:1;--ca:Min(var(--completed-a), var(--completed-b));--cb:Max(var(--completed-a), var(--completed-b));--thumbs-too-close:Clamp(-1, 1000 * (Min(1, Max(var(--cb) - var(--ca) - 5, -1)) + 0.001), 1);--thumb-close-to-min:Min(1, Max(var(--ca) - 5, 0));--thumb-close-to-max:Min(1, Max(95 - var(--cb), 0))}:host(.${e.class.range}[disabled]){filter:grayscale(0.9);}:host(.${e.class.range}[data-ticks-position=top]){--flip-y:1}:host(.${e.class.range}::after),:host(.${e.class.range}::before){--offset:calc(var(--thumb-size) / 2);content:counter(x);display:var(--show-min-max,block);font:var(--min-max-font);position:absolute;bottom:var(--flip-y,-2.5ch);top:calc(-2.5ch * var(--flip-y));opacity:Clamp(0,var(--at-edge),var(--min-max-opacity));transform:translateX(calc(var(--min-max-x-offset) * var(--before,-1) * -1)) scale(var(--at-edge));pointer-events:none}:host(.${e.class.range}::before){--before:1;--at-edge:var(--thumb-close-to-min);counter-reset:x var(--min);left:var(--offset)}:host(.${e.class.range}::after){--at-edge:var(--thumb-close-to-max);counter-reset:x var(--max);right:var(--offset)}.${e.class.rangeProgress}{--start-end:calc(var(--thumb-size) / 2);--clip-end:calc(100% - (var(--cb)) * 1%);--clip-start:calc(var(--ca) * 1%);--clip:inset(-20px var(--clip-end) -20px var(--clip-start));position:absolute;left:var(--start-end);right:var(--start-end);top:calc(var(--ticks-gap) * var(--flip-y,0) + var(--thumb-size)/ 2 - var(--track-height)/ 2);height:calc(var(--track-height));background:var(--progress-background,#eee);pointer-events:none;z-index:-1;border-radius:var(--progress-radius)}.${e.class.rangeProgress}::before{content:"";position:absolute;left:0;right:0;clip-path:var(--clip);top:0;bottom:0;background:var(--fill-color,#000);box-shadow:var(--progress-flll-shadow);z-index:1;border-radius:inherit}.${e.class.rangeProgress}::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:var(--progress-shadow);pointer-events:none;border-radius:inherit}:host(.${e.class.range})>input:only-of-type~.${e.class.rangeProgress}{--clip-start:0}:host(.${e.class.range})>input::-webkit-slider-runnable-track{background:transparent!important;box-shadow:none!important;border:none!important}:host(.${e.class.range})>input{-webkit-appearance:none;box-shadow:none!important;width:100%;height:var(--thumb-size)!important;margin:0!important;padding:0!important;position:absolute!important;left:0;top:calc(50% - Max(var(--track-height),var(--thumb-size))/ 2 + calc(var(--ticks-gap)/ 2 * var(--flip-y,-1)))!important;border:0!important;cursor:grab;outline:0!important;background:0 0!important;--thumb-shadow:var(--thumb-shadow-active)}:host(.${e.class.range})>input:not(:only-of-type){pointer-events:none}:host(.${e.class.range})>input::-webkit-slider-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input::-moz-range-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input::-ms-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input:hover{--thumb-shadow:var(--thumb-shadow-active)}:host(.${e.class.range})>input:hover+output{--value-background:var(--value-background-hover);--y-offset:-1px;color:var(--value-active-color);box-shadow:0 0 0 3px var(--value-background)}:host(.${e.class.range})>input:active{--thumb-shadow:var(--thumb-shadow-hover);cursor:grabbing;z-index:2}:host(.${e.class.range})>input:active+output{transition:0s;opacity:0.9;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;-moz-box-orient:horizontal;-moz-box-pack:center;-moz-box-align:center}:host(.${e.class.range})>input:nth-of-type(1){--is-left-most:Clamp(0, (var(--value-a) - var(--value-b)) * 99999, 1)}:host(.${e.class.range})>input:nth-of-type(1)+output{--value:var(--value-a);--x-offset:calc(var(--completed-a) * -1%)})}:host(.${e.class.range})>input:nth-of-type(1)+output:not(:only-of-type){--flip:calc(var(--thumbs-too-close) * -1)}:host(.${e.class.range})>input:nth-of-type(1)+output::after{content:var(--prefix, "") var(--text-value-a) var(--suffix, "")}:host(.${e.class.range})>input:nth-of-type(2){--is-left-most:Clamp(0, (var(--value-b) - var(--value-a)) * 99999, 1)}:host(.${e.class.range})>input:nth-of-type(2)+output{--value:var(--value-b)}:host(.${e.class.range})>input+output::after{content:var(--prefix, "") var(--text-value-b) var(--suffix, "");font:var(--value-font)}:host(.${e.class.range})>input+output{--flip:-1;--x-offset:calc(var(--completed-b) * -1%);--pos:calc(((var(--value) - var(--min)) / (var(--max) - var(--min))) * 100%);pointer-events:none;width:auto;min-width:40px;height:24px;min-height:24px;text-align:center;position:absolute;z-index:5;background:var(--value-background);border-radius:4px;padding:0 6px;left:var(--pos);transform:translate(var(--x-offset),calc(150% * var(--flip) - (var(--y-offset,0) + var(--value-offset-y)) * var(--flip)));transition:all .12s ease-out,left 0s;opacity:0;box-sizing:content-box}`});const ls=d=>`:host(${d}){display:block!important;visibility:visible!important;opacity:1!important}`,tn=(d,s)=>`${e.var.style.main};background-color:${d};color:${s};border-radius:4px;padding:4px 8px`,Tn=d=>`${e.var.style.main};background-color:${d};color:#fffafa;border-radius:4px 0 0 4px;padding:4px 2px 4px 8px`,Fn=d=>`${e.var.style.main};background-color:${d};color:#fffafa;border-radius:0 4px 4px 0;padding:4px 8px 4px 4px;margin:0 0 0 -2px`,ds=d=>`${e.var.style.main};color:${d};padding:4px 0;line-height:120%`,ga=String(ls("fr-dialogbox")+e.var.style.shared+e.var.style.frDialogBox);class Do{constructor(){if(Do.instance)return Do.instance;Q.Object.assign(this,{functionsToRun:[],finalFunctionsToRun:[],isRegistered:!1}),this._registerEventListeners(),document.addEventListener("readystatechange",()=>void this._checkDocumentReadyState()),Do.instance=this}_runFunctions(s,l,f="[DOM.STATE]"){let[E,j]=[0,0];for(const{fn:Le,args:Ae}of s)try{Le.apply(null,Ae),E++}catch{j++}this._logReadyState(l,f,E,j,document.readyState)}_registerEventListeners(){if(this.isRegistered)return;const s=()=>this._runFunctions(this.finalFunctionsToRun,"#008080","[WIN.ONLOAD]"),l=(...f)=>this._runFunctions(this.functionsToRun,...f);if(rt){const f=F.onload;F.onload=typeof f=="function"?()=>(s(),f()):s}else document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>l("#6a5acd")):F.addEventListener("load",()=>l("#4682b4","[WIN.LOADED]"));this.isRegistered=!0}_checkDocumentReadyState(){!this.isRegistered||document.readyState!=="complete"||this._runFunctions(rt?this.functionsToRun:this.finalFunctionsToRun,"#008000")}_logReadyState(s,l,...f){const E=[Tn(s),Fn(s),"display:block;height:0",ds("0"),ds("#a9a9a9")];Zo(`%c${l}:%c${f}!%c\r
%c \u3000\u27A6${mt} ${Qt} %c${$n}`,...E)}addFn(s,...l){typeof s=="function"&&this.functionsToRun.push({fn:s,args:l})}addFinalFn(s,...l){typeof s=="function"&&this.finalFunctionsToRun.push({fn:s,args:l})}}class J{constructor({titleText:s="Test",messageText:l="Test message.",trueButtonText:f="OK",falseButtonText:E=null,neutralButtonText:j=null}={}){Q.Object.assign(this,{cssText:ga,titleText:s,messageText:l,trueButtonText:f,falseButtonText:E,neutralButtonText:j}),Q.Object.assign(this,{hasFalse:E!==null,hasNeutral:j!==null,parent:document.documentElement}),this._create(this),this._append()}static closure(){return kt(`#${e.id.dialogbox}`)}static setShadowStyle(s,l,f,E=!0){const Le=ha&&s.adoptedStyleSheets?(Ae,St,zt,ke=!0)=>xa(Ae,ba(zt,St),ke):(Ae,St,zt,ke=!0)=>$a(Ae,St,zt,ke);return(J.setShadowStyle=Le)(s,l,f,E)}_create(s){this.container=Je("fr-dialogbox",{id:e.id.dialogbox});const l=e.var.dialogIf=wn(this.container);J.setShadowStyle(l,this.cssText,`${e.const.seed}-dialogbox`,!1),this.frDialog=Je("fr-box",{class:e.class.db}),At(l,this.frDialog);const f=Je("fr-title",{class:e.class.dbt,innerHTML:c.createHTML(this.titleText)}),E=Je("fr-message",{class:e.class.dbm,innerHTML:c.createHTML(this.messageText)}),j=Je("fr-buttons",{class:e.class.dbbc});At(this.frDialog,f,E,j),this.trueButton=Je("button",{class:[e.class.dbb,e.class.dbbt],textContent:this.trueButtonText}),this.trueButton.addEventListener("click",()=>void s._destroy()),At(j,this.trueButton),this.hasFalse&&(this.falseButton=Je("button",{class:[e.class.dbb,e.class.dbbf],textContent:this.falseButtonText}),this.falseButton.addEventListener("click",()=>void s._destroy()),At(j,this.falseButton)),this.hasNeutral&&(this.neutralButton=Je("button",{class:[e.class.dbb,e.class.dbbn],textContent:this.neutralButtonText}),this.neutralButton.addEventListener("click",()=>void s._destroy()),At(j,this.neutralButton))}_append(){Ye&&this.container&&J.closure()&&(this.root=ps(this.container,this.parent),ht(200).then(()=>this.frDialog.classList.add(`${e.const.seed}.opac:1`)))}_destroy(){this.container&&(this.frDialog.classList.remove(`${e.const.seed}.opac:1`),kt(this.container)&&!y("fr-configure")&&us(this.root))}async respond(){return new Promise((s,l)=>{(!this.frDialog||!this.trueButton)&&l(new Error("FrDialogBox Error!")),this.trueButton.addEventListener("click",()=>void s(!0)),this.hasFalse&&this.falseButton.addEventListener("click",()=>void s(!1))}).catch(s=>void Y("FrDialogBox:",s.message))}}function ps(d,s){const l=Lo({primary:!0})?{}:{style:"width:100%;height:100%;background:none;outline:0;border-width:0"},f=y(`dialog#${e.const.dialog}`)??fo(s,"dialog",{...l,id:e.const.dialog});return f instanceof Node&&(At(f,d),f.hasAttribute("open")&&f.close?.(),f.inert=!0,f.showModal?.(),f.removeAttribute("inert"),f.focus()),f}function us(d){return d?.close?.(),document.removeEventListener("blur",st,!0),kt(d||`dialog#${e.const.dialog}`)}function et({WEBKIT:d=NaN,BLINK:s=NaN,GECKO:l=NaN,ignore:f=!0,more:E=!0}={}){if(Ot)return!1;const j=Le=>E?Yt>=Le:Yt<Le;return ho&&j(d)||Xt&&j(s)||ut&&j(l)&&(f||!rt&&!ts)}function ba(d,s){const l=new CSSStyleSheet;return l.id=d,l.replaceSync(s),l}function xa(d,s,l){try{const f=he(d.adoptedStyleSheets).FindIndex(E=>E.id===s.id);~f?l&&!va(d.adoptedStyleSheets[f],s)&&(d.adoptedStyleSheets[f]=s):d.adoptedStyleSheets.push(s)}catch(f){Y("updateAdoptedStyleSheets:",f.message)}}function $a(d,s,l,f){try{const E=y(`style#${l}`,d);s?E?f&&E.textContent!==s&&(E.textContent=s):fo(d,"style",{id:l,media:"screen",type:"text/css",textContent:s}):kt(E)}catch(E){Y("updateInlineStyle:",E.message)}}function va(d,s){if(!d||!s)return!1;const[l,f]=[he(d.cssRules),he(s.cssRules)];return l.length===f.length&&l.every((E,j)=>E.cssText===f[j].cssText)}function wa(d){return Xt?F.isSecureContext&&!d||d&&yt(d)!=="[object NavigatorUAData]":!1}function ya(d){const[s,l]=e.array.scaleMatrix=d.slice(-2);return{prev:s||1,cur:l||1}}function Ao({target:d,id:s,cssText:l,overwrite:f=!1}){if(!d||!s||!l)return!1;const E=Lo({target:d});if(f)E.forEach(j=>(j.dataset.frRemoved=!0)&&kt(j));else if(E.length)return!0;return!!fo(d,"style",{id:s,media:"screen",type:"text/css",textContent:l,[e.const.cssAttrName]:f})}class ka{constructor(s){this.d=he(s).reduce((l,f)=>l+f.charCodeAt(0),""),[this.s,this.c,this.u]=[Math.floor(this.d.length/5),Math.ceil(s.length/2),Math.pow(2,31)-1],this.m=parseInt(this.d[this.s]+this.d[this.s*2]+this.d[this.s*3]+this.d[this.s*4]+this.d[this.s*5])}encrypt(s){if(this.m<2||!s)return"";let l=Jo({range:1e9})[0]%1e8,[f,E]=[this.d+l,""];for(;f.length>10;)f=(parseInt(f.slice(0,10))+parseInt(f.slice(10))).toString();f=(this.m*f+this.c)%this.u;for(let j=0,Le=s.length;j<Le;j++){let Ae=parseInt(s.charCodeAt(j)^Math.floor(f/this.u*255));(E+=Ae.toString(16).padStart(2,"0"))&&(f=(this.m*f+this.c)%this.u)}return E+l.toString(16).padStart(8,"0")}decrypt(s){if(this.m<2||!s)return"";const l=parseInt(s.slice(-8),16);s=s.slice(0,-8);let[f,E]=[this.d+l,""];for(;f.length>10;)f=(parseInt(f.slice(0,10))+parseInt(f.slice(10))).toString();f=(this.m*f+this.c)%this.u;for(let j=0,Le=s.length;j<Le;j+=2){let Ae=parseInt(parseInt(s.slice(j,j+2),16)^Math.floor(f/this.u*255));(E+=String.fromCharCode(Ae))&&(f=(this.m*f+this.c)%this.u)}return decodeURIComponent(E)}}function Sa(d,s){const l=Kt(yt(s)),f=URL.createObjectURL(new Blob([l],{type:"text/plain;charset=utf-8"}));Je("a",{href:f,download:d}).click(),URL.revokeObjectURL(f)}function fs({cur:d,prev:s=1,props:l}){if(!Ye&&(et({BLINK:128})||et({GECKO:126,more:null})))return;const f=[{objs:[MouseEvent.prototype],props:["clientX","clientY","pageX","pageY","layerX","layerY","offsetX","offsetY","screenX","screenY","x","y"]},{objs:[F,bn],props:["pageXOffset","pageYOffset","scrollX","scrollY",...l.window]},{objs:[Element.prototype],props:["scrollLeft","scrollTop",...l.element]},{objs:[HTMLElement.prototype],props:[...l.html]}],[E,j]=[d/s,To&&new Set],Le=({objs:Ee,props:Ue})=>{const[ze,Me]=[He(Ee),He(Ue)];ze.forEach(oo=>void Me.forEach(no=>void Ae(oo,no,Reflect.getOwnPropertyDescriptor(oo,no))))};Q.Object.assign(F,{frDOMRects:{toggle:et({BLINK:128})||ut,cur:d,prev:s}});try{f.forEach(Le),Xt&&St(SVGGraphicsElement.prototype),F.frDOMRects.toggle&&zt(Element.prototype),se(`[FONTSCALE]${mt} %O Done!`,j||"Adjust")}catch(Ee){Y("AdjustCoordinateOffset:",Ee)}function Ae(Ee,Ue,ze){try{if(typeof ze?.get!="function")return;const Me=["scrollLeft","scrollTop"].includes(Ue),oo=Me?HTMLHtmlElement.prototype:Ee,no=Me?d:E,En={configurable:!0,enumerable:!0,get(){return ze.get.call(this)/no},...Me&&{set(Pt){typeof Pt!="number"||isNaN(Pt)||(Ue==="scrollLeft"&&this.scrollTo(Pt*d,0),Ue==="scrollTop"&&this.scrollTo(0,Pt*d))}}};Reflect.defineProperty(oo,Ue,En),To&&j.add({obj:uo.call(oo),prop:Ue})}catch(Me){Y(`Error defining property "${Ue}":`,Me.message)}}function St(Ee){Reflect.defineProperty(Ee,"getScreenCTM",{value:function(){const Ue=e.var.getScreenCTM.call(this),ze=this.ownerSVGElement?.createSVGMatrix()??document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return Q.Object.assign(ze,...["a","b","c","d","e","f"].map(Me=>({[Me]:Ue[Me]/d}))),ze}}),To&&j.add({obj:uo.call(Ee),prop:"getScreenCTM()"})}function zt(Ee){Reflect.defineProperty(Ee,"getClientRects",{value:Bt}),Reflect.defineProperty(Ee,"getBoundingClientRect",{value:Oo}),To&&j.add({obj:uo.call(Ee),prop:"getDOMRects"})}function ke(Ee){return new Proxy(Ee,{get:(Ue,ze)=>{const Me=Reflect.get(Ue,ze);return typeof Me=="number"?Me/d:Me}})}function Bt(){const Ee=e.var.getClientRects.call(this),Ue=he(Ee,ze=>DOMRect.fromRect(ke(ze)));return Ue.item=ze=>Ue[ze]??null,Ue[Symbol.iterator]=function*(){for(let Me=0;Me<this.length;Me++)yield this[Me]},Q.Object.freeze(Ue)}function Oo(){const Ee=e.var.getBoundingClientRect.call(this);return DOMRect.fromRect(ke(Ee))}}const bt={value:(d,s)=>({data:d,expired:Date.now()+(typeof s=="number"?s:6048e5)}),set:(d,...s)=>void Jn(d,Kt(r.stringify(bt.value(...s)))),get:async d=>{try{const s=await ot(d);if(!s)return;const l=Date.now(),{data:f,expired:E}=r.parse(Te(s));return se("cache Remaining: %c%s hrs","color:#dc143c;font-weight:700",((E-l)/36e5).toFixed(2)),f&&E>l?f:bt.remove(d)}catch{return bt.remove(d)}},remove:d=>void Vt(d)};class No{constructor(){Q.Object.assign(this,{canvasWidth:200,canvasHeight:100,fontSize:80,fontText:"Aa\u554A",originFont:"'Courier New',Courier,monospace",detectFontData:null}),this.canvasContext=this._createCanvasContext(),this.originFontData=this._checkFont(this.originFont)}static checkCanvasFingerprintProtection(){const s=Je("canvas").getContext("2d"),{data:l}=(s.fillStyle="#000",s.fillRect(0,0,50,50),s.getImageData(0,0,50,50)),f=(E,j)=>E[j]!==0||E[j+1]!==0||E[j+2]!==0||E[j+3]!==255;for(let E=0;E<l.length;E+=4)if(f(l,E))return No.checkCanvasFingerprintProtection=()=>!0,!0;return No.checkCanvasFingerprintProtection=()=>!1,!1}_createCanvasContext(){const s=Je("canvas");Q.Object.assign(s,{width:this.canvasWidth,height:this.canvasHeight});const l=s.getContext("2d",{willReadFrequently:!0});return Q.Object.assign(l,{frFontFace:!0,fillStyle:"#000",textAlign:"center",textBaseline:"middle"}),l}_checkFont(s){try{this.canvasContext.clearRect(0,0,this.canvasWidth,this.canvasHeight);const l=this.originFont.toUpperCase()===s.toUpperCase()?this.originFont:`'${s}',${this.originFont}`;this.canvasContext.font=`${this.fontSize}px ${l}`,this.canvasContext.fillText(this.fontText,this.canvasWidth/2,this.canvasHeight/2);const{data:f}=this.canvasContext.getImageData(0,0,this.canvasWidth,this.canvasHeight),{actualBoundingBoxLeft:E,actualBoundingBoxRight:j}=this.canvasContext.measureText(this.fontText);return{fontData:he(f).filter(Boolean).join(),fontWidth:E+j}}catch(l){Y("FontFaceSetObserver.checkFont:",l.message)}}_unescape(s){return s.replace(/\\[\dA-F]{4}/g,l=>String.fromCharCode(parseInt(l.substr(1),16)))}destroy(){this.canvasContext=this.detectFontData=this.originFontData=null}detect(s){if(typeof s!="string"||!s)return!1;if(this.originFont.toUpperCase().includes(s.toUpperCase()))return!0;if(this.detectFontData=this._checkFont(s),!this.detectFontData)return!1;const l=this.originFontData.fontData!==this.detectFontData.fontData&&this.originFontData.fontWidth!==this.detectFontData.fontWidth;return l&&se("detect Fonts: <Detected>",{data:this.detectFontData,font:this._unescape(s)}),l}}function bo(d){if(!Array.isArray(d))return[];const s=new Map;return d.reduce((l,f)=>{if(!f)return l;if(s.has(f.ch)||s.has(f.en)){const E=s.get(f.ch)||s.get(f.en);f.ps&&l[E]&&!l[E].ps&&(l[E]=f)}else l.push(f)&&[f.ch,f.en].forEach(E=>E&&s.set(E,l.length-1));return l},[])}async function Cn(d=rs){try{const s=await ot(Qe),l=s?r.parse(Te(s)):[];return bo([...d,...l])}catch(s){return Y("GetMergedFontCheckList:",s.message)??[...d]}}function Ta(d,s){const l=new Set;return he(s).forEach(f=>(l.add(f.en),l.add(f.ch))),he(d).filter(f=>!l.has(f.en)&&!l.has(f.ch))}function on(d,s=jt){return he(d).FindIndex(l=>l.domain===s)}function Fa(d){const s=l=>typeof l!="string"?[]:l.startsWith("*")?new RegExp(`^[a-z0-9][-a-z0-9]{0,62}${l.slice(1).replace(/\./g,"\\.")}(\\:\\d{2,5})?$`):l;return he(d.flatMap(s)).FindIndex(l=>l instanceof RegExp&&l.test(jt)||l===jt)}function pe(d,s){try{Fo?.removeItem(e.const.flagName),Jn(d,Kt(r.stringify(s)))}catch(l){Y("SaveData:",l.message)}}function Ke(d){return typeof d!="string"?"":Je("fr-safeInner",{innerHTML:c.createHTML(d.replace(/expression\([^)]*\)|url\(.*?\)|\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}|`|{|}/gi,""))}).textContent.trim().replace(/(\s*,\s*)+$/,"")}function Ca(d){return he(d.split("|")).Some(s=>Qt.endsWith(s))}function ms(d,s){return e.array.scaleMatrix.push(e.var.curScale=d&&s>=.8&&s<=2.5?s:me.fontSize),Number(e.var.curScale).toFixed(3)}function Ea(d){return Array.isArray(d)?d.reduce((s,l)=>{if(typeof l!="string")return s;const f=l.match(/^{([^{}]+)}$/);return s.concat([f?Sn(f[1]):l])},[]):[]}async function La(){const d=await Ve.getNodeAndObserve().then(s=>s.get().id);return!Ye&&(et({BLINK:130,more:null})||rt)||!d?":root ":`:root#${d} `}async function hs(){try{const d=await fetch(`${e.url.predefined}?${h(32,"hex")}`);if(!d.ok)throw new Error(`Network response was not ok. Status: ${d.status}`);const s=await d.text();return se(`Pull predefined data: %c${s?"Succeeded":"Failed"} (${s?.length??0})`,`color:${s?"#008000":"#dc143c"}`),s}catch(d){Y("Pull predefined data: %c%s","color:#dc143c",d.message)}}function Ma(d,s){if(!d)return s;try{const l=([E])=>E.includes(Qt)||String(E)==="ALL"||he(E).Some(j=>j.startsWith("*")&&Qt.endsWith(j.slice(1))),f=he(r.parse(r.parse(Te(d)))).Find(l);if(!(e.var.apply=!!f))return s;for(const[E,j]of Object.entries(f[1])){if(!j||!(E in s))continue;const[Le,Ae]=j.split("\u222F",2);Le==="+"?!s[E].includes(Ae)&&(s[E]+=`${Ae}`):Le==="-"?s[E]=s[E].replace(new RegExp(Ae.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),""):Le==="@"?s[E]=!!Number(Ae):Le==="#"&&(s[E]=Ae)}}catch(l){Y("ApplyPredefinedRenderConfig:",l.message)}return s}(async function(d,s,l,f,E,j,Le,Ae){const{code:St,callback:zt}=d(),ke=new ka(St);if(!Zn||!Vn()?.inspect?.())return Ye&&zt(e.url.installURI);const Bt=new Do,Oo=await Promise.all([La(),Le(),s(),f(),l(),Ae()]),[Ee,Ue,ze,{exSitesIndex:Me},{monoSiteRules:oo,monoFontList:no,monoFeature:En},{fontFeature:Pt,fontVariant:nn}]=Oo,{maxPersonalSites:_o,isBackupFunction:gs,isPreview:zo,isFontsize:xt,isHotkey:so,isFixViewport:qt,isCloseTip:Ia,isCustomMono:sn,rebuild:Ln,curVersion:an,globalDisable:Mn}=ze,k=await E(xt,qt),xo=n?"\u7F51\u7AD9\u9ED8\u8BA4\u5B57\u4F53":"Website Font",bs=`${Pt?`--fr-font-feature:${Pt};`:""}${nn?`--fr-font-variant:${nn};`:""}`,In=k.o.fontSelect?.replace(/["']/g,"").split(",")??[],ao=In[1]??In[0]??"",[ro,xs]=[!!k.o.fontFace,!!k.o.fontSmooth],Ra=ro?"font-family:var(--fr-font-family),var(--fr-font-basefont),var(--fr-font-emoji);":"",Da=ro&&ao?await Ys(In,ao,Ue):"",rn=ms(!~Me&&xt,parseFloat(k.o.fontSize)),Aa=Number(rn)!==1?Xs(rn):"",$s=`font-feature-settings:var(--fr-font-feature,unset);font-variant:var(--fr-font-variant,unset);text-rendering:var(--fr-render-text,unset);shape-rendering:var(--fr-render-shape,unset);image-rendering:var(--fr-render-image,unset);font-optical-sizing:auto;font-kerning:auto;${ut&&go?"-moz-osx-font-smoothing:grayscale;":""}${!Ot&&go?"-webkit-font-smoothing:antialiased;":""}`,Na=xs?$s:"",[Rn,$o]=[parseFloat(k.o.fontStroke),parseFloat(k.o.fontShadow)],vo=Rn>0&&Rn<=1?"-webkit-text-stroke:var(--fr-font-stroke);":"",Oa=`${vo?Rn:0}px currentcolor`,Dn=String(k.o.shadowColor)||me.shadowColor,cn=o=>/^#F{8}|currentcolor$/i.test(o)?"currentcolor":o.toUpperCase(),vs=o=>/^currentcolor$/i.test(o)?"#FFFFFFFF":o,ln=$o>0&&$o<=4?"text-shadow:var(--fr-font-shadow);":"",_a=qs($o,Dn),An=`${ln?"text-shadow:none!important;":""}${vo?"-webkit-text-stroke:var(--fr-no-stroke, 0px transparent)!important;":""}`,[ws,Bo]=[String(k.o.fontCSS),String(k.o.fontEx)],za=`:is(:not(${Bo}))::-moz-selection{color:currentcolor!important;background:rgba(30, 190, 227, 0.29)!important;-webkit-text-fill-color:currentcolor!important;${An}}`,Ba=`:is(:not(${Bo}))::selection{color:#fff!important;background:#3367d1!important;-webkit-text-fill-color:#fff!important;${An}}`,ys=vo?ut?za:Ba:"",Pa=Bo&&(ln||vo)?`${Ee}:is(${Bo}){${An}}`:"",[Ha,Ua]=[!1,!0].map(o=>Zs(Bo,ro,sn,o)),Va=Lt&&k.o.fixShadow?"text-shadow:var(--fr-fix-shadow)!important;":"",Nn=`[${e.const.boldAttrName}],.${e.const.boldAttrName}`,ks=o=>`${Nn}{-webkit-text-stroke:var(--fr-fix-stroke)!important;${o??""}}`,Ss=_t&&k.o.fixStroke?ks(Va):"",Ts=!ro&&!xs&&!ln&&!vo&&Number(rn)===1,Fs=o=>o==="true"||!o&&/;?\s*\w+_last(?:visi|ac)t=\d{10}(?:;|%)/.test(document.cookie)&&!ct?.setItem(De,!0),Cs=Fs(ct?.getItem(De))?":not([class^='ico_'],[class^='comiis_'],[class^='notice_'],[class^='prompt_'])":"",Ga=`${Da}${Aa}${Ee}::placeholder,${Ee}:is(${ws}${Cs}){${Ra}}${Ee}:is(${ws}){${ln}${vo}${Na}}${ys}${Pa}${Ha}${Ss}`,io=!~Me&&!Ts,Es=`0 0 ${$o}px ${Dn.toLowerCase().slice(0,7).concat("2b")}`,ja=ut&ro&&Fs(ct?.getItem(De))?e.var.style.firefox:"",[Po,On,Ka]=[!!sn,!!k.o.isEditorBlock,CSS.supports("(color:color-mix(in srgb, tan, red))")],Ls=Po&&Ka?"--fr-mono-shadowcolor:color-mix(in srgb, rgba(69, 69, 70, 0.05) 75%, currentcolor 25%);":"",Ms=Po?`--fr-mono-font:${no||Mt.monospacedFont};`:"",Is=Po?"--fr-mono-shadow:0 0 0 var(--fr-mono-shadowcolor, currentcolor);":"",Rs=Po?`--fr-mono-feature:${En||Mt.monospacedFeature};`:"",Ds=Po?"--fr-mono-fallback:ui-monospace,'Courier New','Liberation Mono',Courier;":"",Wa=k.o.renderCanvas?"--fr-render-shape:geometricPrecision;":"",Ya=`:root{--fr-font-basefont:${Mt.fontBase};--fr-font-emoji:${Mt.fontEmoji};${bs}--fr-font-fontscale:${rn};--fr-font-family:${k.o.fontSelect};--fr-font-shadow:${_a};--fr-font-stroke:${Oa};--fr-no-stroke:0px transparent;--fr-fix-stroke:var(--fr-no-stroke);--fr-fix-shadow:${Es};--fr-render-text:optimizeLegibility;${Wa}--fr-render-image:auto;${Ms}${Ds}${Ls}${Is}${Rs}}`,co=`@charset "UTF-8";${Ye?e.var.style.frDialog:""}${io?`${Ya}${ja}${Ga}`:""}`,_n=On?`disabled title="${n?"\u5DF2\u5728\u7279\u5B9A/\u56FE\u6587/\u7F16\u8F91\u7C7B\u7F51\u7AD9\u7981\u7528\uFF08\u8BF7\u4F7F\u7528\u6D4F\u89C8\u5668\u7F29\u653E\u66FF\u4EE3\uFF09":"Disabled in specific/graphic/editorial website (Please use browser zoom instead)"}" `:"",Xa=n?'<label title="\u5F00\u542F Canvas \u753B\u5E03\u6587\u672C\u7684\u5B57\u4F53\u6E32\u67D3\u3002\u5982\u5F00\u542F\u540E Canvas \u6587\u672C\u6E32\u67D3\u5F02\u5E38\u8BF7\u5173\u95ED\u5B83\u3002">\u6E32\u67D3\u753B\u5E03</label>':'<label title="Enable Canvas font rendering. Please turn it off if occurs canvas render error.">Canvas</label>',[qa,Za]=[ro?"":`class="${e.const.seed}.vis:hidden"`,k.renderCanvas?"checked":""],Ja=`<span id="${e.id.rdCanvas}" ${qa}>(${Xa}<input type="checkbox" id="${e.id.renderCanvas}" ${Za}/>)</span>`,Qa=n?'<label title="\u4FEE\u6B63\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\u540E\u89C6\u53E3\u5355\u4F4D\u51FA\u73B0\u6570\u636E\u504F\u79FB\u7684\u95EE\u9898\u3002\u5982\u5F00\u542F\u540E\u9875\u9762\u6392\u7248\u51FA\u73B0\u5F02\u5E38\u8BF7\u5173\u95ED\u5B83\u3002">\u89C6\u53E3\u4FEE\u6B63</label>':'<label title="Fixed viewport unit offset after font scaling. Please turn it off if occurs layout error.">Fix vpu</label>',er=`<span id="${e.id.fviewport}">(${Qa}<input type="checkbox" id="${e.id.fixViewport}" ${k.fixViewport?"checked":""}/>)</span>`,tr=n?`<span class="${e.const.seed}.mg:0.pd:0" title="\u53CC\u51FB\u7F16\u8F91\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E" id="${e.const.seed}.fontscale.def">\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E</span>`:`<span class="${e.const.seed}.mg:0.pd:0" title="Double-click to edit the site scaling correction setting" id="${e.const.seed}.fontscale.def">Font Scaling</span>`,or=`<li id="${e.id.fontSize}">
            <div class="${e.class.flex}">
              ${tr}${qt?er:""}
              <input id="${e.id.fontScale}" type="text" data-fr-type="number" maxlength="5" ${_n}/>
            </div>
            <div class="${e.class.range}" data-ticks-position="top" ${_n}></div>
          </li>`,nr=n?'<label title="\u4FEE\u6B63 Chromium 96.0 \u4EE5\u4E0A\u7248\u672C\u5BF9\u7C97\u4F53\u6837\u5F0F\u9644\u52A0\u63CF\u8FB9\u7684\u6E32\u67D3\u9519\u8BEF\u3002\u9ED8\u8BA4\u5F00\u542F\uFF0C\u5982\u51FA\u73B0\u4E25\u91CD\u5361\u987F\u8BF7\u5173\u95ED\u4E4B\u3002">\u7C97\u4F53\u4FEE\u6B63</label>':'<label title="Fixed rendering issues of Chromium above 96.0 on bold with text-stroke. Default by ON, please turn it off if lagging.">Fix bold</label>',sr=n?"\u4FEE\u6B63 Chromium 123.0 \u4EE5\u4E0A\u7248\u672C\u5BF9\u7C97\u4F53\u6837\u5F0F\u9644\u52A0\u9634\u5F71\u6548\u679C\u7684\u6E32\u67D3\u9519\u8BEF\uFF0C\u9ED8\u8BA4\u5173\u95ED\u3002":"Fixed rendering issues of Chromium above 123.0 on bold with text-shadow.",ar=n?"\u5EF6\u8FDF\u52A0\u8F7D\u4FEE\u6B63\u7A0B\u5E8F\uFF0C\u9ED8\u8BA4\u5173\u95ED\uFF0C\u8BF7\u6CE8\u610F\uFF1A\u4EC5\u5728\u51FA\u73B0\u6837\u5F0F\u5F02\u5E38\u6216\u4FEE\u6B63\u51B2\u7A81\u65F6\u5F00\u542F\u3002":"Lazy loading the fixer, Only turn it on when style loading error or conflict.",rr=`<div id="${e.id.fshadow}.shadow.label" class="${e.const.seed}.fix.label">
            <span>${n?"\u9644\u52A0\u9634\u5F71\u6837\u5F0F\u4FEE\u6B63\uFF1A":"Add Shadow Fix: "}</span>
            <input type="checkbox" class="${e.class.checkbox}" id="${e.id.fixShadow}" ${k.fixShadow?"checked":""} ${k.fixStroke?"":"disabled"} />
            <label for="${e.id.fixShadow}" ${k.fixStroke?"":`class="${e.const.seed}.ft:gs1"`}></label>
          </div>
          <div id="${e.id.fshadow}.shadow.text" class="${e.const.seed}.fix.text">${sr}</div>`,ir=`<div class="${e.const.seed}.fix.label">
            <span>${n?"\u542F\u7528\u4FEE\u6B63\u5EF6\u8FDF\u52A0\u8F7D\uFF1A":"Use lazy loading: "}</span>
            <input type="checkbox" class="${e.class.checkbox}" id="${e.id.lazyload}" ${k.lazyload?"checked":""} ${k.fixStroke?"":"disabled"} />
            <label for="${e.id.lazyload}" ${k.fixStroke?"":`class="${e.const.seed}.ft:gs1"`}></label>
          </div>
          <div class="${e.const.seed}.fix.text">${ar}</div>`,cr=`<span id="${e.id.fstroke}">
            (${nr}<input type="checkbox" id="${e.id.fixStroke}" ${k.fixStroke?"checked":""} />)
            <div id="${e.id.fshadow}">${Lt?rr:""}${ir}</div>
          </span>`,lr=n?`<span title="\u53CC\u51FB\u7F16\u8F91\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E" id="${e.const.seed}.fontoverride.def">\u5B57\u4F53\u91CD\u5199</span>\uFF08\u9ED8\u8BA4\uFF1A\u5F00\uFF09`:`<span title="Double-click to edit custom font rewrite data"  id="${e.const.seed}.fontoverride.def">Font Rewrite (ON*)</span>`,As=F.FRColorPicker?"RGB, RGBA, HEX, HEXA":"HEXA (#AABBCCDD)",dr=n?`<p>\u9634\u5F71\u989C\u8272\u53EF\u901A\u8FC7\u70B9\u51FB\u6FC0\u6D3B\u62FE\u8272\u5668\u9009\u62E9\uFF0C\u4E5F\u53EF\u81EA\u884C\u586B\u5199\uFF0C\u683C\u5F0F\u652F\u6301: <em class="${e.const.seed}.clr:cecece">${As}.</em> \u7EAF\u767D\u8272\u7684\u6240\u6709\u683C\u5F0F\u8868\u793A\u81EA\u8EAB\u989C\u8272 <em class="${e.const.seed}.clr:cecece">currentcolor.</em></p><p><em class="${e.const.seed}.clr:8b0000">\u6CE8\u610F\uFF1A\u8F93\u5165\u6570\u503C\u4F1A\u81EA\u52A8\u8F6C\u5316\u4E3AHEXA\u683C\u5F0F\uFF0C\u4F46\u6570\u503C\u4FDD\u6301\u4E00\u81F4\u6027\u3002\u9519\u8BEF\u683C\u5F0F\u4F1A\u88AB\u66FF\u6362\u4E3A\u521A\u521A\u6B63\u786E\u663E\u793A\u7684\u6570\u503C\u3002</em></p>`:`<p>Shadow colors can be selected by clicking color-block to activate the colorpicker, or custom filled in format that supports: <em class="${e.const.seed}.clr:cecece">${As}.</em> "Pure white" in all formats resolves to its own color <em class="${e.const.seed}.clr:cecece">currentcolor</em></p><p><em class="${e.const.seed}.clr:8b0000">Note: The value is converted to HEXA. The incorrect value is replaced with the final correct value.</em></p>`,pr=n?`<p>\u9ED8\u8BA4\u4E3A\u6392\u9664\u5927\u591A\u6570\u7F51\u7AD9\u5E38\u7528\u7684\u7279\u6B8ACSS\u6837\u5F0F\u540E\u9700\u8981\u6E32\u67D3\u7684\u9875\u9762\u5143\u7D20\u3002\u586B\u5199\u683C\u5F0F\uFF1A<em class="${e.const.seed}.clr:cecece">:not(.fa)</em> \u6216 <em class="${e.const.seed}.clr:cecece">:not([class*="fa"])</em> \u6216 <em class="${e.const.seed}.clr:cecece">,div.className</em></p><p><em class="${e.const.seed}.clr:8b0000">\u8BE5\u9009\u9879\u4E3A\u91CD\u8981\u53C2\u6570\uFF0C\u9ED8\u8BA4\u53EA\u8BFB\uFF0C\u53CC\u51FB\u89E3\u9501\u3002\u8BF7\u5C3D\u91CF\u4E0D\u8981\u4FEE\u6539\uFF0C\u907F\u514D\u9020\u6210\u6837\u5F0F\u5931\u6548\u3002\u82E5\u5931\u6548\u8BF7\u91CD\u7F6E\u3002</em></p><p>\u5982\u679C\u6587\u5B57\u6216\u56FE\u6807\u53D8\u4E3A\u4E71\u7801\u6216\u65B9\u5757\uFF0C\u8BF7\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u6253\u5F00\u6837\u5F0F\u4FEE\u590D\u5E2E\u52A9\u9875\u9762\u3002</p>`:`<p>Defaults to page elements that need to be rendered after excluding special CSS styles used on websites. Fill format: <em class="${e.const.seed}.clr:cecece">:not(.fa)</em> or <em class="${e.const.seed}.clr:cecece">:not([class*="fa"])</em></p><p><em class="${e.const.seed}.clr:8b0000">This option is an important parameter, read-only by default, double-click to unlock.</em></p><p>If part of text becomes garbled, Please double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the style-fix help page.</p>`,ur=n?`<p>\u8BE5\u9009\u9879\u6392\u9664\u6E32\u67D3\u5B57\u4F53\u63CF\u8FB9\u3001\u5B57\u4F53\u9634\u5F71\u6548\u679C\uFF0C\u8BF7\u5C06\u6392\u9664\u6E32\u67D3\u7684HTML\u6807\u7B7E\u7528\u9017\u53F7\u5206\u9694\u3002\u5177\u4F53\u89C4\u5219\u8BF7\u70B9\u51FB\u9876\u90E8\u65CB\u8F6C\u7684\u5E2E\u52A9\u6587\u4EF6\u56FE\u6807\u3002</p><p><em class="${e.const.seed}.clr:8b0000">\u7F16\u8F91\u8BE5\u9009\u9879\u9700\u8981CSS\u77E5\u8BC6\uFF0C\u5982\u9700\u8981\u6392\u9664\u590D\u6742\u7684\u6837\u5F0F\u6216\u6807\u7B7E\u53EF\u901A\u8FC7\u8FD9\u91CC\u8FDB\u884C\u6DFB\u52A0\uFF0C\u6837\u5F0F\u82E5\u6DF7\u4E71\u8BF7\u91CD\u7F6E\u3002</em></p><p>\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u53EF\u6253\u5F00\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6DFB\u52A0\u5DE5\u5177\uFF0C\u8BBE\u7F6E\u60A8\u9700\u8981\u7684\u7B49\u5BBD\u5B57\u4F53\u3002</p><p><em class="${e.const.seed}.clr:8b0000">\u8BF7\u6CE8\u610F\uFF1A\u4F7F\u7528\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u65F6\uFF0C\u8BF7\u8C28\u614E\u5220\u9664\u8BE5\u6587\u672C\u57DF\u4E2D\u7684\u91CD\u8981\u4EE3\u7801\uFF1A<br/>\u300E <em class="${e.const.seed}.clr:cecece">pre,pre *,code,code *</em> \u300F</em></p>`:`<p>This option excludes the rendering of font stroke, font shadow effects, please separate the excluded HTML tags with commas.</p><p><em class="${e.const.seed}.clr:8b0000">Knowledge of CSS is required to edit, If you need to exclude complex styles or tags you can add them here.</em></p><p>Double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the Custom monospace Font Tool and set the isometric font you need.</p><p><em class="${e.const.seed}.clr:8b0000">Note: if using custom monospace fonts, Please be careful to delete important codes in this textarea:\u300E <em class="${e.const.seed}.clr:cecece">pre,pre *,code,code *</em> \u300F</em></p>`,fr=n?"\u53CC\u51FB\u67E5\u770B\u66F4\u65B0\u5386\u53F2":"Double-click to view the update history of",mr=`<fr-container id="${e.id.container}">
            <fieldset id="${e.id.field}">
              <legend class="${e.class.title}">
                <span id="${e.const.seed}.scriptname" title='${fr} v${an}' class="${e.const.seed}.clr:8b0000">${e.var.scriptName}</span>
                <span class="${e.class.guide}">
                  <span class="${e.class.rotation}" title="${n?"\u5355\u51FB\u67E5\u770B\u811A\u672C\u4F7F\u7528\u5E2E\u52A9\u6587\u6863":"Click to Open Usage Document"}" height="24" width="24">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48px" height="48px" viewBox="0,0,255.99431,255.99431"><g transform="scale(0.5,0.5)"><path d="M504.1,256c0,-137 -111.1,-248.1 -248.1,-248.1c-137,0 -248.1,111.1 -248.1,248.1c0,137 111.1,248.1 248.1,248.1c137,0 248.1,-111.1 248.1,-248.1z" fill="#67a5df"/><path d="M146.1,181.5c0,-13.9 4.5,-28 13.4,-42.3c8.9,-14.3 22,-26.1 39.1,-35.5c17.1,-9.4 37.1,-14.1 60,-14.1c21.2,0 40,3.9 56.2,11.8c16.3,7.8 28.8,18.5 37.7,32c8.9,13.5 13.3,28.1 13.3,43.9c0,12.5 -2.5,23.4 -7.6,32.7c-5.1,9.4 -11.1,17.5 -18,24.3c-7,6.8 -19.4,18.3 -37.5,34.4c-5,4.5 -9,8.5 -12,12c-3,3.4 -5.2,6.6 -6.7,9.4c-1.5,2.9 -2.6,5.7 -3.4,8.6c-0.8,2.9 -2,7.9 -3.6,15.1c-2.8,15.2 -11.5,22.9 -26.1,22.9c-7.6,0 -14,-2.5 -19.2,-7.5c-5.2,-5 -7.8,-12.4 -7.8,-22.2c0,-12.3 1.9,-23 5.7,-32c3.8,-9 8.9,-16.9 15.2,-23.7c6.3,-6.8 14.8,-14.9 25.5,-24.3c9.4,-8.2 16.1,-14.4 20.3,-18.6c4.2,-4.2 7.7,-8.8 10.5,-14c2.9,-5.1 4.3,-10.7 4.3,-16.7c0,-11.7 -4.4,-21.6 -13.1,-29.7c-8.7,-8.1 -20,-12.1 -33.7,-12.1c-16.1,0 -28,4.1 -35.6,12.2c-7.6,8.1 -14.1,20.1 -19.3,35.9c-5,16.6 -14.4,24.8 -28.3,24.8c-8.2,0 -15.1,-2.9 -20.8,-8.7c-5.6,-5.6 -8.5,-11.8 -8.5,-18.6zM253.4,422.3c-8.9,0 -16.7,-2.9 -23.4,-8.7c-6.7,-5.8 -10,-13.9 -10,-24.3c0,-9.2 3.2,-17 9.7,-23.3c6.4,-6.3 14.4,-9.4 23.7,-9.4c9.2,0 17,3.2 23.3,9.4c6.3,6.3 9.4,14.1 9.4,23.3c0,10.3 -3.3,18.3 -9.9,24.2c-6.6,5.9 -14.2,8.8 -22.8,8.8z" fill="#fff"/></g></svg>
                  </span>
                </span>
              </legend>
              <ul class="${e.class.main}">
                <li id="${e.id.fontList}">
                  <div class="${e.class.fontList}"></div>
                </li>
                <li id="${e.id.fontFace}">
                  <div class="${e.const.seed}.mg:0.pd:0">
                    ${lr}
                  </div>
                  <div class="${e.const.seed}.mg:0.pd:0 ${e.const.seed}.checkbox">
                    <input type="checkbox" id="${e.id.fface}" class="${e.class.checkbox}" ${k.fontFace?"checked":""} />
                    <label for="${e.id.fface}"></label>
                  </div>
                </li>
                <li id="${e.id.fontSmooth}">
                  <div class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u5E73\u6ED1\uFF08\u9ED8\u8BA4\uFF1A\u5F00\uFF09":"Font Smooth (ON*)"}</div>
                  <div class="${e.const.seed}.mg:0.pd:0 ${e.const.seed}.checkbox">
                    <input type="checkbox" id="${e.id.smooth}" class="${e.class.checkbox}" ${k.fontSmooth?"checked":""} />
                    <label for="${e.id.smooth}"></label>
                  </div>
                </li>
                ${xt?or:""}
                <li id="${e.id.fontStroke}">
                  <div class="${e.class.flex}">
                    <span class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u63CF\u8FB9\u5C3A\u5BF8":"Font Stroke"}</span>
                    ${_t?cr:""}
                    <input id="${e.id.strokeSize}" type="text" data-fr-type="number" maxlength="5" />
                  </div>
                  <div class="${e.class.range}" data-ticks-position="top"></div>
                </li>
                <li id="${e.id.fontShadow}">
                  <div class="${e.class.flex}">
                    <span class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u9634\u5F71\u5C3A\u5BF8":"Font Shadow"}</span>
                    ${rt?"":Ja}
                    <input id="${e.id.shadowSize}" type="text" data-fr-type="number" maxlength="4" />
                  </div>
                  <div class="${e.class.range}" data-ticks-position="top"></div>
                </li>
                <li id="${e.id.shadowColor}">
                  <div class="${e.const.seed}.mg:0.pd:0">
                    <span class="${e.const.seed}.mg:0-3p.pd:0">${n?"\u9634\u5F71\u989C\u8272":"SDColor"}</span>
                    <span class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps3} ${e.const.seed}.mgl:-5p">
                        ${dr}
                      </span>
                    </span>
                  </div>
                  <div class="${e.class.frColorPicker}">
                    <input title="${n?"\u8F93\u5165\u989C\u8272\u4EE3\u7801":"Input color code"}" type="text" id="${e.id.color}" class="${e.const.seed}.input.color" />
                  </div>
                </li>
                <li id="${e.id.fontCss}">
                  <div class="${e.const.seed}.mgb:6p">${n?"\u9700\u8981\u6E32\u67D3\u7684\u7F51\u9875\u5143\u7D20":"Rendered Elements"}
                    <span id="${e.id.render}" class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps4}">
                      ${pr}
                      </span>
                    </span>
                    <div id="${e.id.cSwitch}" class="${e.class.switcher}" fr-button-switch="ON">\u2227</div>
                  </div>
                  <textarea placeholder="${n?"\u8BF7\u8C28\u614E\u4FEE\u6539\u9ED8\u8BA4\u503C\uFF0C\u907F\u514D\u6E32\u67D3\u5931\u6548\u3002":"Modify defaults carefully to avoid font rendering failures."}"
                    class="${e.class.readonly}" title="${n?"\u91CD\u8981\u53C2\u6570\uFF0C\u9ED8\u8BA4\u53EA\u8BFB\uFF0C\u53CC\u51FB\u89E3\u9501\u3002":"Read-only by default, Double-click to unlock."}"
                    id="${e.id.cssinclued}" readonly="readonly">${k.fontCSS}</textarea>
                </li>
                <li id="${e.id.fontEx}">
                  <div class="${e.const.seed}.mgb:6p">${n?"\u6392\u9664\u6E32\u67D3\u7684HTML\u6807\u7B7E":"Excluded HTML Labels"}
                    <span id="${e.id.mono}" class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps5}">
                        ${ur}
                      </span>
                    </span>
                    <div id="${e.id.eSwitch}" class="${e.class.switcher}" fr-button-switch="ON">\u2227</div>
                  </div>
                  <textarea placeholder="${n?"\u6392\u9664\u6E32\u67D3\u63CF\u8FB9\u4E0E\u9634\u5F71\u7684HTML\u6807\u7B7E\uFF0C\u5982:":"Exclude HTML tags for render strokes and shadows, such as:"} input, em, div[id$='test']"
                    id="${e.id.cssexclude}">${k.fontEx}</textarea>
                </li>
                <li id="${e.id.submit}">
                  <button class="${e.class.reset}">${n?"\u91CD\u7F6E":"Reset"}</button>
                  <button class="${e.class.cancel}">${n?"\u53D6\u6D88":"Close"}</button>
                  <button id="${e.id.backup}" title="${n?"\u5907\u4EFD\u4E0E\u6062\u590D":"Backup & Restore"}">${n?"\u5907\u4EFD":"\u212C"}</button>
                  <button class="${e.class.submit}">${n?"\u4FDD\u5B58":"Save"}</button>
                </li>
              </ul>
            </fieldset>
          </fr-container>`,Ns={system:()=>{const o=n?"\u5168\u5C40\u5B57\u4F53\u6E32\u67D3\u5DF2\u7981\u7528\uFF01\u5982\u9700\u5F00\u542F\u8BF7\u91CD\u65B0\u914D\u7F6E\u5168\u5C40\u6570\u636E\u3002":"Global font rendering is disabled! To enable it please reconfigure the global data.",t=n?`%c%s\r
%cINTRO.URL: %s\r
%c\u259E \u811A\u672C\u7248\u672C\uFF1A%cV%s%c%s%c\r
\u259E \u4E2A\u6027\u5316\u8BBE\u7F6E\uFF1A%c%s%c/%s\uFF08\u5F53\u524D\u8BBE\u7F6E\uFF1A%s\uFF09\r
%c\u259E \u672C\u5730\u5907\u4EFD\uFF1A%s\u3000\u259A \u5B57\u4F53\u7F29\u653E\uFF1A%s\r
\u259E \u6E32\u67D3\u9884\u89C8\uFF1A%s\u3000\u259A \u7B49\u5BBD\u5B57\u4F53\uFF1A%s\r
\u259E \u5E94\u7528\u8FDC\u7A0B\u6E32\u67D3\u89C4\u5219\uFF1A%c%s\r
%c\u259E \u6E32\u67D3\u5B57\u4F53\uFF1A%s\r
\u259E \u5B57\u4F53\u5E73\u6ED1\uFF1A%s\u3000\u259A \u5B57\u4F53\u91CD\u5199\uFF1A%s\r
\u259E \u5B57\u4F53\u63CF\u8FB9\uFF1A%s\u3000\u259A \u5B57\u4F53\u9634\u5F71\uFF1A%s`:`%c%s\r
%cINTRO.URL: %s\r
%c\u259E Script Version: %cV%s%c%s%c\r
\u259E Customize Total: %c%s%c/%s (current: %s)\r
%c\u259E Backups: %s\u3000\u259A Font Scaling: %s\r
\u259E Preview: %s\u3000\u259A Monospaced Font: %s\r
\u259E Apply Remote Rendering Rules\uFF1A%c%s\r
%c\u259E Rendering Font: %s\r
\u259E Font Smooth: %s\u3000\u259A Font Rewrite: %s\r
\u259E Font Stroke: %s\u3000\u259A Font Shadow: %s`,[a,i,p]=n?["\u5F00","\u5173","\u7AD9\u70B9\u7981\u7528"]:["ON","OFF","SITE BLOCKED"],S=["color:#dc143c;font:normal 700 16px/150% ui-monospace,monospace",e.var.scriptName,"color:#777;font:italic 400 10px/180% ui-monospace,monospace",e.url.introURL,"color:#708090;font-size:12px;line-height:180%","color:#708090;font:italic 600 14px/150% Candara,Times",e.var.curVersion,"color:#be0d1c;font:italic 400 11px/150% Candara,Times",Ot?"\u3000(CHEAT-UA)":"","color:#4682b4;font-size:12px;line-height:180%",e.var.domainCount>_o?"color:#dc143c":"color:#4682b4",e.var.domainCount,"color:#4682b4;font-size:12px;line-height:180%",_o,~e.var.domainIndex?n?"\u81EA\u5B9A\u4E49":"Custom":n?"\u5168\u5C40":"Global","color:#4682b4;font-size:12px;line-height:180%",gs?a:i,xt?On?`${i} (${p})`:`${a} (R \u2248 ${k.fontSize.toFixed(3)})`:i,zo?a:i,sn?a:i,`color:${e.var.apply?"#4682b4":"#708090"};font-size:12px;line-height:180%`,n?e.var.apply?"\u5DF2\u5339\u914D\u5230\u7AD9\u70B9\u89C4\u5219":"\u672A\u5339\u914D\u5230\u7AD9\u70B9\u89C4\u5219":e.var.apply?"MATCHED":"NOT MATCHED","color:#008080;font-size:12px;line-height:180%",ro?e.var.reFontFace:n?`\u5DF2\u5173\u95ED\uFF08\u91C7\u7528${e.var.reFontFace}\uFF09`:`OFF (using ${e.var.reFontFace})`,k.fontSmooth?a:i,k.fontFace?a:i,k.fontStroke?a:i,k.fontShadow?a:i],v=so&&!Ot?`(${go?"Option":"Alt"}+X)`:"",ee=n?"\u5DF2\u5728\u6392\u9664\u6E32\u67D3\u5217\u8868\u5185\uFF0C\u82E5\u8981\u91CD\u65B0\u6E32\u67D3\uFF0C\u8BF7\u5728\u811A\u672C\u83DC\u5355\u4E2D\u5F00\u542F\u91CD\u65B0\u6E32\u67D3\u3002":"is already in the excluded rendering list. To re-render, Please enable in the script menu.";Mn&&Ts?Os("shown-system-disabled",o,"#be0d1c"):~Me?Os("shown-system-disabled",`${wt.toUpperCase()} ${ee} ${v}`,"#aa56e7"):nt("shown-system-info",t,...S)},compat:o=>{const t=et({BLINK:90})||et({GECKO:84})||et({WEBKIT:15.4}),a=`%c${at} Browser Compatible: ${t}%c\r
Only desktop browsers support full functionality for this script. (Version: Chrome>=90, Edge>=90, Firefox>=84, Opera>=78, Safari>=15.4)`,i=n?"\u60A8\u7684\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u811A\u672C\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C\uFF01":"Your browser version is too low, the script may not work properly!",p=[`${tn("#dc143c","#fffafa")};text-transform:uppercase`,"color:0;font-family:ui-monospace,monospace;line-height:150%"],S=n?`%c\u6D4F\u89C8\u5668 UA \u5F02\u5E38\u8B66\u544A%c\r
\u4F2A\u9020 UserAgent \u4FE1\u606F\u4F1A\u9020\u6210\u90E8\u5206\u811A\u672C\u529F\u80FD\u5931\u6548\u3002\u5982\u9700\u4F7F\u7528\u5168\u529F\u80FD\u811A\u672C\uFF0C\u8BF7\u6062\u590D\u6D4F\u89C8\u5668\u9ED8\u8BA4\u7684 UserAgent \u4FE1\u606F\u3002`:`%cBrowser UA Exception%c\r
Modifying UserAgent information will cause some script functions to become invalid. To use the full-featured script, please restore the browser's default UserAgent information.`,v=[`${tn("#715100","#fffafa")};text-transform:uppercase`,"color:0;font-family:ui-monospace,monospace;line-height:150%"];(g["cheat-ua"]=o)&&nt("warn",S,...v),!t&&!o&&nt("error",`%c${i}`,"color:#be0d1c;font:italic 700 18px ui-monospace,monospace"),Zo(`${a}%c\r
${r.stringify(g)}`,...p,"color:#a9a9a9;font:italic 400 12px/150% ui-monospace,monospace")}};function Os(o,t,a){nt(o,`%c${e.var.scriptName}\r
%cINTRO.URL: ${e.url.introURL}\r
%c${t}`,"color:#dc143c;font:normal 700 16px/150% ui-monospace,monospace","color:#777;font:italic 400 10px/180% ui-monospace,monospace",`color:${a};font:normal 500 12px/180% ui-monospace,monospace`)}function _s(o,t){const a=Lo({target:t})[0],i=a?.id||e.id.rndStyle,p=t?.ownerDocument?.documentElement?.id,S=et({BLINK:130,more:null})||rt||!p?"":`#${p}`;return o=et({BLINK:128,more:null})||et({GECKO:138,more:null})?o:o.replace("var(--fr-font-fontscale)","initial"),{css:o.replace(e.const.regexp,S),id:i,style:a?.textContent}}function zn({condition:o,nodeArray:t,cssText:a}){if(!Ye||!io)return;const i=(a??co).replace(e.var.style.frDialog,"");o==="Preview"&&e.array.iframe.size&&zs(e.array.iframe,o,i),Array.isArray(t)||(t=Ze("html>:not(head) *").flatMap(p=>p.shadowRoot?Ze("iframe",p.shadowRoot):Dt(p)==="iframe"?[p]:[])),zs(t,o,i)}function zs(o,t,a){if(o.size)return o.forEach(i=>i?.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:a,condition:t}},"*"));o.forEach(i=>{const[{display:p,visibility:S},{width:v,height:ee}]=[yn(i),i.getBoundingClientRect(),i.removeAttribute("sandbox")];if(!(p==="none"||S==="hidden"||v<4||ee<4||kn(i.src))){if(rt&&Rt!=="Userscripts"&&t!=="Preview"&&i.addEventListener("load",()=>Bs(i,"Passive",a)),e.var.frameDone&&t!=="Preview")return delete e.var.frameDone;Bs(i,t,a)}})}function Bs(o,t,a){e.var.frameDone=rt&&Rt!=="Userscripts"||null;const i=o.contentWindow;try{const{css:p,id:S,style:v}=_s(a,i.document.head);if(v===p||!Ao({target:i.document.head,id:S,cssText:p,overwrite:t!=="DOMLoaded"}))return;o.setAttribute(e.const.iframeAttrName,t)??xn(`[ASYNCFRAMES][ACT:${t}]`),Ho({Scenes:"iframe",Permit:k.o.fixStroke})(null,i.document)}catch(p){if(rt&&Rt!=="Userscripts"||!i||t==="DOMLoaded")return Y("InsertFrameStyle:",{node:o,condition:t,error:p.name});i.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:a,condition:t}},"*")}}function hr(){if(Ye)return F.top.addEventListener("message",t=>{if(t.data?.fontRenderX?.command!=="\u{1D42B}\u{1D41E}\u{1D42A}\u{1D42E}\u{1D41E}\u{1D42C}\u{1D42D}")return;const{condition:a,data:i=(e.var.topStyle??co).replace(e.var.style.frDialog,"")}=t.data.fontRenderX;a==="Loaded"&&e.array.iframe.add(t.source),t.source.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:i,condition:a}},"*")});if(kn(location.href))return;const o=()=>void F.top.postMessage({fontRenderX:{command:"\u{1D42B}\u{1D41E}\u{1D42A}\u{1D42E}\u{1D41E}\u{1D42C}\u{1D42D}",condition:"Loaded"}},"*");document.readyState!=="complete"?F.addEventListener("DOMContentLoaded",o):o(),F.addEventListener("message",t=>{if(~e.var.domainIndex||t.data?.fontRenderX?.command!=="\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}")return;const a=document.documentElement.getBoundingClientRect();if(a.width<4&&a.height<4)return;const{data:i,condition:p}=t.data.fontRenderX,{css:S,id:v,style:ee}=_s(i,document.head);ee!==S&&Ao({target:document.head,id:v,cssText:S,overwrite:!0})&&xn(`[ASYNCFRAMES][ACT:Message|${p}]`)})}function Bn(o,t=co,a=!0){try{if(!o||!Ye)return;const[i,p]=[`#${document.documentElement.id}`,t.match(e.const.regexp)?.[0]];if(p&&p!==i&&(t=t.replace(e.const.regexp,i)),Ao({target:document.head,id:e.id.rndStyle,cssText:t,overwrite:!0})&&xt){const{prev:S,cur:v}=ya(e.array.scaleMatrix);v!==S&&fs({cur:v,prev:S,props:e.array.props}),se("scale<Matrix>: %o",e.array.scaleMatrix)}zn({condition:"Preview",cssText:t}),e.var.preview=!a}catch(i){Y("LoadPreview:",i.message)}}function gr(o){try{const t=Je("fr-configure",{id:e.id.configure}),a=e.var.configIf=wn(t),i=String(ls("fr-configure")+e.var.style.shared+e.var.style.frConfigure);return a.innerHTML=c.createHTML(o),J.setShadowStyle(a,i,`${e.const.seed}-configure`,!1),ps(t,document.documentElement)}catch(t){Y("InsertHTML:",t.message)}}function Zt(o,t,a){if(!o)return;const[i,p]=[`:host(div.${o.parentNode.host.className})`,Number(t).toFixed(a)],S=`${i}{--step:${o.step};--min:${o.min};--max:${o.max};--value:${p};--text-value:'${yt(p)}'}`;J.setShadowStyle(o.parentNode,S,`${e.const.seed}-${o.name}`,!0),o.setAttribute("value",p),o.value=p}function Pn(o,t,a,i,p=!1){if(!o||!t)return;const S=()=>{const v=o.value==="OFF"?Number(p):Number(o.value),[ee,ce,$e]=["value","min","max"].map(N=>Number(t.getAttribute(N))),C=a.test(v)&&v>=ce&&v<=$e?v:ee;Zt(t,C,i),o.value=C===Number(p)?"OFF":C.toFixed(i)};o.addEventListener("input",()=>o.value=o.value.replace(/[^0-9.]/g,"")),o.addEventListener("change",S)}function Hn({name:o,pid:t,sid:a,min:i,max:p,step:S,value:v,bits:ee}){const ce=e.var[o]=wn(y(`#${t}>.${e.class.range}`,e.var.configIf));if(!ce)return;const[$e,U,C]=[`:host(.${ce.host.className})`,Number(v).toFixed(ee),o==="fr-scale"?_n:""],N=`${$e}{--step:${S};--min:${i};--max:${p};--value:${U};--text-value:'${yt(U)}'}`,K=`<input id="${a}" type="range" name="${o}" min="${i}" max="${p}" step="${S}" value="${U}" ${C} /><output></output><div class="${e.class.rangeProgress}"></div>`;ce.innerHTML=c.createHTML(K),J.setShadowStyle(ce,N,`${e.const.seed}-${o}`,!1),J.setShadowStyle(ce,e.var.style.frSlider,`${e.const.seed}-range`,!1)}function br(){try{Hn({name:"fr-scale",pid:e.id.fontSize,sid:e.id.scale,min:.8,max:2.5,step:.001,value:k.fontSize,bits:3}),Hn({name:"fr-stroke",pid:e.id.fontStroke,sid:e.id.stroke,min:0,max:1,step:.001,value:k.fontStroke,bits:3}),Hn({name:"fr-shadow",pid:e.id.fontShadow,sid:e.id.shadow,min:0,max:4,step:.01,value:k.fontShadow,bits:2})}catch(o){Y("InsertSliders:",o.message,e.array.exps.push(`[insertSliders]: ${o}`))}}function Ht(...o){document.addEventListener("blur",st,!0),he(o).forEach(t=>["keydown","keyup","keypress"].forEach(a=>t?.addEventListener(a,st)))}function Ps(o){const[t,a,i,p]=o?.match(/[0-9a-f]{2}/gi)?.map(v=>parseInt(v,16))??[0,0,0,0],S=.2126*t+.7152*a+.0722*i;return p&&S?S/(p/255):255-p}function xr(o=1e3){if(typeof e.var.fontReady<"u")return(e.var.fontReady=null)??{status:"done",time:NaN};const t=performance.now(),a=ht(o,{useCachedSetTimeout:!0}).then(()=>({status:"timeout",time:o})),i=document.fonts.ready.then(()=>({status:"loaded",time:performance.now()-t}));return e.var.fontReady=Promise.race([a,i])}async function $r(o){const t=await Cn();for(const a of t.values())if(a.en===o&&a.ps)return a.ps;return o}function Un(o,t){const a={y:()=>String(t.getFullYear()),M:()=>String(t.getMonth()+1).padStart(2,"0"),d:()=>String(t.getDate()).padStart(2,"0"),H:()=>String(t.getHours()).padStart(2,"0"),m:()=>String(t.getMinutes()).padStart(2,"0"),s:()=>String(t.getSeconds()).padStart(2,"0"),S:()=>String(t.getMilliseconds()).padStart(3,"0")};return o.replace(/y+|M+|d+|H+|m+|s+|S+/g,i=>a[i[0]]())}function vr(o,t){if(!o||o.date!==ke.decrypt(o.flag))return e.var.structureError=!0;if(!t||t!==o.flag)return!0;if(o.date!==ke.decrypt(t))return e.var.structureError=!0}function Vn(){try{const o=decodeURI("%C3%99%C3%97%C3%9D%7F%7D%C2%9A%7D%C3%9D%C2%9A%7F%C3%9EZ%C3%B7%C3%87%1B%C3%99%C3%B6%C2%BB%C3%93n%C3%BC%C3%AB%C2%A7x"),t=ke.decrypt(Kt(o,null)),a=new RegExp(e.var.scriptAuthor).exec(Te(t))?.[0];return{keycode:()=>t,inspect:(i=Te(t))=>i.includes(a)}}catch(o){Y(o.message)}}async function wr(o){const t=await Qn();if(e.var.structureError===!0||typeof Ln<"u"&&vr(o,Ln)){t.forEach(S=>(S!==z||e.var.structureError===!0)&&Vt(S));const a=n?`%c\u6570\u636E\u5DF2\u91CD\u5EFA\r
%c\u811A\u672C\u5DF2\u5F00\u542F\u66F4\u65B0\u540E\u6570\u636E\u91CD\u5EFA\u9009\u9879\uFF0C\u6240\u6709\u6570\u636E\u5DF2\u521D\u59CB\u5316\uFF0C\u60A8\u53EF\u624B\u52A8\u8FD8\u539F\u672C\u5730\u5907\u4EFD\u6570\u636E\u3002\u5982\u60A8\u7684\u5907\u4EFD\u8F83\u4E3A\u4E45\u8FDC\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u91CD\u65B0\u8BBE\u7F6E\u53C2\u6570\uFF0C\u8BB0\u5F97\u53CA\u65F6\u91CD\u65B0\u5907\u4EFD\u54DF\uFF01`:`%cData Reconstruct\r
%cThe script turns on the option to rebuild data after upgrade, all data is initialized and you can restore the local backup manually. If your backups are older, it is recommended that you reconfigure the parameters, and remember to re-backup in time!`,i=n?`%c\u6570\u636E\u91CD\u7F6E\u8B66\u544A\r
%c\u56E0\u68C0\u6D4B\u5230\u6570\u636E\u89E3\u6790\u5F02\u5E38\u3001\u6216\u4EE3\u7801/\u5B58\u50A8\u6570\u636E\u88AB\u975E\u6CD5\u7BE1\u6539\uFF0C\u6570\u636E\u5DF2\u5168\u90E8\u521D\u59CB\u5316\uFF0C\u8BF7\u624B\u52A8\u8FD8\u539F\u60A8\u672C\u5730\u5907\u4EFD\u6570\u636E\uFF01\u82E5\u53CD\u590D\u63D0\u793A\u6B64\u95EE\u9898\uFF0C\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u5B89\u88C5\u811A\u672C\uFF01`:`%cData Reset Warning\r
%cData has been initialized due to detect data parsing anomaly, or illegally tamper with code/data, please restore your local backup manually! If this appears repeatedly, please reinstall the script!`,p=e.var.structureError!==!0?["warn",`${a} (%s)`]:["error",`${i} (%s)`];nt(...p,"font-weight:700","font-weight:400",ss()&&ke.encrypt(o.date)),pe(z,Q.Object.assign(ze,{...is,rebuild:o.flag,curVersion:void 0,isCustomMono:!1,globalDisable:!1})),e.var.versionStatus=null,se("%c Reconstruct configuration data: true ",`background-color:${e.var.structureError?"#ff0000":"#4b0082"};color:#fffafa;font-style:italic`)}else if(typeof Ln>"u")ze.rebuild=o.flag,pe(z,ze),se(`%c${an?"configuration data has been restored!":"configuration data is null, building now!"}`,`color:${an?"#1e90ff":"#d8aa01"};font-style:italic;font-family:ui-monospace,monospace`);else{const a=an===e.var.curVersion;se(`%cConfigure Data Status: ${a?"OK":"Updated"}`,`color:${a?"#008080":"#dc143c"};font-style:italic;font-family:ui-monospace,monospace`)}return t.length}async function Hs(o,t){const a={newInstall:n?"\u65B0\u5B89\u88C5\u9996\u6B21\u8FD0\u884C":"new-install execute",dataReset:n?"\u6570\u636E\u91CD\u7F6E\u540E\u8FD0\u884C":"data-rebuilt execute",historicalQuery:n?"\u60A8\u901A\u8FC7\u5386\u53F2\u67E5\u8BE2":"historical query for",updateFirstRun:n?"\u66F4\u65B0\u540E\u9996\u6B21\u8FD0\u884C":"update first execute"},i={undefined:a.newInstall,null:a.dataReset,[e.var.curVersion]:a.historicalQuery},p={firstInstall:n?`<li class="${e.const.seed}.init"><strong>\u6E29\u99A8\u63D0\u793A</strong> \u9996\u6B21\u52A0\u8F7D\u6B64\u811A\u672C\u65F6\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5185\u7F6E\u53C2\u6570\u8FDB\u884C\u6E32\u67D3\uFF0C\u82E5\u663E\u793A\u6548\u679C\u4E0D\u4F73\uFF0C<b>\u5C5E\u4E8E\u6B63\u5E38\u60C5\u51B5</b>\u3002\u8BF7\u6839\u636E\u60A8\u672C\u5730\u7684\u663E\u793A\u5668\u53CA\u6D4F\u89C8\u5668\u914D\u7F6E\uFF0C<b>\u91CD\u65B0\u8BBE\u5B9A</b>\u6E32\u67D3\u53C2\u6570\u4EE5\u8FBE\u5230\u6700\u4F73\u6548\u679C\uFF01</li>`:`<li class="${e.const.seed}.init ${e.const.seed}.wrap.break"><strong>Tip:</strong> When first loaded, the default rendering will use the built-in parameters, which <b>Normally</b> do not display well. Please <b>reconfigure</b> the rendering parameters according to your monitor and browser to achieve the best display effect!</li>`,structureError:n?`<li class="${e.const.seed}.warn"><strong>\u6570\u636E\u91CD\u7F6E\u8B66\u544A</strong> \u56E0\u68C0\u6D4B\u5230\u6570\u636E\u89E3\u6790\u5F02\u5E38\u3001\u6216\u4EE3\u7801/\u5B58\u50A8\u6570\u636E\u88AB\u975E\u6CD5\u7BE1\u6539\uFF0C\u6570\u636E\u5DF2\u5168\u90E8\u521D\u59CB\u5316\uFF0C\u8BF7\u624B\u52A8\u8FD8\u539F\u60A8\u672C\u5730\u5907\u4EFD\u6570\u636E\uFF01\u82E5\u53CD\u590D\u63D0\u793A\u6B64\u95EE\u9898\uFF0C\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u5B89\u88C5\u811A\u672C\uFF01</li>`:`<li class="${e.const.seed}.warn ${e.const.seed}.wrap.break"><strong>Data Reset Warning</strong> Data has been initialized due to detect data parsing anomaly, or illegally tamper with code/data, please restore your local backup manually! If this appears repeatedly, please reinstall the script!</li>`,dataRebuilt:n?`<li class="${e.const.seed}.warn ${e.const.seed}.clr:indigo"><strong>\u6570\u636E\u5DF2\u91CD\u5EFA</strong> \u811A\u672C\u5DF2\u5F00\u542F\u66F4\u65B0\u540E\u6570\u636E\u91CD\u5EFA\u9009\u9879\uFF0C\u6240\u6709\u6570\u636E\u5DF2\u521D\u59CB\u5316\uFF0C\u60A8\u53EF\u624B\u52A8\u8FD8\u539F\u672C\u5730\u5907\u4EFD\u6570\u636E\u3002\u5982\u60A8\u7684\u5907\u4EFD\u8F83\u4E3A\u4E45\u8FDC\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u91CD\u65B0\u8BBE\u7F6E\u53C2\u6570\uFF0C\u8BB0\u5F97\u53CA\u65F6\u91CD\u65B0\u5907\u4EFD\u54DF\uFF01</li>`:`<li class="${e.const.seed}.warn ${e.const.seed}.clr:indigo ${e.const.seed}.wrap.break"><strong>Data Reconstructed</strong> The script turns on the option to rebuild data after upgrade, all data is initialized and you can restore the local backup manually. If your backups are older, it is recommended that you reconfigure the parameters, and remember to re-backup in time!</b></li>`},S=i[t]??a.updateFirstRun,v=typeof t>"u"?p.firstInstall:"",ee=e.var.structureError?p.structureError:t===null?p.dataRebuilt:"",[ce,$e]=n?["\u597D\uFF0C\u53BB\u770B\u770B","\u4E0D\uFF0C\u7B97\u4E86\u5427"]:["Yes, Let's go","No, Thanks"],U=n?"\u811A\u672C\u66F4\u65B0 - \u6E29\u99A8\u63D0\u793A":"Script Updates - Update Tips",C=n?`<p class="${e.const.seed}.wrap.break"><span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.hi.cn">\u60A8\u597D\uFF01</span>\u8FD9\u662F${S}<span class="${e.const.seed}.pd:4p ${e.const.seed}.fw:700">${e.var.scriptName}</span>\u7684\u65B0\u7248\u672C<span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.v.cn">v${e.var.curVersion}</span>\uFF0C\u4EE5\u4E0B\u4E3A\u66F4\u65B0\u8BE6\u60C5\uFF1A</p><p><ul id="${e.const.seed}.update">${v}${ee}${as}</ul></p><p>\u5EFA\u8BAE\u60A8\u5148\u53BB\u67E5\u9605 <strong class="${e.const.seed}.clr:ff6347 ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita">\u65B0\u7248\u4F7F\u7528\u6587\u6863</strong> \uFF0C\u8981\u53BB\u770B\u4E00\u4E0B\u5417\uFF1F</p>`:`<p class="${e.const.seed}.wrap.break" class="${e.const.seed}.lh:180"><span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.hi.en">Hi! </span>This is ${S} "<span class="${e.const.seed}.pd:4p ${e.const.seed}.fw:700">${e.var.scriptName}</span>" in Version<span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.v.en">v${e.var.curVersion}</span>, and the update details are as follows:</p><p><ul id="${e.const.seed}.update">${v}${ee}${as}</ul></p><p>Suggest you to view <strong class="${e.const.seed}.clr:ff6347 ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita">Usage Document,</strong> okay?</p></p>`;let N=new J({trueButtonText:ce,falseButtonText:$e,messageText:C,titleText:U});await N.respond()&&lt(o,!1),ht(500)(N=null).then(K=>void(t===K&&Mo()))}function yr(o){o!==e.var.curVersion&&(ze.curVersion=e.var.curVersion,pe(z,ze),bt.remove(_e),hs().then(t=>t&&pe(H,t)),se(`Update.Version: %c${e.var.curVersion}`,"color:#dc143c;font-weight:600"),(!Ia||o===null)&&Hs(e.url.guideURI,o))}function Us(){if(y(`#${e.id.configure}`))return Ge();try{if(!gr(mr))return;br(),Er(),ht(100,{useCachedSetTimeout:!0}).then(kr).then(o=>(o.node?.classList.add(`${e.const.seed}.opac:1`),se("configure<errorCount>:",o.error.length)??Rr(o.error)))}catch(o){Y("OpenSettings:",o)}}function kr(){return F.innerHeight<=(xt?786:719)&&Ze(`#${e.id.cSwitch},#${e.id.eSwitch}`,e.var.configIf).forEach(o=>void o.click()),y(`.${e.class.title} span.${e.class.guide}`,e.var.configIf)?.addEventListener("click",()=>void lt(e.url.guideURI,!1)),y(`#${e.id.render}`,e.var.configIf)?.addEventListener("dblclick",o=>st(o,{preventDefault:!0})||lt(`${e.url.feedback}/42`,!1)),y(`#${e.id.field} #${e.const.seed}\\.scriptname`,e.var.configIf)?.addEventListener("dblclick",function(o){st(o,{preventDefault:!0}),this.classList.add(`${e.const.seed}.usel:none`),Hs(e.url.guideURI,e.var.curVersion)}),{error:e.array.exps,node:y(`#${e.id.container}`,e.var.configIf)}}async function Vs(){const o=n?`<p id="${e.const.seed}.exSite.add">${wt}</p><p class="${e.const.seed}.clr:8b0000">\u8BE5\u57DF\u540D\u4E0B\u6240\u6709\u9875\u9762\u5C06\u88AB\u7981\u6B62\u5B57\u4F53\u6E32\u67D3\uFF01</p><p>\u786E\u5B9A\u540E\u5F53\u524D\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u6392\u9664\uFF1F</p>`:`<p id="${e.const.seed}.exSite.add">${wt}</p><p class="${e.const.seed}.clr:8b0000">The fonts of all web pages under this domain name will be prohibited from rendering!</p><p>Please confirm to exclude?</p>`,[t,a]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6392\u9664"]:["OK","Exclusion"],[i,p]=n?["\u53D6 \u6D88","\u6392\u9664\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Exclude Font Rendering"];let S=new J({trueButtonText:t,falseButtonText:a,neutralButtonText:i,messageText:o,titleText:p});if(await S.respond()){const{exSite:v}=await f();v.push(wt)&&pe(q,He(v,ee=>ee&&typeof ee=="string").sort()),Ge({isReload:!0})}else Gn();S=null}async function Gs(){const o=await s(),{isBackupFunction:t=!0,isPreview:a,isFontsize:i,isHotkey:p=!0,isFixViewport:S=!0,isCloseTip:v,globalDisable:ee,maxPersonalSites:ce=100}=o,$e=n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E":"Advanced Core Settings",U=n?`<div class="${e.const.seed}.VIP" title="\u5F53\u60A8\u4EC5\u9700\u8981\u5728\u7279\u5B9A\u57DF\u540D\u6E32\u67D3\u65F6\uFF0C\u53EF\u4F7F\u7528\u6B64\u5FEB\u6377\u529F\u80FD\u5173\u95ED\u5168\u5C40\u8BBE\u7F6E\uFF01"><u>\u2469</u>\u4EC5\u5728\u7279\u5B9A\u57DF\u540D\u751F\u6548\uFF08\u5168\u5C40\u7981\u7528\uFF09</div><button id="${e.id.globaldisable}">\u5173\u95ED\u5168\u5C40</button>`:`<div class="${e.const.seed}.VIP" title="To turn off global render when only need to render at specific domain name."><u>\u2469</u>Disabled Global Rendering</div><button id="${e.id.globaldisable}">Disable</button>`,C=ee?"":`<li id="${e.id.gc}">${U}</li>`,N=n?`<div class="${e.const.seed}.VIP" title="\u517B\u6210\u5B9A\u671F\u5907\u4EFD\u7684\u597D\u4E60\u60EF\uFF0C\u4FDD\u62A4\u81EA\u5DF1\u7684\u6570\u636E\u5B89\u5168\uFF01"><u>\u2460</u>\u672C\u5730\u5907\u4EFD\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5F00\u542F\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Keep your data safe with regular backups!"><u>\u2460</u>Local Backup (Default: ON)</div>`,K=n?`<div class="${e.const.seed}.VIP" title="\u65E0\u9700\u4FDD\u5B58\u5237\u65B0\u9875\u9762\uFF0C\u76F4\u63A5\u9884\u89C8\u6E32\u67D3\u6548\u679C\uFF01"><u>\u2461</u>\u6E32\u67D3\u9884\u89C8\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Preview the rendering directly without saving and refreshing the page."><u>\u2461</u>Render Preview (Default: OFF)</div>`,ae=n?`<div class="${e.const.seed}.VIP" title="\u5B9E\u9A8C\u6027\u529F\u80FD\uFF1A\u517C\u5BB9\u5927\u90E8\u5206\u6D4F\u89C8\u5668\uFF0C\u4F46\u4ECD\u5728Beta\u6D4B\u8BD5\u9636\u6BB5\uFF01"><u>\u2462</u>\u5B57\u4F53\u7F29\u653E\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Experimental: Compatible with most browsers, but still in Beta."><u>\u2462</u>Font Scaling (Default: OFF)</div>`,R=n?`<div class="${e.const.seed}.VIP" title="\u5B9E\u9A8C\u6027\u529F\u80FD\uFF1A\u8DDF\u968F\u5B57\u4F53\u7F29\u653E\u5F00\u5173\uFF0C\u53EF\u5355\u72EC\u5173\u95ED\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u9605\u5E2E\u52A9\u6587\u4EF6\uFF01"><u>\u2463</u>\u89C6\u53E3\u5355\u4F4D\u4FEE\u6B63\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Experimental: Follow the font scaling switch, can be turned off individually."><u>\u2463</u>Fix Viewport (Default: OFF)</div>`,L=n?`<div class="${e.const.seed}.VIP" title="\u5982\u5FEB\u6377\u952E\u6709\u51B2\u7A81\uFF0C\u8BF7\u5728\u6B64\u5173\u95ED\u5B83\uFF01"><u>\u2464</u>\u952E\u76D8\u5FEB\u6377\u952E\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5F00\u542F\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="If there is a conflict in the shortcut, please close it."><u>\u2464</u>Shortcut Tool (Default: ON)</div>`,O=n?`<div class="${e.const.seed}.VIP" title="\u60A8\u5C06\u65E0\u6CD5\u7B2C\u4E00\u65F6\u95F4\u83B7\u5F97\u66F4\u65B0\u5185\u5BB9\uFF0C\u9519\u8FC7\u91CD\u8981\u63D0\u793A\uFF01"><u>\u2465</u>\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\uFF08\u4E0D\u63A8\u8350\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="You won't get update or important tips, which we don't recommend."><u>\u2465</u>Turn Off Update Prompts</div>`,fe=n?`<div class="${e.const.seed}.VIP" title="\u9632\u6B62\u9875\u9762\u52A0\u8F7D\u7F13\u6162\uFF0C\u4E0D\u5EFA\u8BAE\u8BBE\u7F6E\u8FC7\u9AD8\u7684\u6570\u503C\uFF01"><u>\u2466</u>\u4E2A\u6027\u5316\u8BBE\u7F6E\u603B\u6570\uFF08\u9ED8\u8BA4: 100\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Prevents slow loading, not recommended to set a higher value."><u>\u2466</u>Customize Total (Defalut: 100)</div>`,W=n?`<div class="${e.const.seed}.VIP" title="\u624B\u52A8\u62C9\u53D6\u9884\u5B9A\u4E49\u7684\u7AD9\u70B9\u6E32\u67D3\u6570\u636E\uFF0C\u51CF\u5C11\u4E00\u822C\u60C5\u51B5\u4E0B\u7684\u6E32\u67D3\u9519\u8BEF\uFF01"><u>\u2467</u>\u9884\u5B9A\u4E49\u7684\u6E32\u67D3\u6570\u636E\uFF08\u5B9E\u9A8C\u529F\u80FD\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Pull predefined special rendering data to reduce rendering errors!"><u>\u2467</u>Pull Predefined Render Data</div>`,u=n?`<div class="${e.const.seed}.VIP" title="\u5B89\u88C5\u65B0\u5B57\u4F53\u540E\uFF0C\u8BF7\u5148\u91CD\u542F\u6D4F\u89C8\u5668\u518D\u91CD\u5EFA\u5168\u5C40\u7F13\u5B58\uFF01"><u>\u2468</u>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\uFF08\u65F6\u6548: 30\u5929\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="After installing new fonts, restart browser before rebuilding the global cache."><u>\u2468</u>FontList Cache (Expired: 30d)</div>`,b=n?"\u5982\u679C\u60A8\u9047\u5230\u9519\u8BEF\u6216\u63D0\u5EFA\u8BAE\uFF0C\u8BF7\u53CA\u65F6\u5411\u6211\u53CD\u9988":"Feedback for any errors or suggestions",x=`<span>${$e}</span><span class="${e.const.seed}.fs:14p">- Version ${e.var.curVersion} -</span>`,w=`<span class="${e.class.emoji}">\u{1F9E1}</span>`,_=`<ul class="${e.class.main}">
              <li id="${e.id.bk}">
                ${N}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isbackup}" class="${e.class.checkbox}" ${t?"checked":""} />
                  <label for="${e.id.isbackup}"></label>
                </div>
              </li>
              <li id="${e.id.pv}">
                ${K}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.ispreview}" class="${e.class.checkbox}" ${a?"checked":""} />
                  <label for="${e.id.ispreview}"></label>
                </div>
              </li>
              <li id="${e.id.fs}">
                ${ae}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isfontsize}" class="${e.class.checkbox}" ${i?"checked":""} />
                  <label for="${e.id.isfontsize}"></label>
                </div>
              </li>
              <li id="${e.id.fvp}">
                ${R}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isfixviewport}" class="${e.class.checkbox}" ${S?"checked":""} />
                  <label for="${e.id.isfixviewport}"></label>
                </div>
              </li>
              <li id="${e.id.hk}">
                ${L}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.ishotkey}" class="${e.class.checkbox}" ${p?"checked":""} />
                  <label for="${e.id.ishotkey}"></label>
                </div>
              </li>
              <li id="${e.id.ct}">
                ${O}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isclosetip}" class="${e.class.checkbox}" ${v?"checked":""} />
                  <label for="${e.id.isclosetip}"></label>
                </div>
              </li>
              <li id="${e.id.mps}">
                ${fe}
                <div class="${e.const.seed}.mgr:5p ${e.const.seed}.pd:0">
                  <input maxlength="4" id="${e.id.maxps}" placeholder="100" value="${ce}" readonly />
                </div>
              </li>
              <li id="${e.id.pdr}">
                ${W}
                <button id="${e.id.pdrr}">${n?"\u91CD\u65B0\u62C9\u53D6":"Repull"}</button>
              </li>
              <li id="${e.id.flc}">
                ${u}
                <button id="${e.id.flcid}">${n?"\u91CD\u5EFA\u7F13\u5B58":"Rebuild"}</button>
              </li>
              ${C}
            </ul>
            <div id="${e.id.feedback}">${w}<span><b> ${b} </b></span>${w}</div>`,[D,P,B]=n?["\u4FDD\u5B58\u6570\u636E","\u811A\u672C\u4E3B\u9875","\u53D6 \u6D88"]:["Save","Homepage","Cancel"];let G=new J({trueButtonText:D,falseButtonText:P,neutralButtonText:B,messageText:_,titleText:x});const V=`#${e.id.isbackup},#${e.id.ispreview},#${e.id.isfontsize},#${e.id.isfixviewport},#${e.id.ishotkey},#${e.id.isclosetip},#${e.id.maxps}`,A=le=>le.split(",").map((be,Se)=>(Se=y(be,e.var.dialogIf))&&(Se.type==="checkbox"?Se.checked:Se.value||100));let[te,re,oe,I,de,ne,Fe]=A(V);const ge=y(`#${e.id.maxps}`,e.var.dialogIf);Ht(ge),ge?.addEventListener("input",()=>ge.value=ge.value.replace(/[^0-9]/g,"")),y(`#${e.id.isclosetip}`,e.var.dialogIf)?.addEventListener("click",function(){const le=n?`\u6211\u4EEC\u5F3A\u70C8\u5730\u4E0D\u5EFA\u8BAE\u60A8\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\uFF0C\u90A3\u6837\u60A8\u5C06\u4E0D\u80FD\u53CA\u65F6\u83B7\u5F97\u66F4\u65B0\u5185\u5BB9\u548C\u91CD\u8981\u7684\u529F\u80FD\u63D0\u793A\uFF0C\u7279\u6B8A\u60C5\u51B5\u4E0B\u751A\u81F3\u4F1A\u5F71\u54CD\u60A8\u7684\u6B63\u5E38\u4F7F\u7528\u3002\u53CC\u51FB\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E\u754C\u9762\u9876\u90E8\u7684\u811A\u672C\u540D\u79F0\uFF08\u6216\u8BBF\u95EEGithub\u4E3B\u9875\uFF09\uFF0C\u53EF\u67E5\u770B\u5386\u53F2\u66F4\u65B0\u5185\u5BB9\u3002\r
\r
\u8BF7\u786E\u8BA4\u662F\u5426\u201C\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\u201D\uFF1F`:`We strongly do not recommend that you turn off the update prompt, as you will not be able to get updates and important prompts in time, and in special cases may even affect your normal use. Double-click the script-name at font rendering settings interface (or visit Github) to see the update history.\r
\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41C}\u{1D428}\u{1D427}\u{1D41F}\u{1D422}\u{1D42B}\u{1D426} \u{1D42D}\u{1D428} \u{1D41C}\u{1D425}\u{1D428}\u{1D42C}\u{1D41E} \u{1D42D}\u{1D421}\u{1D41E} \u{1D42E}\u{1D429}\u{1D41D}\u{1D41A}\u{1D42D}\u{1D41E} \u{1D429}\u{1D42B}\u{1D428}\u{1D426}\u{1D429}\u{1D42D}?`;this.checked&&(this.checked=!!Xo(le))});const ve=y(`#${e.id.isfontsize}`,e.var.dialogIf),ie=y(`#${e.id.isfixviewport}`,e.var.dialogIf);ve?.addEventListener("click",function(){const le=n?`\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\uFF08\u5B9E\u9A8C\u6027\u529F\u80FD\uFF09\r
\r
\u6CE8\u610F\uFF1A`:`\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420} (\u{1D41E}\u{1D431}\u{1D429}\u{1D41E}\u{1D42B}\u{1D422}\u{1D426}\u{1D41E}\u{1D427}\u{1D42D}\u{1D41A}\u{1D425})\r
\u{1D40D}\u{1D428}\u{1D42D}\u{1D41E}: `,be=n?`\u7531\u4E8E Firefox (Gecko\u5185\u6838\u7248\u672C < 126) \u6216 Greasemonkey/Userscripts/FireMonkey \u6269\u5C55\u7684\u517C\u5BB9\u6027\u539F\u56E0\uFF0C\u4F1A\u5BF9\u90E8\u5206\u7F51\u7AD9\u9020\u6210\u4E0D\u53EF\u4FEE\u590D\u7684\u6837\u5F0F\u9519\u8BEF\u3001\u9875\u9762\u52A8\u4F5C\u7F3A\u5931\u7B49\u95EE\u9898\u3002\r
\r
\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u4F7F\u7528\u201C\u6D4F\u89C8\u5668\u7F29\u653E\u201D\u66FF\u4EE3 (\u5FEB\u6377\u952E\uFF1Actrl+-/ctrl++)`:`Due to the compatible of Firefox (Gecko Engine < 126) or Greasemonkey/Userscripts/FireMonkey extensions, may cause irreparable styling errors or missing animations on some websites. \r
\u{1D411}\u{1D41E}\u{1D41C}\u{1D428}\u{1D426}\u{1D426}\u{1D41E}\u{1D427}\u{1D41D}\u{1D41E}\u{1D41D}: use 'Browser Zoom' instead. \r
\u{1D401}\u{1D42B}\u{1D428}\u{1D430}\u{1D42C}\u{1D41E}\u{1D42B} \u{1D412}\u{1D421}\u{1D428}\u{1D42B}\u{1D42D}\u{1D41C}\u{1D42E}\u{1D42D}: ( Ctrl+- / Ctrl++ )`,Se=n?"\u5B57\u4F53\u7F29\u653E\u529F\u80FD\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u5F00\u542F\uFF0C\u5B57\u4F53\u7F29\u653E\u540E\u9020\u6210\u7684\u89C6\u53E3\u5355\u4F4D\u504F\u79FB\u53EF\u901A\u8FC7\u201C\u89C6\u53E3\u5355\u4F4D\u4FEE\u6B63\u201D\u529F\u80FD\u89E3\u51B3\uFF0C\u5982\u4ECB\u610F\u7981\u7528 CSP \u6743\u9650\uFF0C\u8BE5\u529F\u80FD\u53EF\u5728\u6B64\u5168\u5C40\u5173\u95ED\uFF0C\u4E5F\u53EF\u5728\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E\u4E2D\u5355\u72EC\u5173\u95ED\u3002":"'\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420}' feature will be turned on after you confirm, viewport unit offset caused by font scaling could be solved by the '\u{1D405}\u{1D422}\u{1D431} \u{1D415}\u{1D422}\u{1D41E}\u{1D430}\u{1D429}\u{1D428}\u{1D42B}\u{1D42D}' feature, which can be turned off globally here or individually in font rendering settings, If you mind disabling CSP.",Ne=n?`\r
\r
\u8BF7\u786E\u8BA4\u662F\u5426\u5F00\u542F\u5B57\u4F53\u7F29\u653E\u529F\u80FD\uFF1F`:`\r
\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41C}\u{1D428}\u{1D427}\u{1D41F}\u{1D422}\u{1D42B}\u{1D426} \u{1D42D}\u{1D428} \u{1D41E}\u{1D427}\u{1D41A}\u{1D41B}\u{1D425}\u{1D41E} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420}?`,ye=le.concat(et({GECKO:126,more:null})||rt?be:Se,Ne);this.checked&&(this.checked=!!Xo(ye)),ie&&(ie.checked=this.checked)}),ie?.addEventListener("click",()=>ie.checked&&!ve?.checked&&ve?.click()),y(`#${e.id.globaldisable}`,e.var.dialogIf)?.addEventListener("click",async()=>{const le=n?`<p class="${e.const.seed}.clr:8b0000">\u4E0B\u4E00\u6B65\u64CD\u4F5C\u5C06\u5173\u95ED\u9ED8\u8BA4\u7684\u5168\u5C40\u8BBE\u7F6E\u6570\u636E\uFF0C\u60A8\u53EF\u4EE5\u4EC5\u5728\u6307\u5B9A\u7684\u57DF\u540D\u4FDD\u5B58\u9700\u8981\u6E32\u67D3\u7684\u7AD9\u70B9\u72EC\u4EAB\u6570\u636E\u3002\u8BF7\u6CE8\u610F\uFF0C\u5168\u5C40\u6570\u636E\u7981\u7528\u540E\uFF0C\u60A8\u9700\u8981\u91CD\u65B0\u914D\u7F6E\u5E76\u4FDD\u5B58\u4E3A\u5168\u5C40\u6570\u636E\u624D\u80FD\u542F\u7528\u9ED8\u8BA4\u5168\u5C40\u6E32\u67D3\u89C4\u5219\u3002</p><p>\u8BF7\u786E\u8BA4\u60A8\u662F\u5426\u8981\u7981\u7528\u5168\u5C40\u8BBE\u7F6E\uFF1F</p>`:`<p class="${e.const.seed}.clr:8b0000">The next step will turn off the global setting data, and you can save only the site-specific data that needs to be rendered in specified domain name. Please note that after global data disabled, you need to reconfigure and save as global data to enable the global rendering rules.</p><p>Please confirm to disable global settings?</p>`,[be,Se,Ne]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u7981\u7528\u5168\u5C40\u8BBE\u7F6E\u6570\u636E"]:["OK","Cancel","Disable Global Settings"];let ye=new J({trueButtonText:be,neutralButtonText:Se,messageText:le,titleText:Ne});if(await ye.respond()){const je={...me,fontFace:!1,fontSmooth:!1,fontStroke:0,fixStroke:!1,fontShadow:0,renderCanvas:!1};pe(xe,je),o.globalDisable=!0,pe(z,o),Ge({isReload:!0})}ye=null});const we=Ro({fn:js,delay:500,once:!0});if(y(`#${e.id.pdrr}`,e.var.dialogIf)?.addEventListener("click",async()=>{const le=n?"\u6B63\u5728\u52AA\u529B\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u4E2D\uFF0C\u8BF7\u7A0D\u540E...":"Pulling predefined render data, please wait...",be=`<p id="${e.const.seed}.pull.result" class="${e.const.seed}.clr:708090">${le}</p>`,[Se,Ne]=n?["\u786E \u5B9A","\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E"]:["OK","Pull Predefined Render Data"];let ye=new J({trueButtonText:Se,messageText:be,titleText:Ne});ye.trueButton.className=ye.trueButton.setAttribute("disabled","")??`${e.class.dbb} ${e.class.dbbn}`;const je=y(`#${e.const.seed}\\.pull\\.result`,e.var.dialogIf);je&&we(je,ye),ye=null}),y(`#${e.id.flcid}`,e.var.dialogIf)?.addEventListener("click",async()=>{const le=n?"\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\uFF01":"Rebuilt Fontlist cache and refresh soon!",be=`<p class="${e.const.seed}.clr:b8860b ${e.const.seed}.tal:center ${e.const.seed}.cps">${le}</p><p class="${e.const.seed}.tal:center"><a class="${e.const.seed}.cpsa"><img src='${e.url.fontlistImg}' /></a></p>`,[Se,Ne]=n?["\u786E \u5B9A","\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u91CD\u5EFA"]:["OK","Rebuilt Fontlist Cache"];let ye=new J({trueButtonText:Se,messageText:be,titleText:Ne});bt.remove(_e),await ye.respond()&&Ge({isReload:!0}),ye=null}),y(`#${e.id.feedback}`,e.var.dialogIf)?.addEventListener("click",()=>void lt(e.url.feedback,!1)),Ze(V,e.var.dialogIf).forEach(le=>le.addEventListener("change",()=>[te,re,oe,I,de,ne,Fe]=A(V))),await G.respond()){const le={isBackupFunction:te,isPreview:re,isFontsize:oe,isFixViewport:I,isHotkey:de,isCloseTip:ne,maxPersonalSites:Fe};pe(z,Q.Object.assign(o,le));const be=`<p class="${e.const.seed}.clr:b8860b">${n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u53C2\u6570\u5DF2\u6210\u529F\u4FDD\u5B58\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\uFF01":"Advanced Core Data was saved and refresh soon!"}</p>`,[Se,Ne]=n?["\u786E \u5B9A","\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E\u4FDD\u5B58"]:["OK","Advanced Core Data Save"];let ye=new J({trueButtonText:Se,messageText:be,titleText:Ne});await ye.respond()&&Ge({isReload:!0}),ye=null}else lt(e.url.installURI,!1);G=null}async function dn(){const o=n?`<p class="${e.const.seed}.exclusion">${wt}</p><p class="${e.const.seed}.clr:green">\u8BE5\u57DF\u540D\u4E0B\u6240\u6709\u9875\u9762\u5C06\u91CD\u65B0\u8FDB\u884C\u5B57\u4F53\u6E32\u67D3\uFF01</p><p>\u786E\u5B9A\u540E\u5F53\u524D\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u6062\u590D\uFF1F</p>`:`<p class="${e.const.seed}.exclusion">${wt}</p><p class="${e.const.seed}.clr:green">The fonts of all web pages under this domain name will be allowed from rendering!</p><p>Please confirm to re-rendering?</p>`,[t,a]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6392\u9664"]:["OK","Exclusion"],[i,p]=n?["\u53D6 \u6D88","\u6062\u590D\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Allow Font Rendering"];let S=new J({trueButtonText:t,falseButtonText:a,neutralButtonText:i,messageText:o,titleText:p});if(await S.respond()){const{exSite:v,exSitesIndex:ee}=await f(),ce=U=>typeof U=="string"&&U.startsWith("*")&&new RegExp(`^[a-z0-9][-a-z0-9]{0,62}${U.slice(1).replace(/\./g,"\\.")}(\\:\\d{2,5})?$`),$e=v.Find(U=>(U=ce(U))&&U.test(jt));if(!$e)~ee&&v.splice(ee,1)&&pe(q,He(v,U=>U&&typeof U=="string").sort()),Ge({isReload:!0});else{const U=n?`<p class="${e.const.seed}.exclusion">${$e}</p><p class="${e.const.seed}.clr:8b0000">\u8BE5\u7F51\u7AD9\u662F\u88AB\u4EE5\u4E0A\u5305\u542B\u901A\u914D\u7B26\u7684\u6CDB\u57DF\u540D\u6240\u6392\u9664\u6E32\u67D3\u7684\u3002</p><p>\u300E\u786E\u5B9A\u300F\u5C06\u81EA\u52A8\u53D6\u6D88\u8BE5\u6CDB\u57DF\u540D\u4E0B\u6240\u6709\u7684\u6392\u9664\u9879\u3002</p><p>\u300E\u7BA1\u7406\u300F\u60A8\u5C06\u8FDB\u5165\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9\u5217\u8868\u624B\u52A8\u5904\u7406\u3002</p>`:`<p class="${e.const.seed}.exclusion">${$e}</p><p class="${e.const.seed}.clr:8b0000">The site is excluded by Pan-domain name above.</p><p>\u300EOK\u300FAllow all under this Pan-domain name.</p><p>\u300EManage\u300FEdit customized exclude-sites list.`,[C,N]=n?["\u786E \u5B9A","\u7BA1 \u7406"]:["OK","Manage"],[K,ae]=n?["\u53D6 \u6D88","\u6062\u590D\u6CDB\u57DF\u540D\u4E0B\u7684\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Allow Pan-domain name re-Rendering"];let R=new J({trueButtonText:C,falseButtonText:N,neutralButtonText:K,messageText:U,titleText:ae});if(await R.respond()){const{exSite:L}=await f();pe(q,He(L,O=>O&&typeof O=="string"&&!O.endsWith($e.slice(1))).sort()),Ge({isReload:!0})}else Gn();R=null}}else Gn();S=null}async function Gn(){const{exSite:o}=await f(),[t,[a,i]]=[o,n?["\u5220\u9664","\u6062\u590D"]:["Del","Reset"]];let[p,S]=[t.length-1,""];for(let W=0;W<=p;W++){const u=Ke(t[W]),b=String(W+1).padStart(2,"0");S+=`<li id="${e.const.seed}.vlist.item:${W}"><span>${b}. </span><span class="${e.const.seed}.domainlist" title="${u}">${u}</span>`,S+=`<span>[<a id="${e.const.seed}.vlist.item.link:${W}" class="${e.const.seed}.clr:8b0000" data-fr-domain="${u}">${a}</a>]</span></li>`}S=S||`<li id="${e.const.seed}.temp">---- ${n?"\u6682\u65F6\u6CA1\u6709\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9":"No customized exclusion"} ----</li>`;const[v,ee]=n?["\u67E5 \u8BE2","\u6DFB \u52A0"]:["Search","Add"],$e=`${n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9</b>\uFF1A\u5728\u6587\u672C\u6846\u4E2D\u8F93\u5165\u6B63\u786E\u7684\u57DF\u540D\uFF0C\u70B9\u51FB\u6DFB\u52A0\u6309\u94AE\uFF0C\u652F\u6301\u9996\u4F4D\u901A\u914D\u7B26\u7684\u6CDB\u57DF\u540D\uFF0C\u5982\uFF1A*.example.com</p><p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">\u6570\u636E\u4FDD\u5B58</b>\uFF1A\u5B8C\u6210\u6240\u6709\u6DFB\u52A0\u3001\u5220\u9664\u64CD\u4F5C\u540E\u9700\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\u624D\u4F1A\u4F7F\u6570\u636E\u4FDD\u5B58\u751F\u6548\uFF0C\u4FDD\u5B58\u6570\u636E\u540E\u4E0D\u80FD\u64A4\u56DE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">Add</b>: Enter domain-name, click Add button. Support for Pan-domain name with wildcard, e.g. *.example.com</p><p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">Save</b>: After adding or deleting, must click Save button to make the data effective. After saving, unable to retract!</p>`}<p class="${e.const.seed}.list:p"><input id="${e.const.seed}.sdata" type="search"><button id="${e.const.seed}.sdata:search">${v}</button><button id="${e.const.seed}.sdata:add">${ee}</button></p><ul id="${e.const.seed}.vlist">${S}</ul>`,[U,C,N]=n?["\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9\u7BA1\u7406"]:["Save","Cancel","Manage Customized Exclusions"];let K=new J({trueButtonText:U,neutralButtonText:C,messageText:$e,titleText:N});const[ae,R,L,O,fe]=["sdata","sdata\\:search","sdata\\:add","vlist","temp"].map(W=>y(`#${e.const.seed}\\.${W}`,e.var.dialogIf));if(O&&ae&&R&&L&&(ae.addEventListener("keydown",W=>{W.key==="Enter"&&(st(W,{immediate:!1,preventDefault:!0}),R.focus(),R.click())}),Ht(ae),ae.addEventListener("input",()=>void(ae.value=ae.value.replace(/[^-a-z0-9.*:\][]|^https?:\/\//gi,"").toLowerCase())),ae.addEventListener("focus",()=>void ae.removeAttribute("class")),L.addEventListener("click",()=>{const W=ae.value.trim().toLowerCase(),u="^(?=^.{3,255}$)(\\*\\.)?[a-z0-9][-a-z0-9]{0,62}(\\.[a-z0-9][-a-z0-9]{0,62})+(:[0-9]{1,5})?$|^(?![0-9])(?!-)(?!.*--)[A-Za-z0-9-]{2,62}[a-zA-Z0-9](:[0-9]{1,5})?$|^\\[(([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)|(([0-9a-fA-F]{1,4}:){0,5}([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:){0,5}([0-9a-fA-F]{1,4})?)|::([0-9a-fA-F]{1,4}:){0,6}([0-9a-fA-F]{1,4})?)\\](:[0-9]{1,5})?$",b=new RegExp(u),x=W.replace(/:(80|443)$/,"");if(!b.test(x)||o.includes(x))return ae.className=`${e.const.seed}.clr:ff0000`;kt(fe),p++;const w=Je("li",{id:`${e.const.seed}.vlist.item:${p}`,class:`${e.const.seed}.gradient.bg`}),_=Ke(x);w.innerHTML=c.createHTML(`<span>${String(p+1).padStart(2,"0")}. </span><span class="${e.const.seed}.domainlist" title="${_}">${_}</span>`)+c.createHTML(`<span>[<a id="${e.const.seed}.vlist.item.link:${p}" class="${e.const.seed}.clr:8b0000" data-fr-domain="${_}">${a}</a>]</span>`),At(O,w),t.push(x),ae.value="",O.scrollTop=O.scrollHeight}),R.addEventListener("click",()=>void Ks(ae,O,"exsite","li>:nth-child(2)"))),O?.addEventListener("click",W=>{const u=W.target;if(Dt(u)!=="a"||!u.id.startsWith(`${e.const.seed}.vlist.item.link:`))return;const b=Number(u.id.match(/\d+$/)?.[0]??-1),x=u.dataset.frDomain,w=u.parentNode.previousElementSibling.classList,_=typeof u.dataset.del<"u";_?delete u.dataset.del&&!t.includes(x)&&t.push(x):t.Remove(x)&&(u.dataset.del=b),u.textContent=_?a:i,u.className=_?`${e.const.seed}.clr:8b0000`:`${e.const.seed}.clr:green`,w.toggle(`${e.const.seed}.list.reset`,!_)}),await K.respond()){pe(q,He(t,w=>w&&typeof w=="string").sort());const W=n?`<p class="${e.const.seed}.clr:green">\u81EA\u5B9A\u4E49\u6392\u9664\u7F51\u7AD9\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Exclusion site data was successfully saved!</p><p>The page will refresh after confirmation.</p>`,[u,b]=n?["\u611F\u8C22\u4F7F\u7528","\u81EA\u5B9A\u4E49\u6392\u9664\u7F51\u7AD9\u6570\u636E\u4FDD\u5B58"]:["Thanks","Customized Exclusions Data Save"];let x=new J({trueButtonText:u,messageText:W,titleText:b});await x.respond()&&Ge({isReload:!0}),x=null}K=null}async function js(o,t){const a=n?"\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u6210\u529F\u66F4\u65B0\uFF0C\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\u3002":"The data update succeed, page will be refresh!",i=n?"\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u62C9\u53D6\u5931\u8D25\uFF0C\u8BF7\u5728\u5237\u65B0\u540E\u91CD\u65B0\u62C9\u53D6\u3002":"The data pull failed, please try to pull again!";await hs().then(async p=>{p&&pe(H,p),o.textContent=p?a:i,o.className=p?`${e.const.seed}.clr:green`:`${e.const.seed}.clr:8b0000`,t.trueButton.className=t.trueButton.removeAttribute("disabled")??`${e.class.dbb} ${p?e.class.dbbt:e.class.dbbf}`,await t.respond()&&Ge({isReload:!0})})}function Ks(o,t,a,i){const p=o?.value?.trim().replace(/([.*+?^${}()|[\]\\])/g,"\\$&");if(!p||!t)return;const[S,v]=[`${a}Keyword`,`${a}Search`];let[ee,ce,$e,U]=[new RegExp(p,"i"),Ze(i,t),null];for(e.var[S]!==p&&(e.var[S]=p)&&(e.count[v]=0);!$e;)if(U=ce[e.count[v]].firstChild,$e=ee.exec(U.data),e.count[v]>=ce.length-1){e.count[v]=0;break}else e.count[v]++;if($e){const C=document.createRange();C.selectNodeContents(U);const N=F.getSelection?.();N?.removeAllRanges(),N?.addRange(C);const K=N?.anchorNode?.parentNode?.parentNode,ae=Number(K?.id?.replace(`${e.const.seed}.vlist.item:`,""))||0,R=Number(K?.clientHeight)||0;t.scrollTop=ae*R,o.removeAttribute("class")}else o.className=`${e.const.seed}.clr:ff8c00`}function Sr(o){ht(1e3,{useCachedSetTimeout:!0})(2e3).then(async t=>{const{status:a,time:i}=await xr(t);se("isFontReady:",{status:a,delay:`${parseInt(i)}`})||o?es(o):se("%cNo Loading_Menu","color:#a9a9a9")}).then(()=>{if(~Me){const t=`\uFFF4\u{1F340} ${n?"\u91CD\u65B0\u6E32\u67D3":"Re-rendering "} ${wt} ${so?"(X)":""}`;Gt(t,dn)&&se("%cInstalling Include_Site_Menu","color:#808080"),Gt(`\uFFF5\u{1F9E1} ${n?"\u5411\u4F5C\u8005\u53CD\u9988\u9519\u8BEF\u6216\u5EFA\u8BAE":"Feedback to Author "}${so?"(T)":""}`,()=>void lt(e.url.feedback,!1))&&se("%cInstalling Feed_Back_Menu","color:#808080")}else{Gt(`\uFFF1\u{1F313} ${n?"\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E":"Font Rendering Settings "}${so?"(P)":""}`,Us)&&se("%cInstalling Font_Set_Menu","color:#808080");const a=`\uFFF2\u26D4 ${n?"\u6392\u9664\u6E32\u67D3":"Exclude "} ${wt} ${so?"(X)":""}`;Gt(a,Vs)&&se("%cInstalling Exclude_Site_Menu","color:#808080"),Gt(`\uFFF3\u{1F48E} ${n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E":"Advanced Core Settings "}${so?"(G)":""}`,Gs)&&se("%cInstalling Parameter_Set_Menu","color:#808080")}}).then(()=>void(so?Tr():se("%cNo Hotkey_Setting","color:#a9a9a9")))}function Tr(){document.addEventListener("keydown",t=>{const a=(t.altKey||t.code==="AltRight")&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey;t.code==="KeyP"&&a?o(~Me?dn:Us,1e3,t):t.code==="KeyX"&&a?o(~Me?dn:Vs,1e3,t):t.code==="KeyG"&&a?o(~Me?dn:Gs,1e3,t):t.code==="KeyT"&&a&&o(()=>void lt(e.url.feedback,!1),1e4,t)})||se("%cInstalling Hotkey_Setting","color:#808080");function o(t,a,i){st(i,{preventDefault:!0});const p=performance.now();p-e.count.clickTimer>a&&(e.count.clickTimer=p)&&t()}}async function Ws(){let[o,t,a,i,p]=[he([]),""];try{a=await ot(Ie);try{i=a?[...r.parse(Te(a))]:[]}catch{i=[]}const[S,v,ee,ce]=n?["\u67E5 \u8BE2","\u6E05 \u9664","\u5220\u9664","\u6062\u590D"]:["Search","Clear","Del","Reset"],$e=`<p class="${e.const.seed}.list:p"><input id="${e.const.seed}.sdata" type="search"><button id="${e.const.seed}.sdata:search">${S}</button><button id="${e.const.seed}.sdata:clear">${v}</button></p>`,U=i.length>6?$e:"";for(let b=0,x=i.length;b<x;b++){const w=Ke(i[b].domain),_=String(b+1).padStart(2,"0"),D=new Date(i[b].fontDate),P=Un("yyyy-MM-dd",D);t+=`<li id="${e.const.seed}.vlist.item:${b}"><span>[<a id="${e.const.seed}.vlist.item.link:${b}" class="${e.const.seed}.clr:8b0000">${ee}</a>]<span> ${_}.</span></span><span class="${e.const.seed}.customdomain" title="${w}">${w}</span><span class="${e.const.seed}.mg:05p" title="${D}">${P}</span></li>`}const C=n?"\u7F51\u7AD9\u4E2A\u6027\u5316\u8BBE\u7F6E\u6570\u636E\u5217\u8868":"Customized Sites Data",N=n?"\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u4FDD\u5B58\u540E\u751F\u6548\uFF0C\u5DF2\u5220\u9664\u7684\u6570\u636E\u5C06\u4E0D\u53EF\u6062\u590D\uFF01":"After saving, the deleted data will not be recoverable!",K=`<p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fs:14p ${e.const.seed}.indent:6p">${N}</p>${U}<ul id="${e.const.seed}.vlist">${t}</ul>`,[ae,R]=n?["\u786E\u8BA4\u64CD\u4F5C\uFF0C\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88"]:["Save","Cancel"];let L=new J({trueButtonText:ae,neutralButtonText:R,messageText:K,titleText:C});const[O,fe,W,u]=["sdata","sdata\\:clear","sdata\\:search","vlist"].map(b=>y(`#${e.const.seed}\\.${b}`,e.var.dialogIf));if(u&&O&&fe&&W&&(O.addEventListener("keydown",b=>{b.key==="Enter"&&(st(b,{immediate:!1,preventDefault:!0}),W.focus(),W.click())}),Ht(O),O.addEventListener("focus",()=>void O.removeAttribute("class")),O.addEventListener("input",()=>void(O.value=O.value.replace(/[^-a-z0-9.]/gi,"").toLowerCase())),fe.addEventListener("click",()=>{O.value="",O.removeAttribute("class"),u.scrollTop=0,O.focus()}),W.addEventListener("click",()=>void Ks(O,u,"domain","li>:nth-child(2)"))),u?.addEventListener("click",b=>{const x=b.target;if(Dt(x)!=="a"||!x.id.startsWith(`${e.const.seed}.vlist.item.link:`))return;const{classList:w}=x.parentNode.nextElementSibling,{classList:_}=x.parentNode.nextElementSibling.nextElementSibling,D=Number(x.id.match(/\d+$/)?.[0]??-1),P=typeof x.dataset.del<"u";P?o.Remove(x.dataset.del)&&delete x.dataset.del:o.push(x.dataset.del=i[D].domain),x.textContent=P?ee:ce,x.className=P?`${e.const.seed}.clr:8b0000`:`${e.const.seed}.clr:green`,[w,_].forEach(B=>B.toggle(`${e.const.seed}.list.reset`,!P))}),await L.respond()){let b=!1;a=await ot(Ie);try{i=a?[...r.parse(Te(a))]:[]}catch{i=[]}for(let V=o.length-1;V>=0;V--)p=on(i,o[V]),~p&&i.splice(p,1),o[V]===jt&&(b=!0);pe(Ie,i);const _=b?n?"\u5F53\u524D\u7F51\u7AD9\u6570\u636E\u6709\u53D8\u52A8\uFF0C\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002":"Current site data is changed, then refresh soon!":n?"\u63D0\u793A\uFF1A\u60A8\u53EF\u7EE7\u7EED\u7559\u5728\u5F53\u524D\u9875\u9762\u8FDB\u884C\u5176\u4ED6\u64CD\u4F5C\u3002":"Tip: You can continue with other operations.",D=`<p class="${e.const.seed}.clr:green">${n?"\u7F51\u7AD9\u4E2A\u6027\u5316\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01":"Customize data saved successfully!"}</p><p>${_}</p>`,[P,B]=n?["\u611F\u8C22\u4F7F\u7528","\u4E2A\u6027\u5316\u6570\u636E\u4FDD\u5B58"]:["Thanks","Customize Data Save"];let G=new J({trueButtonText:P,messageText:D,titleText:B});await G.respond()&&b&&Ge({isReload:!0}),G=null}L=null}catch(S){Y("ManageDomainsList:",S.message)}}function Fr({container:o,fontData:t}){if(!o||typeof o!="string"||!Array.isArray(t))return;const a=No.checkCanvasFingerprintProtection(),i=C=>({title:C.ch,sort:C.sort,value:C.en,style:`font-family:'${C.en}'!important`,textContent:C.ch});return{fdeleteList:v,fresetList:ee,fsearchList:ce,fsearch:$e};function p(C,N=!0){Ze(C,e.var.configIf).forEach(K=>void K.classList.toggle(`${e.const.seed}.disp:block`,N))}function S(C){const N=C.parentNode,K=N.children[1].value,ae=Number(N.children[1].attributes.sort.value)||-1,R=N.children[0].textContent;if(!kt(N))return;t.push({ch:R,en:K,sort:ae}),t=bo(t).sort((fe,W)=>fe.sort-W.sort);const L=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf),O=ce(e.id.fontName);O.length===0?(L.value=k.fontSelect,L.dispatchEvent(new Event("input")),y(`#${e.id.selector}`,e.var.configIf).classList.remove(`${e.const.seed}.disp:block`),(async W=>await lo(W?.checked,ao,xo))(y(`#${e.id.fface}`,e.var.configIf))):(L.value=Wn(O),L.dispatchEvent(new Event("input")))}function v(){Ze(`#${e.id.fontList} .${e.class.close}`,e.var.configIf).forEach(N=>void S(N,t))}function ee(){v(t);const C=y(`#${e.id.fontList} .${e.class.selector}`,e.var.configIf),N=me.fontSelect.replace(/['"]/g,""),K=ho||!Ot&&go?"\u82F9\u65B9-\u7B80":"\u5FAE\u8F6F\u96C5\u9ED1",ae=`<a class="${e.class.label}"><span class="${e.const.seed}.bdlr:4px" style="font-family:${me.fontSelect}!important">${K}</span><input type="hidden" name="${e.id.fontName}" sort="0" value="${N}"/><span class="${e.class.close} ${e.const.seed}.cs:pointer ${e.const.seed}.bdrr:4px" style="font-family:sans-serif!important">&#215;</span></a>`;C.insertAdjacentHTML("beforeend",c.createHTML(ae)),C.parentNode.classList.add(`${e.const.seed}.disp:block`),t=t.filter(O=>O.en!==N);const R=y(`#${e.id.selector} #${e.id.cleaner}`,e.var.configIf);R&&(R.onclick=()=>void v(t));const L=y(`#${e.id.fontList} input[name="${e.id.fontName}"][sort="0"]~.${e.class.close}`,e.var.configIf);L&&(L.onclick=()=>void S(L,t))}function ce(C){const N=Ze(`#${e.id.selector} .${e.class.selector} input[name="${C}"]`,e.var.configIf);return He(N,null,K=>K.value)}function $e(){const[C,N]=n?[`<span class="${e.class.spanlabel}">\u5DF2\u9009\u62E9\u5B57\u4F53\uFF1A<span id="${e.id.cleaner}">[\u6E05\u7A7A]</span></span>`,"\u8F93\u5165\u5173\u952E\u5B57\u53EF\u68C0\u7D22\u5B57\u4F53"]:[`<span class="${e.class.spanlabel}">Selected Fonts: <span id="${e.id.cleaner}">[Clear]</span></span>`,"Enter some keywords"],K=n?`<p><strong>\u6E29\u99A8\u63D0\u793A </strong>\u811A\u672C\u9884\u8F7D\u4E86\u5E38\u7528\u7684\u4E2D\u6587\u5B57\u4F53\uFF0C\u4E0B\u62C9\u83DC\u5355\u4E2D\u6240\u7F57\u5217\u7684\u5B57\u4F53\u662F\u5728\u4EE3\u7801\u5B57\u4F53\u8868\u4E2D\u60A8\u5DF2\u5B89\u88C5\u8FC7\u7684\u5B57\u4F53\uFF0C\u6CA1\u6709\u5B89\u88C5\u8FC7\u5219\u4E0D\u4F1A\u663E\u793A\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E00\uFF09</em>\u5982\u679C\u6CA1\u6709\u91CD\u65B0\u9009\u62E9\u5B57\u4F53\uFF0C\u5219\u4F7F\u7528\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u5B57\u4F53\u3002\u9996\u6B21\u4F7F\u7528\u9ED8\u8BA4\u4E3A${me.fontSelect}\u5B57\u4F53\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E8C\uFF09</em>\u8F93\u5165\u6846\u53EF\u8F93\u5165\u5173\u952E\u5B57\u8FDB\u884C\u641C\u7D22\uFF0C\u652F\u6301\u4E2D\u6587\u548C\u82F1\u6587\u5B57\u4F53\u540D\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E09\uFF09</em>\u5B57\u4F53\u662F\u6309\u60A8\u9009\u62E9\u7684\u5148\u540E\u987A\u5E8F\u8FDB\u884C\u4F18\u5148\u6E32\u67D3\u7684\uFF0C\u6240\u4EE5\u591A\u9009\u4E0D\u5982\u53EA\u9009\u4E00\u4E2A\u60A8\u6700\u60F3\u8981\u7684\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u56DB\uFF09</em>\u5982\u679C\u201C\u5B57\u4F53\u91CD\u5199\u201D\u88AB\u5173\u95ED\uFF0C\u90A3\u4E48\u672C\u529F\u80FD\u5C06\u81EA\u52A8\u7981\u7528\uFF0C\u7F51\u9875\u5B57\u4F53\u5C06\u91C7\u7528\u201C\u7F51\u7AD9\u9ED8\u8BA4\u201D\u7684\u5B57\u4F53\u8BBE\u7F6E\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E94\uFF09</em>\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u53EF\u4EE5\u6253\u5F00\u81EA\u5B9A\u4E49\u5B57\u4F53\u7684\u6DFB\u52A0\u5DE5\u5177\uFF0C\u4EE5\u4F7F\u7528\u66F4\u591A\u65B0\u5B57\u4F53\u3002</p>`:`<p><strong>Tips: </strong>The fonts shown in the list are the fonts were installed on your system in font-library. No install & add-lib, No display.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT1)</em> If this option is not reselected, the last saved is used. Default by ${me.fontSelect}.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT2)</em> Enter keywords in the inputbox to quickly search for your favorite fonts.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT3)</em> Fonts are rendered first in the order you choose, so just pick the one you want the most.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT4)</em> If "Font Rewrite" is turned off, this option will be disabled and the webpage will use "website-defined font".</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT5)</em> Double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the custom font-library adding tool to use more custom fonts.</p>`,ae=`<div id="${e.id.selector}">
                ${C}
                <div class="${e.class.selector}"></div>
              </div>
              <div class="${e.class.selectFontID}">
                <span class="${e.class.spanlabel}">${n?"\u8BBE\u7F6E\u5B57\u4F53\uFF0C\u8BF7\u9009\u62E9\uFF1A":"Set Fonts, Please Select:"}</span>
                <input type="search" id="${e.const.seed}.search" placeholder="${N}" autocomplete="off" />
                <input type="hidden" id="${e.const.seed}.fontsetlist" value="${k.fontSelect}" />
                <dl><dt></dt><dd></dd></dl>
                <span class="${e.class.tooltip} ${e.class.ps1}" id="${e.id.fonttooltip}">
                  <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                  <span class="${e.class.tooltip} ${e.class.ps2}">
                  ${K}
                  </span>
                </span>
              </div>`,R=y(o,e.var.configIf);!y(`#${e.id.selector}`,e.var.configIf)&&R&&(R.innerHTML=c.createHTML(ae));const L=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf),O=y(`#${e.id.submit} .${e.class.submit}`,e.var.configIf),fe=y(`#${e.id.fface}`,e.var.configIf),W=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);fe&&W&&L&&O&&(Ht(W),b(fe.checked,W,e.class.readonly),it(L,k.fontSelect,O),fe.addEventListener("change",()=>void b(fe.checked,W,e.class.readonly)),W.addEventListener("input",()=>void w(W.value)),W.addEventListener("click",u));function u(D){st(D);const P=this??D.target;if(P.value.length)w(P.value);else{const B=`#${e.id.fontList} .${e.class.selectFontID} dl`,G=y(B,e.var.configIf);t=bo(t).sort((V,A)=>V.sort-A.sort),G.innerHTML=U(a,t.length+ce(e.id.fontName).length),t.length?t.forEach(V=>fo(G,"dd",i(V))):G.innerHTML+=c.createHTML(`<dd>${n?"\u65E0\u53EF\u7528\u6570\u636E":"No data available"}</dd>`),p(B),_()}}function b(D,P,B){P?.toggleAttribute("disabled",!D),P?.classList[D?"remove":"add"](B),!D&&v(t)}function x(){document.removeEventListener("click",x),p(`#${e.id.fontList} .${e.class.selectFontID} dl`,!1);const D=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);D&&(D.value="")}function w(D,P){const B=`#${e.id.fontList} .${e.class.selectFontID} dl`,G=y(B,e.var.configIf);if(p(B,P=!1),t=bo(t).sort((A,te)=>A.sort-te.sort),!t.length||!G)return;p(B);const V=new RegExp(D.replace(/[.:?*+^$[\-=\](){}/\\|]/g,"\\$&"),"i");G.innerHTML=U(a,t.length+ce(e.id.fontName).length),t.forEach(A=>(V.test(A.ch)||V.test(A.en))&&(P=fo(G,"dd",i(A))??!0)),P||(G.innerHTML+=c.createHTML(`<dd>${n?"\u6CA1\u6709\u5339\u914D\u7684\u5B57\u4F53":"No matching fonts"}</dd>`)),_()}function _(){const D=B=>{st(B);const G=this??B.target,[V,A]=[G.attributes.value?.value,G.attributes.sort?.value],te=y(`#${e.id.fontList} .${e.class.selector}`,e.var.configIf),re=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf);if(V&&A&&te&&re){const oe=`<a class="${e.class.label}"><span class="${e.const.seed}.bdlr:4px" style="font-family:'${V}'!important">${G.textContent}</span><input type="hidden" name="${e.id.fontName}" sort="${A}" value="${V}"/><span class="${e.class.close} ${e.const.seed}.cs:pointer ${e.const.seed}.bdrr:4px" style="font-family:Times,monospace!important">&#215;</span></a>`;te.insertAdjacentHTML("beforeend",c.createHTML(oe)),te.parentNode.classList.add(`${e.const.seed}.disp:block`),t=bo(t).sort((ne,Fe)=>ne.sort-Fe.sort),t=t.filter(ne=>ne.en!==V),re.value=Wn(ce(e.id.fontName)),re.dispatchEvent(new Event("input"));const I=y(`#${e.id.selector} #${e.id.cleaner}`,e.var.configIf);I&&(I.onclick=()=>void v(t));const de=y(`#${e.id.fontList} input[name="${e.id.fontName}"][sort="${A}"]~.${e.class.close}`,e.var.configIf);de&&(de.onclick=()=>void S(de,t))}x()},P=()=>(bt.remove(_e),!a&&lt(`${e.url.feedback}/46`,!1),Mo());Ze(`#${e.id.fontList} .${e.class.selectFontID} dl dd`,e.var.configIf).forEach(B=>void(B.onclick=D)),y(`#${e.id.fontList} .${e.class.selectFontID} dl dt`,e.var.configIf)?.addEventListener("click",P),document.addEventListener("click",x)}}function U(C,N){const K=n?"\u5FC5\u987B\u7981\u7528\u6D4F\u89C8\u5668\u6307\u7EB9\u4FDD\u62A4\u624D\u80FD\u8FDB\u884C\u5B57\u4F53\u68C0\u6D4B\uFF0C\u8BF7\u68C0\u67E5\u6743\u9650\u3002":"The fingerprinting protection must be disabled to detect fonts, check permissions?",ae=n?"\u63A8\u8350\u60A8\u5B89\u88C5\u66F4\u591A\u5185\u7F6E\u5B57\u4F53\u5E93\u4E2D\u5DF2\u5B9A\u4E49\u7684\u5B57\u4F53\u6765\u6269\u5145\u5B57\u4F53\u5217\u8868\u3002":"Please install more defined fonts from the built-in font library to expand the fontlist.",R=C?`title="${n?"\u70B9\u51FB\u91CD\u65B0\u68C0\u67E5\u6743\u9650":"Click to re-check permissions"}"`:`title="${n?"\u5355\u51FB\u4E0B\u8F7D\u66F4\u591A\u5B57\u4F53":"Click to download more fonts"}"`;return C?c.createHTML(`<dt ${R} class="${e.const.seed}.disp:block">${K}</dt>`):c.createHTML(`<dt ${R}${N>(go?4:2)?"":` class="${e.const.seed}.disp:block"`}>${ae}</dt>`)}}async function Ys(o,t,a){const i=await $r(t);return Ea(a).reduce((S,v)=>S.concat(o.includes(v)?"":`@font-face{font-family:"${v}";src:local("${i}");}`),"")}function Xs(o){const t=`${Ee}body{transform:scale(var(--fr-font-fontscale));transform-origin:0 0;width:${100/o}%;height:${100/o}%}`,a=`@supports(zoom:100%){${Ee}body{zoom:var(--fr-font-fontscale)!important}}`,i=et({GECKO:126,more:null})?t:a;return Ye||et({BLINK:128,more:null})||et({GECKO:138,more:null})?i:""}function qs(o,t){return o<=0||o>4?"inherit":`0 0 ${o}px ${cn(t).toLowerCase()}`}async function Cr(){if(!(!xt||e.var.curScale===1)){try{const o=await j(),t=he(Object.entries(o)).Find(([S])=>Qt.endsWith(S))?.[1];if(!t)throw new Error("No extra correction properties");const{Window:a,Element:i,HTMLElement:p}=t;e.array.props={window:He(a),element:He(i),html:He(p)}}catch(o){se(`correctFontScaleOffset${mt}:\r
%c${o.message} for ${Qt}`,"display:block;padding-left:18px;color:#808080")}fs({cur:e.var.curScale,props:e.array.props})}}function Zs(o,t,a,i){if(!a)return"";const p=["pre","code"].filter(K=>new RegExp(`\\b${K}\\b`,"i").test(o)).flatMap(K=>[K,`${K} *`]),S=[".ace_editor *",".monaco-editor *",".cm-editor *",".CodeMirror *",".code",".code *"],v=["@github.com##textarea,.blob-num,.blob-num *,.blob-code,.blob-code *,.react-line-numbers *,.react-code-lines *",...oo],ee=/@([\w[\]\-.:]+)##((?![^@]+##)[\w\-*.#:+>()~[\]=^$|,' ]+)/,ce=v.reduce((K,ae)=>{const[,R,L]=ee.exec(ae)||[];return jt.endsWith(R)&&K.push(...L.split(",")),K},[]),$e=He([...p,...S,...ce]).join(),U=(t?"var(--fr-mono-fallback),var(--fr-font-family),":"ui-monospace,monospace,")+"var(--fr-font-emoji)",[C,N]=[ho?"-webkit-user-select:text!important":"user-select:text!important",i?"":Ee];return`${N}:is(${$e}):not([class*='icon' i],[class*='symbols' i],md-icon){font-family:var(--fr-mono-font),${U}!important;text-shadow:var(--fr-mono-shadow)!important;-webkit-text-stroke:var(--fr-no-stroke)!important;font-feature-settings:var(--fr-mono-feature, unset)!important;${C}}${N}:is(${$e})::selection{color:#fff!important;background:rgba(254, 115, 0, 0.93)!important;-webkit-text-stroke-width:0!important;text-shadow:1px 1px 1px rgba(76, 76, 76, 0.8)!important}`}function jn({overwrite:o=!1,shouldNotify:t=!0}={}){const{id:a,textContent:i}=Lo({primary:!0})??ft();if(!o&&a)return!0;const p=Ao({target:document.head,id:a??e.id.rndStyle,cssText:i??co,overwrite:!!o});return p&&t&&xn(`[INSERTSTYLE]${mt}[i:${e.id.rndStyle}]`),p}async function Er(){if(!Ye)return;try{const u=await o(),b=Fr({container:`#${e.id.fontList} .${e.class.fontList}`,fontData:u}),x=["fface","smooth","fontScale","strokeSize","shadowSize","renderCanvas","color","cssinclued","cssexclude"],[w,_,D,P,B,G,V,A,te]=x.map(X=>y(`#${e.id[X]}`,e.var.configIf)),re=["shadowColor","cSwitch","eSwitch","fontCss","fontEx","backup","mono"],[oe,I,de,ne,Fe,ge,ue]=re.map(X=>y(`#${e.id[X]}`,e.var.configIf)),[ve,ie,we]=["reset","submit","cancel"].map(X=>y(`#${e.id.submit} .${e.class[X]}`,e.var.configIf));a(b),Ht(D,P,B,V,A,te),it(A,k.fontCSS,ie),it(te,k.fontEx,ie),it(w,k.fontFace,ie),it(_,k.fontSmooth,ie);const le=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf),be=v(D,ie,e.var["fr-scale"]),Se=ce(D,ie),Ne=$e(P,ie,e.var["fr-stroke"]),{fixStrokeT:ye,fixShadowT:je,lazyloadT:$t}=U(P,ie),vt=N(B,oe,ie,e.var["fr-shadow"]),m=/^(#[0-9A-F]{8}|currentcolor)$/i,$=K(V,ie,k.shadowColor,m),M={...{ffaceT:w,smoothT:_,fontScaleT:D,fixViewportT:Se,strokeT:P,fixStrokeT:ye,lazyloadT:$t,fixShadowT:je},shadowsT:B,canvasT:G,colorshowT:V,colorReg:m,fontCssT:A,fontExT:te,colorPickerT:$};await S(w,le,xo),p(Ue),R(A),Js(I,A,ne),Js(de,te,Fe),L(ue),O(ve,b,M,{drawScale:be,drawStrock:Ne,drawShadow:vt}),fe(ie,b,M),W(ge,gs),we?.addEventListener("click",Ge)}catch(u){Y("OperateConfigure:",u,e.array.exps.push(`[operateConfigure]: ${u}`))}async function o(){try{const u=await bt.get(_e);if(Array.isArray(u)&&u.length)return se("%cLoad font data cache","color:#008000;font-weight:700"),He(u);se("%cStart real-time font detect","color:#dc143c;font-weight:700");const b=await Lr(),x=He(b);return bt.set(_e,x,2592e6),x}catch(u){return bt.remove(_e),Y("GetAvailableFontData:",u.message,e.array.exps.push(`[getAvailableFontData]: ${u}`)),[]}}function t(u,b,x,w){const _=(u.value=Yn(u.value).replace(/['"`·“”‘’]/g,b?'"':"'").replace(/，/g,",").replace(/：/g,":").replace(w??"","")).trim();return x?Ke(_):_}function a(u){try{u?.fsearch(),y(`#${e.id.fonttooltip}`,e.var.configIf)?.addEventListener("dblclick",async b=>{st(b,{preventDefault:!0});let x="";const w=await ot(Qe);try{(w?[...r.parse(Te(w))]:[]).forEach(Fe=>delete Fe.sort&&(x+=r.stringify(Fe)+`\r
`))}catch(ne){Y("FontSelectionAndCustomFonts:",ne.message)}const _=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u2474 \u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u589E\u52A0\u81EA\u5B9A\u4E49\u5B57\u4F53\u3002\u8BF7\u7528\u5C0F\u8D34\u58EB\u6216\u6309\u793A\u4F8B\u586B\u5199\uFF0C\u8F93\u5165\u6709\u8BEF\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002\u4E0E\u300E<a href="${e.url.guideURI}#\u65E2\u5B9A\u7684\u5B57\u4F53\u8868" title="\u67E5\u770B\u5185\u7F6E\u5B57\u4F53\u8868" target="_blank">\u5185\u7F6E\u5B57\u4F53\u8868</a>\u300F\u91CD\u590D\u7684\u5B57\u4F53\u5C06\u88AB\u81EA\u52A8\u5254\u9664\u3002\u3010\u529F\u80FD\u5C0F\u8D34\u58EB\uFF1A<span id="${e.const.seed}.addTools" title="\u70B9\u51FB\u5F00\u542F\u5DE5\u5177" class="${e.const.seed}.clr:crimson ${e.const.seed}.cs:pointer">\u5B57\u4F53\u6DFB\u52A0\u8F85\u52A9\u5DE5\u5177</span>\u3011</p><p><textarea id="${e.const.seed}.custom.fontlist" placeholder='\u5B57\u4F53\u8868\u81EA\u5B9A\u4E49\u683C\u5F0F\u6837\u4F8B\uFF0C\u6BCF\u884C\u4E00\u7EC4\u5B57\u4F53\u540D\u79F0\u6570\u636E\uFF0C\u5982\u4E0B\uFF1A\r
{ "ch":"\u4E2D\u6587\u5B57\u4F53\u540D\u4E00","en":"EN Fontname 1" }\u21B2\r
{ "ch":"\u4E2D\u6587\u5B57\u4F53\u540D\u4E8C","en":"EN Fontname 2","ps":"Post-Script Name" }\u21B2\r
\r
(\u6CE8\u4E00\uFF1A\u5982\u65E0\u4E2D\u6587\u5B57\u4F53\u540D\uFF0C\u53EF\u7528\u82F1\u6587\u6216\u5176\u4ED6\u8BED\u8A00\u540D\u79F0\u66FF\u4EE3)\r
(\u6CE8\u4E8C\uFF1A\u201Cps:\u201D \u8BE5\u9879\u4E3A\u5B57\u4F53\u7684PostScript\u540D\u79F0\uFF0C\u53EF\u9009\u586B\u5199)'>${x}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u8BF7\u52FF\u6DFB\u52A0\u8FC7\u591A\u81EA\u5B9A\u4E49\u5B57\u4F53\uFF0C\u907F\u514D\u9020\u6210\u9875\u9762\u52A0\u8F7D\u7F13\u6162\uFF09</p><p class="${e.const.seed}.fontfeature">\u2475 \u4EE5\u4E0B\u8BBE\u7F6E\u5B57\u4F53\u7684 font-variant \u53D8\u4F53\u6837\u5F0F\u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u8BE5\u5C5E\u6027\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\uFF0C\u4EE5\u514D\u9020\u6210\u6E32\u67D3\u5F02\u5E38\u3002</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.variant" placeholder='\u4F8B\u5982\uFF1Acommon-ligatures small-caps' value='${nn}'></p><p class="${e.const.seed}.fontvariant">\u2476 \u4EE5\u4E0B\u8BBE\u7F6E OpenType \u5B57\u4F53 <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> \u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u8BBE\u7F6E\u7684\u5E38\u89C4\u5B57\u4F53\u975E OpenType \u5B57\u4F53\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3002</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.feature" placeholder='\u4F8B\u5982\uFF1A"liga" 0,"tnum","zero"' value='${Pt}'></p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u2474 Add custom fonts in predefined formats, either by \u{1D404}\u{1D431}\u{1D41A}\u{1D426}\u{1D429}\u{1D425}\u{1D41E} or by \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D400}\u{1D41D}\u{1D41D}\u{1D422}\u{1D427}\u{1D420} \u{1D400}\u{1D422}\u{1D41D}. Incorrect entries will be filtered. Fonts that duplicate the <a href="${e.url.guideURI}#built-in-font-library" title="Viewing the built-in font library" Target="_blank">built-in font library</a> will be automatically removed. (\u{1D413}\u{1D408}\u{1D40F}: <span id="${e.const.seed}.addTools" title="Click to open the aid tool" class="${e.const.seed}.clr:crimson ${e.const.seed}.cs:pointer">\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D400}\u{1D41D}\u{1D41D}\u{1D422}\u{1D427}\u{1D420} \u{1D400}\u{1D422}\u{1D41D}</span>)</p><p><textarea id="${e.const.seed}.custom.fontlist" placeholder='One set of Fontname data per line, as follow:\r
{ "ch":"CHN Fontname 1","en":"EN Fontname 1" }\u21B2\r
{ "ch":"CHN Fontname 2","en":"EN Fontname 2","ps":"Post-Script Name" }\u21B2\r
\r
(Note1: If no Chinese fontname, use another instead) \r
 (Note2: "ps:" for the font PostScript name, optional)'>${x}</textarea></p><p id="${e.const.seed}.warning.en">(Adding too many custom fonts will cause slow loading)</p><p class="${e.const.seed}.fontvariant">\u2475 Set font variants CSS shorthand property.<br/><span class="${e.const.seed}.clr:crimson">If you do not understand this property, leave it blank.</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.variant" placeholder='Such as: common-ligatures small-caps' value='${nn}'></p><p class="${e.const.seed}.fontfeature">\u2476 Set OpenType font <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> property.<br/><span class="${e.const.seed}.clr:crimson">Leave blank if using custom font that is not OpenType.</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.feature" placeholder='Such as: "liga" 0,"tnum","zero"' value='${Pt}'></p>`,[D,P]=n?["\u4FDD \u5B58","\u5E2E\u52A9\u6587\u6863"]:["Save","Help"],[B,G]=n?["\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u5B57\u4F53\u8868"]:["Cancel","Custom Font Library"];let V=new J({trueButtonText:D,falseButtonText:P,neutralButtonText:B,messageText:_,titleText:G});const[A,te,re]=["fontlist","feature","variant"].map(ne=>y(`#${e.const.seed}\\.custom\\.${ne}`,e.var.dialogIf));Ht(A,te,re);let[oe,I,de]=[A.value.trim(),te.value.trim(),re.value.trim()];if(y(`#${e.const.seed}\\.addTools`,e.var.dialogIf)?.addEventListener("click",()=>{const ne=n?`\u8BF7\u8F93\u5165\u300C\u4E2D\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0\u300D\uFF1A\r
(\u4F8B\u5982\uFF1A\u9E3F\u8499\u9ED1\u4F53\uFF0C\u4EC5\u652F\u6301\u534A\u89D2\u8F93\u5165\u6A21\u5F0F\uFF0C\u5305\u62EC\u4E2D\u6587\u3001\u65E5\u6587\u3001\u97E9\u6587\u3001\u82F1\u6587\uFF0C\u6570\u5B57\u3001\u5C0F\u6570\u70B9\u3001\u51CF\u53F7\u3001\u4E0B\u5212\u7EBF\u3001\u7A7A\u683C\u3001@)\r
(\u5982\u6CA1\u6709\u4E2D\u6587\u5B57\u4F53\u540D\u79F0\uFF0C\u53EF\u4F7F\u7528\u82F1\u6587\u6216\u5176\u4ED6\u8BED\u8A00\u540D\u79F0\u6765\u66FF\u4EE3)`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D402}\u{1D421}\u{1D422}\u{1D427}\u{1D41E}\u{1D42C}\u{1D41E} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(e.g. \u9E3F\u8499\u9ED1\u4F53, only half-width input mode is supported, including Chinese, Japanese, Korean, English, numbers, decimal point, minus sign, underscore, space, @)\r
(\u{1D408}\u{1D41F} \u{1D427}\u{1D428} \u{1D402}\u{1D421}\u{1D422}\u{1D427}\u{1D41E}\u{1D42C}\u{1D41E} \u{1D41F}\u{1D428}\u{1D427}\u{1D42D}\u{1D427}\u{1D41A}\u{1D426}\u{1D41E}, \u{1D42E}\u{1D42C}\u{1D41E} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D428}\u{1D42B} \u{1D41A}\u{1D427}\u{1D428}\u{1D42D}\u{1D421}\u{1D41E}\u{1D42B} \u{1D422}\u{1D427}\u{1D42C}\u{1D42D}\u{1D41E}\u{1D41A}\u{1D41D})`,Fe=n?`\u8BF7\u8F93\u5165\u300C\u82F1\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0\u300D\uFF1A\r
(\u4F8B\u5982\uFF1AHarmonyOS Sans SC\uFF0C\u4EC5\u652F\u6301\u534A\u89D2\u8F93\u5165\u6A21\u5F0F\uFF0C\u5305\u62EC\u82F1\u6587\u3001\u6570\u5B57\u3001\u5C0F\u6570\u70B9\u3001\u51CF\u53F7\u3001\u4E0B\u5212\u7EBF\u3001\u7A7A\u683C\u3001@)\r
(\u5982\u6CA1\u6709\u82F1\u6587\u5B57\u4F53\u540D\u79F0\uFF0C\u8BF7\u81EA\u5B9A\u4E49\u72EC\u4E00\u65E0\u4E8C\u7684\u82F1\u6587\u540D\u79F0)`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(e.g. HarmonyOS Sans SC, only half-width input mode is supported, including English, numbers, decimal point, minus sign, underscore, space, @)\r
(\u{1D408}\u{1D41F} \u{1D427}\u{1D428} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D41F}\u{1D428}\u{1D427}\u{1D42D} \u{1D427}\u{1D41A}\u{1D426}\u{1D41E}, \u{1D41D}\u{1D428} \u{1D41D}\u{1D41E}\u{1D41F}\u{1D422}\u{1D427}\u{1D41E} \u{1D41A} \u{1D42E}\u{1D427}\u{1D422}\u{1D42A}\u{1D42E}\u{1D41E} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D427}\u{1D41A}\u{1D426}\u{1D41E})`,ge=n?`\u8BF7\u8F93\u5165\u300C\u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\u300D\uFF1A\r
(\u4E3A\u4F7F\u65B0\u589E\u5B57\u4F53\u5168\u5C40\u751F\u6548\uFF0C\u8BF7\u5C3D\u53EF\u80FD\u586B\u5199 \u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\u3002\u5982\u679C\u60A8\u6682\u65F6\u65E0\u6CD5\u63D0\u4F9B \u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\uFF0C\u53EF\u4FDD\u6301\u7559\u7A7A)\r
(\u70B9\u51FB\u53D6\u6D88\u53EF\u8BBF\u95EE \u{1D403}\u{1D422}\u{1D42C}\u{1D41C}\u{1D42E}\u{1D42C}\u{1D42C}\u{1D422}\u{1D428}\u{1D427}\u{1D42C}#\u{1D7D0}\u{1D7D4}\u{1D7CF} @\u{1D406}\u{1D422}\u{1D42D}\u{1D421}\u{1D42E}\u{1D41B})`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(To make the new font take effect globally, enter the postscript name as much as possible. If can not provide the postscript name at the moment, please leave it blank)\r
(\u{1D402}\u{1D41A}\u{1D427}\u{1D41C}\u{1D41E}\u{1D425} \u{1D42D}\u{1D428} \u{1D42F}\u{1D422}\u{1D42C}\u{1D422}\u{1D42D} \u{1D403}\u{1D422}\u{1D42C}\u{1D41C}\u{1D42E}\u{1D42C}\u{1D42C}\u{1D422}\u{1D428}\u{1D427}\u{1D42C}#\u{1D7D0}\u{1D7D4}\u{1D7CF} @\u{1D406}\u{1D422}\u{1D42D}\u{1D421}\u{1D42E}\u{1D41B})`;let ue,ve,ie,we=So(ne,"\u9E3F\u8499\u9ED1\u4F53");if(we!==null)if(/^@?[^"]+$/.test(we.trim())){if(ue=So(Fe,"HarmonyOS Sans SC"),ue===null)return;if(/^@?[^"\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+$/.test(ue.trim())){if(ve=So(ge,""),ve===null)return lt(`${e.url.feedback}/261`,!1);/^[^"]+$/.test(ve.trim())?ie=Yn(`{"ch":"${we.trim()}","en":"${ue.trim()}","ps":"${ve.trim()}"}`):ie=Yn(`{"ch":"${we.trim()}","en":"${ue.trim()}"}`);const le=A.value.trim()?`\r
`:"";A.value=A.value.trim().concat(le,ie,`\r
`),oe=A.value.trim(),A.scrollTop=A.scrollHeight}else Tt(n?"\u82F1\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0 \u683C\u5F0F\u8F93\u5165\u9519\u8BEF\uFF01":"English Fontname Input Format Error!")}else Tt(n?"\u4E2D\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0 \u683C\u5F0F\u8F93\u5165\u9519\u8BEF\uFF01":"Chinese Fontname Input Format Error!")}),A?.addEventListener("change",()=>oe=t(A,!0,!1)),te?.addEventListener("change",()=>I=t(te,!0,!0,/[^\w",\- ]/g)),re?.addEventListener("change",()=>de=t(re,!0,!0,/[^\w",\- ]/g)),await V.respond()){I||de?pe(Wt,{feature:I,variant:de}):Vt(Wt);const ne=/{\s*"ch":\s*"@?[^"]+"\s*,\s*"en":\s*"@?[^"\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+"\s*(?:,\s*"ps":\s*"[^"]+"\s*)?}/g,Fe=oe.match(ne);if(oe.length===0){Vt(Qe);const ge=n?`<p class="${e.const.seed}.clr:indigo">\u81EA\u5B9A\u4E49\u5B57\u4F53\u8868\u5DF2\u521D\u59CB\u5316\u6210\u529F\uFF01<p><p>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u81EA\u52A8\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:indigo">Custom font library initialized successfully!<p><p>The Fontlist cache has been rebuilt and reload.</p>`,[ue,ve]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u91CD\u7F6E"]:["OK","Customized FontData Reset"];let ie=new J({trueButtonText:ue,messageText:ge,titleText:ve});bt.remove(_e),await ie.respond()&&Ge({isReload:!0}),ie=null}else if(Array.isArray(Fe)&&Fe.length>0){const ge=bo(Fe.map(r.parse));pe(Qe,Ta(ge,rs));const ue=n?`<p class="${e.const.seed}.clr:green">\u60A8\u6240\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u5B57\u4F53\u5DF2\u4FDD\u5B58\u6210\u529F\uFF01<p><p>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u81EA\u52A8\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\u3002</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">\u6CE8\uFF1A\u683C\u5F0F\u9519\u8BEF\u6216\u91CD\u590D\u7684\u5B57\u4F53\u4EE3\u7801\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002</p>`:`<p class="${e.const.seed}.clr:green">The customized font saved successfully!<p><p>The Fontlist cache has been rebuilt and reload.</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">Note: Incorrectly or duplicate fonts were filtered.</p>`,[ve,ie]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u4FDD\u5B58"]:["OK","Customized FontData Save"];let we=new J({trueButtonText:ve,messageText:ue,titleText:ie});bt.remove(_e),await we.respond()&&Ge({isReload:!0}),we=null}else{Qo(oe);const ge=n?`<p class="${e.const.seed}.clr:crimson">\u60A8\u6240\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u683C\u5F0F\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002<p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">The custom Fontdata is incorrectly.<p><p>Note: Previous content saved to the clipboard.</p>`,[ue,ve]=n?["\u786E \u5B9A","\u5B57\u4F53\u8868\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Font Library Data Format Error"];let ie=new J({trueButtonText:ue,messageText:ge,titleText:ve});if(await ie.respond()){const we=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.fonttooltip}`,e.var.configIf)?.dispatchEvent(we)}ie=null}}else lt(`${e.url.guideURI}${n?"#\u81EA\u5B9A\u4E49\u5B57\u4F53\u7684\u6DFB\u52A0":"#adding-custom-fonts"}`,!1);V=null})}catch(b){Y("FontSelectionAndCustomFonts:",b.message,e.array.exps.push(`[fontSelectionAndCustomFonts]: ${b}`))}}function i(u){const b=async x=>{const w=x.target,_=w.value.trim();if(!_)return w.classList.remove(`${e.const.seed}.bd:crimson`);try{const D=w.selectionStart,P=r.stringify(r.parse(_),null,4),B=D+P.length-w.value.length,G=w.scrollTop;w.value=P,w.classList.remove(`${e.const.seed}.bd:crimson`),await ht(16.7,{instant:!0}),w.scrollTop=G,w.setSelectionRange(B,B)}catch{w.classList.add(`${e.const.seed}.bd:crimson`)}};u?.addEventListener("change",x=>t(x.target,!0,!1)&&b(x)),u?.addEventListener("input",b)}function p(u){y(`#${e.const.seed}\\.fontoverride\\.def`,e.var.configIf)?.addEventListener("dblclick",async b=>{st(b,{preventDefault:!0});const x=r.stringify(u,null,4),w=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u586B\u5199\u5B57\u4F53\u91CD\u5199\u7684\u81EA\u5B9A\u4E49\u6570\u636E\u3002\u6574\u4F53\u4E3A\u6570\u7EC4\u7C7B\u578B\uFF0C\u6BCF\u4E2A\u5B57\u4F53\u540D\u79F0\u5360\u4E00\u884C\uFF0C\u5E76\u4F7F\u7528\u534A\u89D2\u53CC\u5F15\u53F7\u5305\u62EC\uFF1B\u5982\u5B57\u4F53\u540D\u79F0\u5305\u542B\u4E2D\u6587\u7B49\u53CC\u5B57\u8282\u6587\u672C\u65F6\uFF0C\u8BF7\u5728\u53CC\u5F15\u53F7\u5185\u4F7F\u7528\u534A\u89D2\u82B1\u62EC\u53F7\u5305\u62EC\u3002\u5982\u60A8\u4E0D\u4E86\u89E3\u8BE5\u6570\u636E\u7684\u542B\u4E49\uFF0C\u8BF7\u52FF\u4FEE\u6539\uFF0C\u4EE5\u514D\u9020\u6210\u5168\u5C40\u5B57\u4F53\u91CD\u5199\u51FA\u9519\u3002<span class="${e.const.seed}.clr:crimson">(\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u6309 <a href="${e.url.feedback}/267#discussion-5692372" target="_blank">\u4F5C\u8005\u63D0\u8BAE</a> \u586B\u5199\u6B64\u5185\u5BB9)</span></p><p><textarea id="${e.const.seed}.fontoverride.defarray">${x}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u8BF7\u52FF\u6DFB\u52A0\u811A\u672C\u5B57\u4F53\u8868\u5DF2\u5B58\u5728\u7684\u5B57\u4F53\uFF0C\u5982\u91CD\u590D\u5C06\u81EA\u52A8\u5220\u9664\uFF09</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">Predefined format overall array type, one Fontname per line, and the use of half-width double quotes include; If the fontname contains double-byte text such as Chinese, please use half-width brackets within the double quotes include. <span class="${e.const.seed}.clr:crimson">(Suggestion: "<a href="${e.url.feedback}/267#discussion-5692372" target="_blank">Author's proposal</a>")</span></p><p><textarea id="${e.const.seed}.fontoverride.defarray">${x}</textarea></p><p id="${e.const.seed}.warning.en">(Duplicate font names with font library will be removed)</p>`,_=ut?`<div id="${e.id.fi}">
                    <span class="${e.const.seed}.cusmono">${n?"\u4FEE\u590D\u5F53\u524D\u7AD9\u70B9 &lt;INPUT&gt; \u7684\u6837\u5F0F\u95EE\u9898":"Fix &lt;INPUT&gt; Issue For Current Site"}</span>
                    <input type="checkbox" id="${e.const.seed}.fixinput" class="${e.class.checkbox}" ${ct?.getItem(De)==="true"?"checked":""} />
                    <label for="${e.const.seed}.fixinput"></label>
                  </div>${w}`:w,[D,P,B]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E"]:["OK","Cancel","Customized Font-Rewrite Data"];let G=new J({trueButtonText:D,neutralButtonText:P,messageText:_,titleText:B});const[V,A]=["fixinput","fontoverride\\.defarray"].map(te=>y(`#${e.const.seed}\\.${te}`,e.var.dialogIf));if(Ht(A),i(A),await G.respond()){const te=A.value.trim();try{const re=te?He(r.parse(te),le=>le&&typeof le=="string"):[];let oe=await bt.get(_e);oe=Array.isArray(oe)&&oe.length>0?oe:[];const I=oe.filter(le=>le.en!=="Microsoft YaHei").map(le=>le.en.startsWith("\\")?`{${le.ch}}`:le.en),de=Mt.fontBase.replace(/'/g,"").split(","),ne=(no||Mt.monospacedFont).replace(/'/g,"").split(","),Fe=He(["Courier New","Courier","monospace",...de,...I,...ne]),ge=re.filter(le=>!Fe.includes(le)).sort();V&&ct?.setItem(De,V.checked),pe(Ce,ge);const ue=n?`<p class="${e.const.seed}.clr:green">\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Font-rewrite Data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[ve,ie]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u8BBE\u7F6E\u6210\u529F"]:["OK","Customized Font-rewrite Data Save"];let we=new J({trueButtonText:ve,messageText:ue,titleText:ie});await we.respond()&&Ge({isReload:!0}),we=null}catch{const oe=n?`<p class="${e.const.seed}.clr:8b0000">\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Font-rewrite data format error, please re-enter!</p>`,[I,de]=n?["\u786E \u5B9A","\u91CD\u5199\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Customized Font-Rewrite Data Error"];let ne=new J({trueButtonText:I,messageText:oe,titleText:de});if(await ne.respond()){const Fe=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.const.seed}\\.fontoverride\\.def`,e.var.configIf)?.dispatchEvent(Fe)}ne=null}}G=null})}async function S(u,b,x){if(!u||!b)return;const w=[k.fontFace,ao,x],_=async()=>{if(y(`#${e.id.renderCanvas}`,e.var.configIf)?.click(),y(`#${e.id.rdCanvas}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,!u.checked),await lo(...w),u.checked&&!k.fontFace){const D=n?"\u6B63\u5728\u6062\u590D\u4E4B\u524D\u8BBE\u7F6E\u7684\u5B57\u4F53\u2026":"Restore previous font\u2026";b.setAttribute("placeholder",D),await ht(220,{instant:!0}),y(`#${e.id.submit} .${e.class.submit}[v-Preview="true"]`,e.var.configIf)?.click()}};await lo(...w),u.addEventListener("change",_)}function v(u,b,x){if(!(!xt||!u||!x))try{ee();const w=y(`#${e.id.scale}`,x);return u.value=k.fontSize===1?"OFF":k.fontSize.toFixed(3),Kn(w,u,3,!0),Pn(u,w,/^[0-2](\.[0-9]{1,3})?$/,3,!0),w}catch(w){Y("GetFontSizeScale:",w.message,e.array.exps.push(`[getFontSizeScale]: ${w}`))}finally{it(u,k.fontSize,b,!0)}}function ee(){y(`#${e.const.seed}\\.fontscale\\.def`,e.var.configIf)?.addEventListener("dblclick",async u=>{st(u,{preventDefault:!0});const b=await j(),x=r.stringify(b,null,4),w=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u586B\u5199\u201C\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\u529F\u80FD\u201D\u6240\u9700\u7684\u81EA\u5B9A\u4E49\u7AD9\u70B9\u7F29\u653E\u6570\u636E\u914D\u7F6E\u3002\u7531\u4E8E\u8BE5\u6570\u636E\u4E3A\u811A\u672C\u6838\u5FC3\u8BBE\u7F6E\u6570\u636E\uFF0C\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u8BE5\u8BBE\u7F6E\u6570\u636E\u7684\u683C\u5F0F\u8981\u6C42\u6216\u6570\u636E\u542B\u4E49\uFF0C\u8BF7\u52FF\u4FEE\u6539\u8BE5\u6570\u636E\uFF01<span class="${e.const.seed}.clr:crimson">\uFF08\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u6309 <a href="${e.url.feedback}/267#discussioncomment-7161615" target="_blank">\u4F5C\u8005\u63D0\u8BAE</a> \u586B\u5199\u6B64\u5185\u5BB9\uFF09</span></p><p><textarea id="${e.const.seed}.fontscale.defjson">${x}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u5982\u679C\u4EE5\u4E0AJSON\u5185\u5BB9\u683C\u5F0F\u9519\u8BEF\uFF0C\u4F1A\u9020\u6210\u811A\u672C\u51FA\u9519\u4F7F\u6E32\u67D3\u5931\u6548\uFF09</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">Fill in the custom site scaling data configuration of the "Font Scaling" in a predetermined format. If you do not understand the meaning of the data, please do not modify it! <span class="${e.const.seed}.clr:crimson">(Suggestion: "<a href="${e.url.feedback}/267#discussioncomment-7161615" target="_blank">Author's proposal</a>")</span></p><p><textarea id="${e.const.seed}.fontscale.defjson">${x}</textarea></p><p id="${e.const.seed}.warning.en">(If the JSON format is incorrect, font rendering will fail)</p>`,[_,D,P]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E"]:["OK","Cancel","Sites Scaling Setting Data"];let B=new J({trueButtonText:_,neutralButtonText:D,messageText:w,titleText:P});const G=y(`#${e.const.seed}\\.fontscale\\.defjson`,e.var.dialogIf);if(Ht(G),i(G),await B.respond()){const V=G.value.trim();try{const A=V?r.parse(V):ft();if(uo.call(A)!=="[object Object]")throw new Error("Format Error");pe(Oe,A);const te=n?`<p class="${e.const.seed}.clr:green">\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Sites Fix-scaling data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[re,oe]=n?["\u786E \u5B9A","\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u6570\u636E\u8BBE\u7F6E\u6210\u529F"]:["OK","Sites Fix-scaling Data Save"];let I=new J({trueButtonText:re,messageText:te,titleText:oe});await I.respond()&&Ge({isReload:!0}),I=null}catch{const te=n?`<p class="${e.const.seed}.clr:8b0000">\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Fix-scaling Data format error, please re-enter!</p>`,[re,oe]=n?["\u786E \u5B9A","\u8BBE\u7F6E\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Sites Fix-scaling Data Error"];let I=new J({trueButtonText:re,messageText:te,titleText:oe});if(await I.respond()){const de=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.const.seed}\\.fontscale\\.def`,e.var.configIf)?.dispatchEvent(de)}I=null}}B=null})}function ce(u,b){const x=y(`#${e.id.fixViewport}`,e.var.configIf);if(!(!xt||!qt||!u||!x))try{const w=y(`#${e.id.fviewport}`,e.var.configIf),_=()=>w?.classList.toggle(`${e.const.seed}.vis:hidden`,u.value==="OFF");return u.addEventListener("change",_),_(),x}catch(w){Y("GetFixViewportBool:",w.message,e.array.exps.push(`[getFixViewportBool]: ${w}`))}finally{it(x,k.fixViewport,b)}}function $e(u,b,x){if(!(!u||!x))try{const w=y(`#${e.id.stroke}`,x);return u.value=k.fontStroke===0?"OFF":k.fontStroke.toFixed(3),Kn(w,u,3),Pn(u,w,/^[0-1](\.[0-9]{1,3})?$/,3),w}catch(w){Y("GetFontsStroke:",w.message,e.array.exps.push(`[getFontsStroke]: ${w}`))}finally{it(u,k.fontStroke,b)}}function U(u,b){if(!_t||!u)return ft();const x=["fixStroke","fixShadow","lazyload","fstroke","fshadow"],[w,_,D,P,B]=x.map(re=>y(`#${e.id[re]}`,e.var.configIf));if(!w||!D||!P||!B)return ft();const G=()=>P.classList.toggle(`${e.const.seed}.vis:hidden`,u.value==="OFF"),V=()=>{if(B.classList.add(`${e.const.seed}.vis:visible`),!Lt)return;const re=Ze(`#${e.id.fshadow}\\.shadow\\.label,#${e.id.fshadow}\\.shadow\\.text`,e.var.configIf),oe=!Number(y(`#${e.id.shadowSize}`,e.var.configIf)?.value);re.forEach(I=>I.classList.toggle(`${e.const.seed}.disp:none`,oe))},A=()=>{D&&C(D,"lazyload",!w.checked),Lt&&_&&C(_,"fixShadow",!w.checked)},te=()=>B.classList.remove(`${e.const.seed}.vis:visible`);try{return G(),u.addEventListener("change",G),w.addEventListener("mouseenter",V),B.addEventListener("mouseleave",te),w.addEventListener("click",A),{fixStrokeT:w,fixShadowT:_,lazyloadT:D}}catch(re){Y("GetFixStrokeBool:",re.message,e.array.exps.push(`[getFixStrokeBool]: ${re}`))}finally{it(w,k.fixStroke,b),it(D,k.lazyload,b),Lt&&it(_,k.fixShadow,b)}}function C(u,b,x){u.toggleAttribute("disabled",x),u.nextElementSibling?.classList.toggle(`${e.const.seed}.ft:gs1`,x),x?u.checked&&u.click():k[b]&&!u.checked&&u.click()}function N(u,b,x,w){if(!u||!b||!w)return;const _=y(`#${e.id.renderCanvas}`,e.var.configIf);try{const D=y(`#${e.id.shadow}`,w),P=k.fontShadow===0;return u.value=P?"OFF":k.fontShadow.toFixed(2),Kn(D,u,2),Pn(u,D,/^[0-8](\.[0-9]{1,2})?$/,2),b.classList.toggle(`${e.const.seed}.disp:none`,P),u.addEventListener("change",()=>b.classList.toggle(`${e.const.seed}.disp:none`,P)),D}catch(D){Y("GetFontShadow:",D.message,e.array.exps.push(`[getFontShadow]: ${D}`))}finally{it(u,k.fontShadow,x),it(_,k.renderCanvas,x)}}function K(u,b,x,w){if(!u||!b)return ft();try{if(!F.FRColorPicker)return ae(u,x,w);const _=new F.FRColorPicker(`#${e.id.color}`,e.var.configIf,{alpha:1,format:"hexa"}),D=_.fromString(x)&&_.toHEXAString();return _.onChange=()=>u.value=cn(_.toHEXAString()),se(`frColorPicker: %c${D}`,`${tn(D,Ps(D.slice(1))>182?"#333":"#eee")};border:1px solid #eee`)??_}catch(_){return Y("GetColorAndColorPicker:",_.message,e.array.exps.push(`[getColorAndColorPicker]: ${_}`))??ft()}finally{it(u,x,b)}}function ae(u,b,x){return u.value=b,u.style.cssText=`--fr-input-color:${b}`,u.addEventListener("change",function(){const w=this.value;this.value=x.test(w)?cn(w):b,this.style.cssText=`--fr-input-color:${x.test(w)?vs(w):b}`}),Q.Object.assign(ft(),{fromString:w=>u.style.cssText=`--fr-input-color:${u.value=w}`})}function R(u){u?.addEventListener("dblclick",function(b){st(b,{preventDefault:!0}),this.classList.add(e.class.notreadonly),["readonly","title"].forEach(x=>this.removeAttribute(x))})}function L(u){u?.addEventListener("dblclick",async b=>{try{st(b,{preventDefault:!0});const[x,{monoSiteRules:w,monoFontList:_,monoFeature:D}]=await Promise.all([s(),l()]),[P,B,G]=[w.join(`\r
`).trim(),_.trim(),D.trim()],V=n?`<p class="${e.const.seed}.mono.notify">\u2474 \u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u8BBE\u7F6E\u9700\u5E94\u7528\u7B49\u5BBD\u5B57\u4F53\u7684\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u7AD9\u70B9\u6837\u5F0F\u89C4\u5219\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3010<a href="${e.url.feedback}/74" target="_blank">\u67E5\u770B\u63A8\u8350\u89C4\u5219</a>\u3011</span></p><p><textarea id="${e.const.seed}.monospaced.siterules" placeholder="\u6BCF\u884C\u53EA\u80FD\u5141\u8BB8\u4E00\u7EC4\u89C4\u5219\uFF0C\u76F8\u540C\u7AD9\u70B9\u4E0D\u540C\u89C4\u5219\u53EF\u91CD\u590D\u6DFB\u52A0\u3002\r
\u683C\u5F0F\u5982\uFF1A@\u7F51\u7AD9\u57DF\u540D##\u5143\u7D20\u9009\u62E9\u56681,\u5143\u7D20\u9009\u62E9\u56682,\u2026\u2026\r
\u4F8B\u5982\uFF1A\r
@github.com##[class~='blob-code'] *\r
@github.com##.example,#abc,div:not(.test)\r
@github.dev###test:not([class*='test'])">${P}\r
</textarea></p><p class="${e.const.seed}.mono.notify">\u2475 \u4EE5\u4E0B\u53EF\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u82F1\u6587\u7B49\u5BBD\u5B57\u4F53\uFF0C\u8BF7\u6309\u793A\u4F8B\u683C\u5F0F\u586B\u5199\u3002<br/><span class="${e.const.seed}.clr:crimson">\u8BF7\u6CE8\u610F\uFF1Amonospace\u5B57\u4F53\u65CF\u5DF2\u7A0B\u5E8F\u5185\u7F6E\uFF0C\u65E0\u9700\u91CD\u590D\u6DFB\u52A0\u3002</span></p><p><input id="${e.const.seed}.monospaced.font" placeholder="\u4F8B\u5982\uFF1A'Source Code Pro','Mono','Monaco'" value="${B}"></p><p class="${e.const.seed}.mono.notify">\u2476 \u4EE5\u4E0B\u8BBE\u7F6E OpenType \u5B57\u4F53 <a href="https://learn.microsoft.com/zh-cn/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> \u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u8BBE\u7F6E\u7684\u7B49\u5BBD\u5B57\u4F53\u975E OpenType \u5B57\u4F53\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3002</span></p><p><input id="${e.const.seed}.monospaced.feature" placeholder='\u4F8B\u5982\uFF1A"liga" 0,"tnum","zero"' value='${G}'></p>`:`<p class="${e.const.seed}.mono.notify">\u2474 Set the root field and selector for monospaced font.<br/><span class="${e.const.seed}.clr:crimson">It is recommended that check out the <a href="${e.url.feedback}/74" target="_blank">Author's Proposal</a></span></p><p><textarea id="${e.const.seed}.monospaced.siterules" placeholder="Only One set of rules per line, different rules for the same site can be repeated. Such as:\r
@github.com##[class~='blob-code'] *\r
@github.com##.example,#abc,div:not(.test)\r
@github.dev###test:not([class*='test'])">${P}\r
</textarea></p><p class="${e.const.seed}.mono.notify">\u2475 Set custom monospaced font according to example.<br/><span class="${e.const.seed}.clr:crimson">Note: monospace is built-in, do not add it repeatedly.</span></p><p><input id="${e.const.seed}.monospaced.font" placeholder="Such as: 'Source Code Pro','Mono','Monaco'" value="${B}"></p><p class="${e.const.seed}.mono.notify">\u2476 Set OpenType font <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> property.<br/><span class="${e.const.seed}.clr:crimson">Leave blank if using custom font that is not OpenType.</span></p><p><input id="${e.const.seed}.monospaced.feature" placeholder='Such as: "liga" 0,"tnum","zero"' value='${G}'></p>`,A=n?"\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53":"Set Custom Monospaced Font",te=`<div id="${e.id.cm}">
                    <span class="${e.const.seed}.cusmono">${n?"\u5F00\u542F\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09":"Enable Custom Monospaced Font"}</span>
                    <input type="checkbox" id="${e.id.iscusmono}" class="${e.class.checkbox}" ${x.isCustomMono?"checked":""} />
                    <label for="${e.id.iscusmono}"></label>
                </div>${V}`,[re,oe]=n?["\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88"]:["Save","Cancel"];let I=new J({trueButtonText:re,neutralButtonText:oe,messageText:te,titleText:A});const de=["siterules","font","feature"].map(be=>y(`#${e.const.seed}\\.monospaced\\.${be}`,e.var.dialogIf)),ne=y(`#${e.id.iscusmono}`,e.var.dialogIf),Fe=(be,Se,Ne)=>Se.forEach(ye=>(ye.toggleAttribute("disabled",!be),ye.classList.toggle(Ne,!be)));Fe(ne.checked,de,e.class.readonly),ne?.addEventListener("change",()=>Fe(ne.checked,de,e.class.readonly));let[ge,ue,ve]=de.map(be=>Ke(be.value.trim()));Ht(...de);const[ie,we,le]=de;if(ie.addEventListener("change",()=>ge=t(ie,!1,!0)),we.addEventListener("change",()=>ue=t(we,!1,!0,/'(?:ui-)?monospace',?/gi)),le.addEventListener("change",()=>ve=t(le,!0,!0,/[^\w",\- ]/g)),await I.respond()){const be=ge.match(/@[\w\-.:]+##(?![^@]*##)[\w\-*.#:+>()~[\]=^$|,' ]+/g);if(ge&&!be){Qo(ge);const je=n?`<p class="${e.const.seed}.clr:crimson">\u81EA\u5B9A\u4E49\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002</p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">Custom Root/Selectors data error, Please refill!</p><p>Note: Previous content saved to the clipboard.</p>`,[$t,vt]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u6570\u636E\u9519\u8BEF"]:["OK","Custom Root/Selectors Data Error"];let m=new J({trueButtonText:$t,messageText:je,titleText:vt});if(await m.respond()){const $=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.mono}`,e.var.configIf)?.dispatchEvent($)}return m=null}const Se=ue.match(/'@?[^'\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+'/g);if(ue&&!Se){Qo(ue);const je=n?`<p class="${e.const.seed}.clr:crimson">\u60A8\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002</p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">Custom Monospaced Font Data error, Please refill!</p><p>Note: Previous content saved to the clipboard.</p>`,[$t,vt]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u9519\u8BEF"]:["OK","Custom Monospaced Font Data Error"];let m=new J({trueButtonText:$t,messageText:je,titleText:vt});if(await m.respond()){const $=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.mono}`,e.var.configIf)?.dispatchEvent($)}return m=null}const Ne=!ge||Array.isArray(be)&&be.length>0,ye=!ue||Array.isArray(Se)&&Se.length>0;if(Ne&&ye){const je=He(Se).join();ge?pe(eo,He(be)):Vt(eo),ue?pe(to,je):Vt(to),ve?pe(Z,ve):Vt(Z),x.isCustomMono=!!y(`#${e.id.iscusmono}`,e.var.dialogIf).checked,pe(z,x);const $t=n?`<p class="${e.const.seed}.clr:green">\u60A8\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u5DF2\u4FDD\u5B58\u6210\u529F\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">\u6CE8\uFF1A\u683C\u5F0F\u9519\u8BEF\u7684\u8F93\u5165\u5185\u5BB9\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002</p>`:`<p class="${e.const.seed}.clr:green">Custom Monospaced Data saved successfully!</p><p>The page will refresh after confirmation.</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">Note: Incorrect content will be filtered.</p>`,[vt,m]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u4FDD\u5B58"]:["OK","Custom Monospaced Data Save"];let $=new J({trueButtonText:vt,messageText:$t,titleText:m});await $.respond()&&Ge({isReload:!0}),$=null}}I=null}catch(x){Y("Monospaced Set:",x.message)}})}function O(u,b,x,{drawScale:w,drawStrock:_,drawShadow:D}){const{smoothT:P,ffaceT:B,fontScaleT:G,fixViewportT:V,strokeT:A,fixStrokeT:te,lazyloadT:re,fixShadowT:oe,shadowsT:I,canvasT:de,colorPickerT:ne,colorshowT:Fe,fontCssT:ge,fontExT:ue}=x;u?.addEventListener("click",async()=>{const ve=n?`<p>\u300E\u91CD\u7F6E/\u6062\u590D\u300F\u5C06\u5F53\u524D\u8BBE\u7F6E\u521D\u59CB\u5316\u4E3A <span class="${e.const.seed}.clr:708090">\u7A0B\u5E8F\u9ED8\u8BA4\u7684\u521D\u59CB\u6570\u636E</span> \u6216 <span class="${e.const.seed}.clr:708090">\u4E0A\u6B21\u6B63\u786E\u4FDD\u5B58\u7684\u6570\u636E</span>\u3002\u4E00\u822C\u662F\u5728\u60A8\u914D\u7F6E\u9519\u8BEF\u6216\u9700\u4F7F\u7528\u65B0\u529F\u80FD\u53C2\u6570\u7684\u60C5\u51B5\u4E0B\u624D\u8FDB\u884C\u91CD\u7F6E\u53C2\u6570\u7684\u64CD\u4F5C\u3002</p><p class="${e.const.seed}.clr:green">\u91CD\u7F6E\uFF1A\u91CD\u7F6E\u5F53\u524D\u6570\u636E\u4E3A\u7A0B\u5E8F\u521D\u59CB\u503C\uFF0C\u624B\u52A8\u4FDD\u5B58\u751F\u6548\u3002</p><p class="${e.const.seed}.clr:8b0000">\u6062\u590D\uFF1A\u66FF\u6362\u4E3A\u4E0A\u6B21\u6B63\u786E\u4FDD\u5B58\u7684\u6570\u636E\uFF0C\u81EA\u52A8\u6062\u590D\u9884\u89C8\u3002</p><p class="${e.const.seed}.clr:808080">\u53D6\u6D88\uFF1A\u653E\u5F03\u91CD\u7F6E\u64CD\u4F5C\u3002</p>`:`<p>\u300EReset/Restore\u300FInitializes the current settings to <span class="${e.const.seed}.clr:708090">the program's default initial data</span> or <span class="${e.const.seed}.clr:708090">the last saved data</span>. The reset is usually done when configuration error or new feature is needed. </p><p class="${e.const.seed}.clr:green"><b>Reset:</b> Reset the current data to the initial value of the program, and save data manually.</p><p class="${e.const.seed}.clr:8b0000"><b>Restore:</b> Replace all with the last correctly saved data, and automatically restore preview. </p><p class="${e.const.seed}.clr:808080"><b>Cancel:</b> Abort the reset operation. </p>`,[ie,we]=n?["\u91CD \u7F6E","\u6062 \u590D"]:["Reset","Restore"],[le,be]=n?["\u53D6 \u6D88","\u53C2\u6570\u91CD\u7F6E\u786E\u8BA4"]:["Cancel","Confirm To Reset Settings"];let Se=new J({trueButtonText:ie,falseButtonText:we,neutralButtonText:le,messageText:ve,titleText:be});const Ne=y(`#${e.id.shadowColor}`,e.var.configIf);await Se.respond()?(P.checked!==me.fontSmooth?P.click():se("<fontSmooth> NOT MODIFIED"),B.checked!==me.fontFace?B.click():se("<fontFace> NOT MODIFIED"),k.fontSelect.split(",")[0]!==me.fontSelect?b?.fresetList():b?.fdeleteList(),xt&&(G.value=me.fontSize===1?"OFF":me.fontSize.toFixed(3),G.dispatchEvent(new Event("change")),Zt(w,e.var.curScale=me.fontSize,3),qt&&(V.checked!==me.fixViewport?V.click():se("<fixViewport> NOT MODIFIED"),y(`#${e.id.fviewport}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,G.value==="OFF"))),A.value=me.fontStroke===0?"OFF":me.fontStroke.toFixed(3),A.dispatchEvent(new Event("change")),Zt(_,me.fontStroke,3),_t&&(te.checked!==me.fixStroke?te.click():se("<fixStroke> NOT MODIFIED"),re.checked!==me.lazyload?re.click():se("<lazyload> NOT MODIFIED"),y(`#${e.id.fstroke}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,A.value==="OFF")),I.value=me.fontShadow===0?"OFF":me.fontShadow.toFixed(2),I.dispatchEvent(new Event("change")),Zt(D,me.fontShadow,2),Lt&&(oe.checked!==me.fixShadow?oe.click():se("<fixShadow> NOT MODIFIED")),Ne?.classList.toggle(`${e.const.seed}.disp:none`,I.value==="OFF"),rt||(de.checked!==me.renderCanvas?de.click():se("<canvas> NOT MODIFIED")),ne.fromString(me.shadowColor),Fe.dispatchEvent(new Event("change")),ge.value=me.fontCSS,ge.dispatchEvent(new Event("input")),ue.value=me.fontEx,ue.dispatchEvent(new Event("input")),ht(220)(lo(B.checked,me.fontSelect.replace(/'/g,""),xo)).then(()=>y(`#${e.id.submit} .${e.class.submit}[v-Preview="true"]`,e.var.configIf)).then(ye=>void ye?.click())):(P.checked!==k.fontSmooth?P.click():se("<fontSmooth> NOT MODIFIED"),B.checked!==k.fontFace?B.click():se("<fontFace> NOT MODIFIED"),b?.fdeleteList(),xt&&(G.value=k.fontSize===1?"OFF":k.fontSize.toFixed(3),G.dispatchEvent(new Event("change")),Zt(w,k.fontSize,3),e.array.scaleMatrix.push(e.var.curScale=k.fontSize),qt&&(V.checked!==k.fixViewport?V.click():se("<fixViewport> NOT MODIFIED"),y(`#${e.id.fviewport}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,G.value==="OFF"))),A.value=k.fontStroke===0?"OFF":k.fontStroke.toFixed(3),A.dispatchEvent(new Event("change")),Zt(_,k.fontStroke,3),_t&&(te.checked!==k.fixStroke?te.click():se("<fixStroke> NOT MODIFIED"),re.checked!==k.lazyload?re.click():se("<lazyload> NOT MODIFIED"),y(`#${e.id.fstroke}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,A.value==="OFF")),I.value=k.fontShadow===0?"OFF":k.fontShadow.toFixed(2),I.dispatchEvent(new Event("change")),Zt(D,k.fontShadow,2),Lt&&(oe.checked!==k.fixShadow?oe.click():se("<fixShadow> NOT MODIFIED")),Ne?.classList.toggle(`${e.const.seed}.disp:none`,I.value==="OFF"),rt||(de.checked!==k.renderCanvas?de.click():se("<canvas> NOT MODIFIED")),ne.fromString(k.shadowColor),Fe.dispatchEvent(new Event("change")),ge.value=k.fontCSS,ge.dispatchEvent(new Event("input")),ue.value=k.fontEx,ue.dispatchEvent(new Event("input")),lo(B.checked,ao,xo).then(Ho({Scenes:"recover",Permit:k.o.fixStroke})),Bn(e.var.preview,e.var.topStyle=co)||delete e.var.preview),Se=null})}function fe(u,b,x){const{ffaceT:w,smoothT:_,fontScaleT:D,fixViewportT:P,strokeT:B,fixStrokeT:G,lazyloadT:V,shadowsT:A,fixShadowT:te,canvasT:re,colorshowT:oe,colorReg:I,fontCssT:de,fontExT:ne}=x;u?.addEventListener("click",async function(){const Fe=b?.fsearchList(e.id.fontName)??[],ge=Fe.length>0?Wn(Fe):k.fontSelect,[ue,ve]=[w.checked,_.checked],ie=D&&/^[0-2](\.[0-9]{1,3})?$/.test(D.value)?parseFloat(D.value):me.fontSize,we=ms(!On&&xt,ie),le=qt&&Number(we)!==1&&P.checked,be=/^[0-1](\.[0-9]{1,3})?$/.test(B.value)?Number(B.value):B.value==="OFF"?0:me.fontStroke,Se=_t&&be&&G.checked,Ne=Se&&V.checked,ye=/^[0-8](\.[0-9]{1,2})?$/.test(A.value)?Number(A.value):A.value==="OFF"?0:me.fontShadow,je=Lt&&Se&&ye&&te.checked,[$t,vt,m,$]=[re?.checked,oe.value,de.value,ne.value],T=I.test(vt)?vs(vt):me.shadowColor,M=m?Ke(m.replace(/["`]/g,"'")).replace(/[,]+/g,","):me.fontCSS,X=$?Ke($.replace(/["`]/g,"'")).replace(/[,]+/g,","):"",Re=!ue&&!ve&&!ye&&!be&&Number(we)===1;if(zo&&this.hasAttribute("v-Preview"))try{const tt=Number(we)!==1?Xs(we):"",Xe=ye>0&&ye<=4?"text-shadow:var(--fr-font-shadow);":"",wo=be>0&&be<=1?"-webkit-text-stroke:var(--fr-font-stroke);":"",pn=`${wo?be:0}px currentcolor`,Uo=qs(ye,T),Xn=ve?$s:"",qn=ue?"font-family:var(--fr-font-family),var(--fr-font-basefont),var(--fr-font-emoji);":"",Vo=ge?.replace(/["']/g,"").split(",")??[],Go=Vo[1]??Vo[0]??"",un=ue&&Go?await Ys(Vo,Go,Ue):"",qe=X&&(Xe||wo)?`${Ee}:is(${X}){${`${Xe?"text-shadow:none!important;":""}${wo?"-webkit-text-stroke:var(--fr-no-stroke)!important;":""}`}}`:"",fn=X?Zs(X,ue,sn):"",Ko=Se?ks(Lt&&je?"text-shadow:var(--fr-fix-shadow)!important;":""):"",mn=`${un}${tt}${Ee}::placeholder,${Ee}:is(${M}${Cs}){${qn}}${Ee}:is(${M}){${Xe}${wo}${Xn}}${qe}${fn}${Ko}`,Jt=ut&&ue?e.var.style.firefox:"",po=`0 0 ${ye}px ${T.toLowerCase().slice(0,7).concat("2b")}`,ko=$t?"--fr-render-shape:geometricPrecision;":"",Wo=`:root{--fr-font-basefont:${Mt.fontBase};--fr-font-emoji:${Mt.fontEmoji};${bs}--fr-font-fontscale:${we};--fr-font-family:${ge};--fr-font-shadow:${Uo};--fr-font-stroke:${pn};--fr-no-stroke:0px transparent;--fr-fix-stroke:var(--fr-no-stroke);--fr-fix-shadow:${po};--fr-render-text:optimizeLegibility;${ko}--fr-render-image:auto;${Ms}${Ds}${Ls}${Is}${Rs}}`,Yo=`@charset "UTF-8";${e.var.style.frDialog}${Re?"":`${Wo}${Jt}${mn}`}`;ea({button:this,isRestore:!1}),lo(ue,Go,xo).then(Ho({CorrectStyle:Ko,Scenes:"preview",Permit:Se})).then(()=>se(`frColorPicker<Preview>: %c${T}`,tn(T,Ps(T.slice(1))>182?"#333":"#eee"))),Bn(zo,e.var.topStyle=Yo,!1)}catch(tt){Y("ControlSubmitButton:",tt.message)}else{try{const Uo=n?`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">\u4FDD\u5B58\u5230\u5168\u5C40\u6570\u636E\uFF1A</p><p>\u5C06\u5F53\u524D\u8BBE\u7F6E\u4FDD\u5B58\u4E3A\u5168\u5C40\u8BBE\u7F6E\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u53C2\u6570\u3002</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">\u4FDD\u5B58\u5230\u5F53\u524D\u7F51\u7AD9\u6570\u636E\uFF1A<span id="${e.const.seed}.sitedatalist">[<span>\u5168\u90E8\u6570\u636E\u5217\u8868</span>]</span></p><p class="${e.const.seed}.mh:22p"><span title="\u4FDD\u5B58\u5230\u7F51\u7AD9\u6570\u636E\u4F1A\u81EA\u52A8\u8986\u76D6\u4E4B\u524D\u7684\u6570\u636E" id="${e.const.seed}.save.sitedata">\u4E3A ${wt} \u4FDD\u5B58\u72EC\u7ACB\u7684\u8BBE\u7F6E\u6570\u636E\u3002</span>`:`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">Save to Global Data:</p><p>Save as global setting, using global by default. </p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">Save to Current Website Data: <span id="${e.const.seed}.sitedatalist">[<span> All Data List </span>]</span></p><p class="${e.const.seed}.mh:22p"><span title="Data saved to the website will automatically overwrite the previous data" id="${e.const.seed}.save.sitedata">Save to website data for ${wt}</span>`,[Xn,qn]=n?["\u4FDD\u5B58\u5230\u5168\u5C40\u6570\u636E","\u4FDD\u5B58\u5230\u7F51\u7AD9\u6570\u636E"]:["Global Save","Website Save"],[Vo,Go]=n?["\u53D6 \u6D88","\u4FDD\u5B58\u8BBE\u7F6E\u6570\u636E"]:["Cancel","Save Settings Data"];let un=new J({trueButtonText:Xn,falseButtonText:qn,neutralButtonText:Vo,messageText:Uo,titleText:Go}),[yo,qe]=[await ot(Ie)];try{qe=yo?[...r.parse(Te(yo))]:[]}catch{qe=[]}const fn=y(`#${e.const.seed}\\.sitedatalist`,e.var.dialogIf);fn?.classList.add(qe.length>0?`${e.const.seed}.disp:inline.block`:`${e.const.seed}.disp:none`),fn?.addEventListener("click",()=>void Ws());const jo=on(qe),Ko=y(`#${e.const.seed}\\.save\\.sitedata`,e.var.dialogIf);if(~jo&&Ko){const Jt=Un("yyyy-MM-dd HH:mm:ss",new Date(qe[jo].fontDate)),po=n?`<p class="${e.const.seed}.save:p"><span class="${e.const.seed}.clr:indigo"><strong>\u4E0A\u6B21\u4FDD\u5B58\uFF1A</strong>${Jt} </span><button id="${e.const.seed}.del.sitedata" title="\u5220\u9664\u6570\u636E\u540E\u5C06\u5237\u65B0\u9875\u9762">\u5220\u9664\u5F53\u524D\u7F51\u7AD9\u6570\u636E</button></p>`:`<p class="${e.const.seed}.save:p"><span class="${e.const.seed}.clr:indigo"><strong>The last saved</strong>: ${Jt} </span><button id="${e.const.seed}.del.sitedata" title="The page will be refreshed after deleting the data">Delete Data</button></p>`;Ko.innerHTML=c.createHTML(po),y(`#${e.const.seed}\\.del\\.sitedata`,e.var.dialogIf)?.addEventListener("click",async()=>{~jo&&qe.splice(jo,1),pe(Ie,qe);const ko=n?`<p class="${e.const.seed}.clr:8b0000">\u5F53\u524D\u7F51\u7AD9\u7684\u4E2A\u6027\u5316\u6570\u636E\u5DF2\u6210\u529F\u5220\u9664\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:8b0000">The current site data was deleted!</p><p>The page will refresh after confirmation.</p>`,[Wo,Yo]=n?["\u611F\u8C22\u4F7F\u7528","\u4E2A\u6027\u5316\u6570\u636E\u5220\u9664"]:["Thanks","Customized Data Deletion"];let hn=new J({trueButtonText:Wo,messageText:ko,titleText:Yo});await hn.respond()&&Ge({isReload:!0}),hn=null})}const mn={fontSelect:Ke(ge),fontFace:!!ue,fontSmooth:!!ve,fontSize:Number(we),fixViewport:!!le,fontStroke:Number(be),fixStroke:!!Se,lazyload:!!Ne,fontShadow:Number(ye),fixShadow:!!je,renderCanvas:!!$t,shadowColor:Ke(T),fontCSS:Ke(M),fontEx:Ke(X)};if(await un.respond())(e.var.successed=!0)&&pe(xe,mn),Mn!==Re&&(ze.globalDisable=!Mn,pe(z,ze));else{const Jt={domain:wt,fontDate:Date.now(),...mn};yo=await ot(Ie);try{qe=yo?[...r.parse(Te(yo))]:[]}catch{qe=[]}const po=on(qe);if(~po?qe.splice(po,1,Jt):qe.push(Jt),qe.length<=_o||~po)(e.var.successed=!0)&&pe(Ie,qe);else{const ko=n?`<p class="${e.const.seed}.clr:808080">\u60A8\u5DF2\u7ECF\u4FDD\u5B58\u8D85\u8FC7<span class="${e.const.seed}.clr:crimson ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita ${e.const.seed}.fs:20p">${_o} </span>\u4E2A\u7F51\u7AD9\u7684\u4E2A\u6027\u5316\u6570\u636E\u4E86\uFF0C\u8FC7\u591A\u7684\u6570\u636E\u4F1A\u4F7F\u811A\u672C\u8FD0\u884C\u901F\u5EA6\u8FC7\u6162\uFF0C\u8FDB\u800C\u4F1A\u5F71\u54CD\u60A8\u6D4F\u89C8\u7F51\u9875\u7684\u54CD\u5E94\u901F\u5EA6\uFF0C\u5EFA\u8BAE\u60A8\u53CA\u65F6\u5220\u9664\u4E00\u4E9B\u5E73\u65F6\u8BBF\u95EE\u8F83\u5C11\u7684\u7AD9\u70B9\u8BBE\u7F6E\uFF0C\u7136\u540E\u518D\u8FDB\u884C\u65B0\u7F51\u7AD9\u8BBE\u7F6E\u7684\u6570\u636E\u4FDD\u5B58\u3002</p><p class="${e.const.seed}.clr:crimson">\u60A8\u786E\u8BA4\u8981\u7EE7\u7EED\u4FDD\u5B58\u5417\uFF1F</p>`:`<p class="${e.const.seed}.clr:808080">You have saved more than <span class="${e.const.seed}.clr:crimson ${e.const.seed}.fw:700 ${e.const.seed}.fst:nml ${e.const.seed}.fs:20p">${_o}</span > Personalized data. Too much data will make script load slowly. It is recommended that you promptly delete some website configure data that you rarely visit. </p><p class="${e.const.seed}.clr:crimson">Are you sure you want to continue saving? </p>`,[Wo,Yo]=n?["\u4F9D\u7136\u4FDD\u5B58","\u7BA1\u7406\u5217\u8868"]:["Still Save","Manage"],[hn,_r]=n?["\u6211\u653E\u5F03","\u6570\u636E\u8FC7\u591A\u7684\u63D0\u793A"]:["Abort","Too Much Data"];let ta=new J({trueButtonText:Wo,falseButtonText:Yo,neutralButtonText:hn,messageText:ko,titleText:_r});await ta.respond()?(e.var.successed=!0)&&pe(Ie,qe):delete e.var.successed&&await Ws(),ta=null}}un=null}catch(Uo){delete e.var.successed&&Y("ControlSubmitButton:",Uo.message)}if(!e.var.successed)return;const tt=n?`<p class="${e.const.seed}.clr:green">\u60A8\u8BBE\u7F6E\u7684\u5B57\u4F53\u6E32\u67D3\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Font Rendering data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[Xe,wo]=n?["\u611F\u8C22\u4F7F\u7528","\u5B57\u4F53\u6E32\u67D3\u6570\u636E\u4FDD\u5B58"]:["Thanks","Font Rendering Data Save"];let pn=new J({trueButtonText:Xe,messageText:tt,titleText:wo});await pn.respond()&&Ge({isReload:delete e.var.successed}),pn=null}})}function W(u,b){!b||!u||(u.classList.add(`${e.const.seed}.disp:inline.block`),u.addEventListener("click",async()=>{try{const x=n?`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">\u5907\u4EFD\u5230\u672C\u5730\u6587\u4EF6\uFF1A</p><p>\u5907\u4EFD\u5230\u672C\u5730\uFF0C\u81EA\u52A8\u4E0B\u8F7D backup.*.sqlitedb \u6587\u4EF6\u3002</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">\u4ECE\u672C\u5730\u6587\u4EF6\u8FD8\u539F\uFF1A</p><p><span class="${e.const.seed}.clr:indigo ${e.const.seed}.cs:pointer" id="${e.id.tfiles}">\u{1F50E} [\u70B9\u51FB\u8FD9\u91CC\u8F7D\u5165*.sqlitedb\u5907\u4EFD\u6587\u4EF6]</span><input accept=".sqlitedb" type="file" id="${e.id.files}"/></p>`:`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">Backup to local file:</p><p>Backup and download the backup.*.sqlitedb file.</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">Restore from local file:</p><p><span class="${e.const.seed}.clr:indigo ${e.const.seed}.cs:pointer" id="${e.id.tfiles}">\u{1F50E} [Click here to load *.sqlitedb backup file]</span><input accept=".sqlitedb" type="file" id="${e.id.files}"/></p>`,[w,_]=n?["\u5907 \u4EFD","\u8FD8 \u539F"]:["Backup","Restore"],[D,P]=n?["\u53D6 \u6D88","\u5907\u4EFD\u4E0E\u8FD8\u539F\u6570\u636E"]:["Cancel","Backup and Restore Data"];let B=new J({trueButtonText:w,falseButtonText:_,neutralButtonText:D,messageText:x,titleText:P});const[G,V]=[e.id.tfiles,e.id.files].map(A=>y(`#${A}`,e.var.dialogIf));if(G&&V&&(G.addEventListener("click",()=>void V.click()),V.addEventListener("change",()=>{const A=V.files[0]?`<em class="${e.const.seed}.clr:indigo ${e.const.seed}.fs:11p ${e.const.seed}.wrap.break">${V.files[0].name}</em><br/><span class="${e.const.seed}.clr:crimson"> \u{1F50E} [${n?"\u91CD\u65B0\u9009\u62E9":"Reselect"}]</span>`:`\u{1F50E} [${n?"\u70B9\u51FB\u8FD9\u91CC\u8F7D\u5165*.sqlitedb\u5907\u4EFD\u6587\u4EF6":"Click here to load *.sqlitedb backup file"}]`;G.innerHTML=c.createHTML(A)})),await B.respond()){const A=[xe,q,Ie,Qe,to,eo,Z,Oe,Ce,z],te=await Promise.all(A.map(je=>ot(je))),[re,oe,I,de,ne,Fe,ge,ue,ve,ie]=te,we={db_R:Vn()?.keycode?.().concat(Kt(e.var.scriptName)),db_0:Kt(new Date),db_1:re,db_2:oe,db_3:I||Kt(r.stringify([])),db_4:de||Kt(r.stringify([])),db_5:ie,db_6:ne||"",db_7:Fe||"",db_8:ge||"",db_9:ue||"",db_10:ve||""},le=`FontRendering-backup-${at.toLowerCase()}-${Un("yyyy-MM-ddTHH-mm-ssZ",new Date)}.sqlitedb`;Sa(le,ke.encrypt(r.stringify(we)));const be=n?`<p class="${e.const.seed}.clr:green">\u5907\u4EFD\u6570\u636E\u5DF2\u5F52\u6863\uFF0C\u5907\u4EFD\u6587\u4EF6\u5BFC\u51FA\u4E0B\u8F7D\u4E2D\u2026\u2026</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fst:ita ${e.const.seed}.fs:12p ${e.const.seed}.wrap.break">${le}</p>`:`<p class="${e.const.seed}.clr:green">The data archived and being downloaded\u2026</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fst:ita ${e.const.seed}.fs:12p ${e.const.seed}.wrap.break">${le}</p>`,[Se,Ne]=n?["\u786E \u5B9A","\u6570\u636E\u5907\u4EFD"]:["OK","Data Backup"];let ye=new J({trueButtonText:Se,messageText:be,titleText:Ne});await ye.respond()&&(se(`Backup succeeded: ${le}`)??Ge()),ye=null}else try{const A=V.files[0];se("loadBackupData:",A.name,A.size);let te=new FileReader;te.addEventListener("load",async function(){try{const re=Te(String(this.result)),oe=r.parse(ke.decrypt(re)),I=ft();for(let de=1;de<=10;de++){const ne=`db_${de}`;I[ne]=oe[ne]?r.parse(Te(oe[ne])):[3,4].includes(de)?[]:void 0}if(I.db_R=Te(oe.db_R),I.db_0=Te(oe.db_0),!isNaN(Date.parse(I.db_0))&&new Date(I.db_0)<new Date&&Vn()?.inspect?.(I.db_R)){(await Qn()).forEach(we=>void Vt(we)),pe(xe,I.db_1),pe(q,I.db_2),pe(Ie,I.db_3),pe(Qe,I.db_4),I.db_6&&pe(to,I.db_6),I.db_7&&pe(eo,I.db_7),I.db_8&&pe(Z,I.db_8),I.db_9&&pe(Oe,I.db_9),I.db_10&&pe(Ce,I.db_10),I.db_5?(I.db_5.curVersion=e.var.curVersion,I.db_5.rebuild=void 0,pe(z,I.db_5)):se("no configure data");let ne=n?`<p class="${e.const.seed}.clr:green">\u672C\u5730\u5907\u4EFD\u6570\u636E\u5DF2\u6210\u529F\u8FD8\u539F\uFF01</p>`:`<p class="${e.const.seed}.clr:green">Local backup data restored Successfully!</p>`;const Fe=n?"\u6B63\u5728\u52AA\u529B\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u4E2D\uFF0C\u8BF7\u7A0D\u540E...":"Pulling predefined render data, please wait...";ne+=`<p id="${e.const.seed}.pull.result" class="${e.const.seed}.clr:708090">${Fe}</p>`;const[ge,ue]=n?["\u786E \u5B9A","\u6570\u636E\u8FD8\u539F\u5B8C\u6BD5"]:["OK","Data restoration complete"];let ve=new J({trueButtonText:ge,messageText:ne,titleText:ue});ve.trueButton.className=ve.trueButton.setAttribute("disabled","")??`${e.class.dbb} ${e.class.dbbn}`;const ie=y(`#${e.const.seed}\\.pull\\.result`,e.var.dialogIf);ie&&await js(ie,ve),ve=null}else throw new Error("Invalid Data Error")}catch(re){Y("FileReader.load:",re.message);const oe=n?`<p class="${e.const.seed}.clr:8b0000">\u6570\u636E\u6821\u9A8C\u9519\u8BEF\uFF0C\u8BF7\u9009\u62E9\u6B63\u786E\u7684\u672C\u5730\u5907\u4EFD\u6587\u4EF6\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Data validation error, please recheck the file!</p>`,[I,de]=n?["\u786E \u5B9A","\u6570\u636E\u6587\u4EF6\u9519\u8BEF"]:["OK","Data File Error"];let ne=new J({trueButtonText:I,messageText:oe,titleText:de});await ne.respond()&&y(`#${e.id.backup}`,e.var.configIf)?.click(),ne=null}},!1),te.readAsText(A),te=null}catch(A){Y("<Load file not exist>",A.name);const te=n?`<p class="${e.const.seed}.clr:indigo">\u8F7D\u5165\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u8BF7\u9009\u62E9\u8981\u8FD8\u539F\u7684\u5907\u4EFD\u6587\u4EF6\uFF01</p>`:`<p class="${e.const.seed}.clr:indigo">Load file not exist, please select one to restore!</p>`,[re,oe]=n?["\u786E \u5B9A","\u6CA1\u6709\u6587\u4EF6\u8F7D\u5165"]:["OK","No File Loading"];let I=new J({trueButtonText:re,messageText:te,titleText:oe});await I.respond()&&y(`#${e.id.backup}`,e.var.configIf)?.click(),I=null}B=null}catch(x){Y("LoadBackupData:",x.message)}}))}}async function Lr(){const o=await Cn(),t=new No,a=[];for(const[i,p]of o.entries())!t.detect(p.en)&&!((p.en=Sn(p.ch))&&t.detect(p.en))||delete p.ps&&a.push({...p,sort:i+1});return t.destroy(),a.sort((i,p)=>i.sort-p.sort)}async function lo(o,t,a){let i=e.var.reFontFace=a;if(o){e.var.reFontFace=n?`\u672A\u77E5\u5B57\u4F53\u540D\uFF08\u8BF7\u91CD\u65B0\u6DFB\u52A0\u8BE5\u81EA\u5B9A\u4E49\u5B57\u4F53: ${t}\uFF09`:`Unknown (Re-Add Font: ${t})`,i=n?"\u672A\u77E5\u5B57\u4F53\u540D":"Unknown";const S=await Cn();for(const v of S.values())if(!(v.en!==t&&Sn(v.ch)!==t)){i=t.includes("\\")?"":` (${v.en})`,e.var.reFontFace=v.ch+i,i=v.ch;break}}const p=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);p?.setAttribute("placeholder",`${n?"\u5F53\u524D\u5B57\u4F53\uFF1A":"Current: "}${i}`),p?.addEventListener("mouseenter",()=>void p.setAttribute("placeholder",n?"\u8F93\u5165\u5173\u952E\u5B57\u53EF\u68C0\u7D22\u5B57\u4F53":"Enter some keywords")),p?.addEventListener("mouseleave",()=>void p.setAttribute("placeholder",`${n?"\u5F53\u524D\u5B57\u4F53\uFF1A":"Current: "}${i}`))}function Ge({isReload:o}={}){J.closure()&&y(`#${e.id.container}`,e.var.configIf)?.classList.remove(`${e.const.seed}.opac:1`),ht(500)(kt("fr-colorpicker")).then(t=>t&&kt("fr-configure")&&y(`dialog#${e.const.dialog}`)).then(us),e.array.values.clear(),o?Mo():zo&&Qs()}function Kn(o,t,a,i=!1){!o||!t||o.addEventListener("input",()=>{const[p,S]=[Number(o.value),Number(o.value)===Number(i)],v=(ee,ce)=>ee?.classList.toggle(`${e.const.seed}.${ce}`,S);switch(Zt(o,p,a),t.value=S?"OFF":p.toFixed(a),t.dispatchEvent(new Event("change")),o.id){case e.id.shadow:return v(y(`#${e.id.shadowColor}`,e.var.configIf),"disp:none");case e.id.scale:return qt&&v(y(`#${e.id.fviewport}`,e.var.configIf),"vis:hidden");case e.id.stroke:return Xt&&v(y(`#${e.id.fstroke}`,e.var.configIf),"vis:hidden")}})}function Js(o,t,a){if(!o||!t||!a)return;const i=o.attributes["fr-button-switch"];o.addEventListener("click",()=>{const p=i.value==="ON";t.classList.toggle(`${e.const.seed}.disp:none`,p),o.textContent=p?"\u2228":"\u2227",a.classList.toggle(`${e.const.seed}.h:35p.mh:35p`,p),i.value=p?"OFF":"ON"})}function it(o,t,a,i=!1){if(!o||!a)return;const p=Ro({fn:Mr,delay:200}),S=["textarea","hidden"].includes(o.type)?"input":"change";o.addEventListener(S,()=>{const v=o.type==="checkbox"?o.checked:o.value;p(v,t,o,a,i,zo)})}function Mr(o,t,a,i,p,S){try{const v=typeof o=="string"&&/^currentcolor$/i.test(o)?"#FFFFFFFF":o;(typeof a.dataset.frType<"u"?Number(o==="OFF"?p:o):v)!==t?e.array.values.add(a.id):e.array.values.delete(a.id);const ce=e.array.values.size>0;i.classList.toggle(e.class.anim,ce),S&&(se(`changed Element IDs:\r
`,e.array.values)||ce?Ir(i):ea({button:i}))}catch(v){Y("SetEffectIntoSubmit:",v)}}function Qs(){e.array.scaleMatrix.push(e.var.curScale=k.fontSize),e.var.preview&&Ho({Scenes:"recover",Permit:k.o.fixStroke})(),Bn(e.var.preview,e.var.topStyle=co)||delete e.var.preview}function ea({button:o,isRestore:t=!0}){o.textContent=n?"\u4FDD\u5B58":t?"Save":"\u{1D47A}\u{1D482}\u{1D497}\u{1D486}",o.classList.remove(`${e.const.seed}.prvw`),["v-Preview","title"].forEach(a=>o.removeAttribute(a)),t&&Qs()}function Ir(o){o.textContent=n?"\u9884\u89C8":"\u{1D477}\u{1D493}\u{1D497}\u{1D498}",o.title=n?"\u9884\u89C8\u6E32\u67D3\u6548\u679C":"Preview Rendering",o.classList.add(`${e.const.seed}.prvw`),o.setAttribute("v-Preview","true")}function Wn(o){if(!Array.isArray(o))return me.fontSelect;const t=He(o,Boolean,a=>`'${a}'`);return t.length>0?t.join(","):me.fontSelect}function Yn(o){return he(o).reduce((t,a)=>{const i=a.charCodeAt(0);return i===12288?t+String.fromCharCode(i-12256):i>=65281&&i<=65374?t+String.fromCharCode(i-65248):t+a},"")}function Rr(o){!Array.isArray(o)||o.length===0||ht(600)(Ge()).then(async()=>{if(y("fr-dialogbox[fr-error]"))return;const t=o.map((U,C)=>`${C+1}. ${U}`).join("<br/>"),a=n?`<p class="${e.const.seed}.clr:crimson ${e.const.seed}.fs:14p">\u811A\u672C\u5728\u8FD0\u884C\u65F6\u53D1\u751F\u4E86\u91CD\u5927\u5F02\u5E38\u6216\u9519\u8BEF\uFF0C\u82E5\u5728\u300E\u5237\u65B0\u9875\u9762\u300F\u540E\u4F9D\u7136\u62A5\u9519\uFF0C\u8BF7\u901A\u8FC7\u300E\u53CD\u9988\u95EE\u9898\u300F\u53CA\u65F6\u544A\u77E5\u4F5C\u8005\uFF0C\u611F\u8C22\u60A8\u7684\u53CD\u9988\uFF01<br/><kbd id="${e.const.seed}.kbd">\u4EE5\u4E0B\u4FE1\u606F\u4F1A\u81EA\u52A8\u4FDD\u5B58\u81F3\u60A8\u7684\u526A\u5207\u677F</kbd></p>`:`<p class="${e.const.seed}.clr:crimson ${e.const.seed}.fs:14p">The script is running with a major error, if it still report an error after refreshing, please let the author know, thanks!<br/><kbd id="${e.const.seed}.kbd">The following info is saved to your clipboard</kbd></p>`,i=n?`<li>\u6D4F\u89C8\u5668\u4FE1\u606F\uFF1A${r.stringify(g)}\u3000</li><li>\u811A\u672C\u6269\u5C55\u4FE1\u606F\uFF1A${Rt} v${gn}\u3000</li>`:`<li><b>BrowserInfo:</b> ${r.stringify(g)}\u3000</li><li><b>ScriptManager:</b> ${Rt} v${gn}\u3000</li>`,p=n?`<li>\u811A\u672C\u7248\u672C\u4FE1\u606F\uFF1Av${e.var.curVersion}\u3000</li><li>\u5F53\u524D\u8BBF\u95EE\u57DF\u540D\uFF1A${os}//${jt}<span hidden> ${$n}</span>\u3000</li>`:`<li><b>ScriptVersion:</b> v${e.var.curVersion}\u3000</li><li><b>DomainName:</b> ${os}//${jt}<span hidden> ${$n}</span>\u3000</li>`,S=n?`<li>\u9519\u8BEF\u4FE1\u606F\u5217\u8868\uFF1A\u3000<span class="${e.const.seed}.disp:block ${e.const.seed}.clr:tan">${t}</span></li>`:`<li><b>ErrorsList:</b>\u3000<span class="${e.const.seed}.disp:block ${e.const.seed}.clr:tan">${t}</span></li>`,v=`${a}<p><ul id="${e.const.seed}.report:author">${i}${p}${S}</ul></p>`,[ee,ce,$e]=n?["\u53CD\u9988\u95EE\u9898","\u5237\u65B0\u9875\u9762","\u9519\u8BEF\u62A5\u544A"]:["FeedBack","Reload","Error Report"];try{let U=new J({trueButtonText:ee,falseButtonText:ce,messageText:v,titleText:$e});U.container.setAttribute("fr-error",!(e.array.exps.length=0));const C=(K,ae,R)=>ae?`
`:R?" ":`
`,N=(y(`#${e.const.seed}.report:author`,e.var.dialogIf)?.textContent.trim()??"").replace(/(\u3000)|(\u0020+)|((?:\r?\n)+)/g,C);await U.respond()?(Qo("```log\n"+N+"\n```"),lt(`${e.url.feedback}/new?assignees=F9y4ng&template=bug_report.md`,!1)):Mo(),U=null}catch(U){Y("ReportErrorToAuthor:",U.message)}})}function Dr(o){if(!io||!k.o.renderCanvas||!k.o.fontFace)return;const t=/^((?:[a-z-]+\s)+|[0-9]+\s)?(\d*\.?\d+(?:px|em|pt|%|rem)\s)?(.+)$/i,a=`${k.o.fontSelect},${Mt.fontBase}`,i=S=>{const v=S?.match(t);return v?`${v[1]??""} ${v[2]??""} ${a}`.trim():S},p=S=>CanvasRenderingContext2D.prototype[S]=function(...v){!this.frFontFace&&this.font&&!this.font.includes(o)&&(this.font=i(this.font),S==="fillText"&&$o>0&&!/(?:bold|[6789]00)\s/i.test(this.font)&&(e.var.fillText.apply(this,v),Q.Object.assign(this,{shadowColor:cn(Dn),shadowBlur:$o,shadowOffsetX:0,shadowOffsetY:0}))),e.var[S].apply(this,v)};["fillText","strokeText"].forEach(p)}function Ho({CorrectStyle:o=Ss,Scenes:t,Permit:a}={}){const i=!!ct?.getItem(e.const.flagName),p=!!Fo?.getItem(e.const.flagName),S={attributeOldValue:!0,childList:!0,subtree:!0},v={flag:i,nodeCounter:new Map,threshold:250,interval:50},ee=new Set(e.const.queryString.split(",").filter(m=>!m.includes("*"))),[ce,$e]=[fe(e.const.boldAttrName,!i),Math.min(navigator.hardwareConcurrency||4,20)],[U,C,N,K]=[new Set,new WeakMap,new RegExp("watermark","i"),`:not(${e.const.queryString})`],ae=Ro({fn:G,delay:50}),R=Ro({fn:ve,delay:16}),L=_t&&!!(t??(io&&k.o.fixStroke));if(["iframe","preview","recover"].includes(t))return a===!1?e.var.obsCorrect?.disconnect()||t==="recover"&&(o=""):t!=="iframe"&&(e.var.obsCorrect=delete e.var.obsCorrect&&new MutationObserver(V)),L?G:()=>e.var.obsCorrect=null;return e.var.obsCorrect=new MutationObserver(V),$t;function O(m,$){const[T,M,X]=[[$],new Set,new Set];for(;T.length;){const Re=T.pop(),tt=Ze(m,Re).filter(Xe=>!N.test(yt(Xe.className)));Re.nodeType===Node.ELEMENT_NODE&&M.add(Re),tt.forEach(Xe=>M.add(Xe)&&Xe.shadowRoot&&T.push(Xe.shadowRoot)&&X.add(Xe.shadowRoot))}return{elementSet:M,shadowSet:X}}function fe(m,$){const T=M=>($&&M.removeAttribute(m),void M.classList.add(m));return{add:M=>void(v.flag?T(M):M.setAttribute(m,"")),del:M=>void(v.flag?M.classList.remove(m):M.removeAttribute(m))}}function W(m,$=[Node.ELEMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE]){return m&&$.includes(m.nodeType)&&!ee.has(Dt(m))&&!N.test(yt(m.className))}function u(m,$){let T=C.get(m);return(!T||T<600&&$)&&(T=yn(m).fontWeight,C.set(m,T)),T>=600}function b({checkedNode:m,uncheckedNode:$}){const T=m?.node??$,M=m?.isbold??u($),X=le(T,!1);if(X===M)return;const Re=X?ce.del:ce.add;k.o.lazyload?F[e.const.raf](Re.bind(null,T)):Re(T)}function x(m,$,T,M,X=0){for(;X++<=$;){const{done:Re,value:tt}=m.next();if(Re)return void M();T(tt)}Eo.setTimeout(x,0,m,$,T,M)}function w({elementSet:m,recheck:$}){const T=new Set,M=tt=>T.add({node:tt,isbold:u(tt,$)}),X=()=>T.forEach(tt=>b({checkedNode:tt}))??T.clear(),Re=Math.max($e*1e3,m.size/2);x(m.values(),Re,M,X)}function _(m,$){const[T,M]=[new Set(m),new Set($)];return[...m.filter(X=>!M.has(X)),...$.filter(X=>!T.has(X))].join()}function D(m,$){const[T,M]=[He($.split(";")),He(m.split(";"))],X=_(T,M);return!/font:|font-weight:/i.test(X)}function P(m,$){if(!(m instanceof ShadowRoot))return;const T=Dt(m.host);if(J.setShadowStyle(m,ys+Ua,`${T}-fix-selection`,!1),!L)return;const M=$?`:host(${T}){--fr-fix-stroke:0px transparent;--fr-fix-shadow:${Es}}${$}`:"";J.setShadowStyle(m,M,`${T}-fix-boldstroke`)}function B(m,$){U.has(m)||!$||(U.add(m)&&$.observe(m,S),L&&["mouseover","mouseout"].forEach(T=>m.addEventListener(T,ie)))}function G(m,$=document,T=!1){try{let{elementSet:M,shadowSet:X}=O(K,$);if(!L&&!t||p)return M=null,X=null;a!==!1&&w({elementSet:M,recheck:T||a}),X.forEach(Re=>A(Re,t,a))??X.clear(),se(`CorrectBold.stroke.Passive${mt}:`,{eventType:t??m??F.event?.type??"unknown"})}catch(M){Y("CorrectBoldPassive:",M)}}function V(m,$){try{if(p)return je();const T=new Set;$.disconnect(),m.forEach(M=>{if(M.type==="childList")return I(M,T);L&&M.type==="attributes"&&de(M,T,$)}),re(T,$),U.forEach(M=>void $.observe(M,S))}catch(T){T.message.includes("callback conflict")&&vt($),Y("FixBoldProcess:",T.message)}}function A(m,$,T){$&&P(m,o),(typeof $>"u"||T)&&B(m,e.var.obsCorrect)}function te(m,$,T){const{elementSet:M,shadowSet:X}=O(K,m);M.forEach(Re=>$.add(Re)),X.forEach(Re=>T.add(Re))}function re(m,$){const T={pendingNodeSet:new Set,pendingShadowSet:new Set,size:m.size},M=Math.min($e*200,T.size);T.size&&oe(m,M,$,T)}function oe(m,$,T,{pendingNodeSet:M,pendingShadowSet:X}){const Re=Xe=>te(Xe,M,X),tt=()=>{L&&a!==!1&&M.size&&w({elementSet:M,recheck:document.readyState==="complete"}),X.forEach(Xe=>(P(Xe,o),B(Xe,T)))??X.clear()};x(m.values(),$,Re,tt)}function I({target:m,addedNodes:$,removedNodes:T},M){$.forEach(X=>void(W(X,[Node.ELEMENT_NODE])&&M.add(X))),T.forEach(X=>(Se(X,F.event),void Fe(X))),W(m)&&M.add(m)}function de({target:m,attributeName:$,oldValue:T},M){const X=ue({target:m,attributeName:$,oldValue:T??""});X&&X.newValue!==X.oldValue&&ne(m)&&M.add(m)}function ne(m,$=!0){return $&&Ze(K,m).forEach(T=>void C.delete(T)),C.delete(m)||!C.has(m)}function Fe(m,$){W(m)&&(($=m.shadowRoot)&&U.delete($),L&&ne(m)&&$&&["mouseover","mouseout"].forEach(T=>void $.removeEventListener(T,ie)))}function ge(m,$,T){return yt($).includes(T)!==yt(m).includes(T)}function ue({target:m,attributeName:$,oldValue:T,newValue:M=""}){if($==="style"){if(T=T.replace(/\s/g,""),M=m.style?.cssText?.replace(/\s/g,"")??"",M!==T&&D(M,T))return}else if($==="class"){if(M=m.className?.baseVal??m.className??"",M!==T&&ge(M,T,e.const.boldAttrName))return}else{if($===e.const.boldAttrName)return;M=m.getAttribute($)??""}return{oldValue:T,newValue:M}}function ve(m){const $=m.composedPath()[0]??m.target;if(!W($,[Node.ELEMENT_NODE]))return;const{transition:T,transitionDelay:M,transitionDuration:X}=yn($);if(["all 0s ease 0s","none"].includes(T))return ne($,!1)&&b({uncheckedNode:$});const Re=(parseFloat(M)||0+parseFloat(X)||0)*1e3;Eo.setTimeout(()=>ne($,!1)&&b({uncheckedNode:$}),Re)}function ie(m){R.setImmediate(m.type==="mouseout"),R(m)}function we(m){const{isTrusted:$,navigationType:T,type:M}=m??F.event??ft();($||M)&&ae(T??M)}function le(m,$){return m?.nodeType===Node.ELEMENT_NODE&&(m.matches(Nn)||$&&y(Nn,m))}function be(m,$){const{nodeCounter:T,interval:M}=m;T.forEach((X,Re)=>$-X.lastTime>=M&&T.delete(Re))}function Se(m,$){$ instanceof MouseEvent||!W(m,[Node.ELEMENT_NODE])||!le(m,!0)||Ne(m.outerHTML,performance.now())}function Ne(m,$){const T=v.nodeCounter.get(m);if(!T)return v.nodeCounter.set(m,{count:1,lastTime:$});if($-T.lastTime>=v.interval)be(v,$);else if(++T.count>v.threshold)return ye(m);T.lastTime=$}function ye(m){if(v.flag)return v.nodeCounter.clear(),Fo?.setItem(e.const.flagName,12388),je(m);nt("warn","[Warning]","Potential infinite loop detected, switching to <classList> mode."),ct?.setItem(e.const.flagName,12339),v.flag=!0}function je(m){throw nt("warn","[Warning]","Callback infinite loop occurred, suspending observer.",{"conflict.content":m??"SessionFlag"}),new Error("Found callback conflict! Try the workaround to enable the 'Lazyload' option.")}function $t(m){B(document,m),L&&(Bt.addFinalFn(G,null,document,!0),F.navigation?F.navigation.addEventListener("navigate",we):["pushState","replaceState"].forEach($=>F.addEventListener($,we)),se(`CorrectBold.stroke.Active${mt}:`,{eventType:"init"}))}function vt(m){m.disconnect(),F.navigation?F.navigation.removeEventListener("navigate",we):["pushState","replaceState"].forEach($=>F.removeEventListener($,we)),U.forEach($=>["mouseover","mouseout"].forEach(T=>$.removeEventListener(T,ie))),delete e.var.obsCorrect&&U.clear()}}function Ar(o){const t=/(\.?\d+(?:\.\d+)?)([dsl]?(?:v[wh]|vmin|vmax))\b(?![\\=/+_-])/g,a=/url\((?![`'"]?(?:([\w.-]+)?#\b|https?:\/\/|data:|\/\/|\/\B))([^)]+)\)/g,i=io&&qt&&k.o.fixViewport&&e.var.curScale!==1,p=R=>he(R.attributes).reduce((L,{name:O,value:fe})=>(!["href","rel"].includes(O)&&(L[O]=fe),L),{});return i&&(Bt.addFinalFn(S)||se(`correctUnit.Viewport.Active${mt}:`,{eventType:"init"})),{withPermission:i,correctViewport:S};function S(){return Promise.all([v(),ce()])}async function v(){const R=Ze('link[rel~="stylesheet" i]:not([data-fr-processed])').map(async L=>{const O=L.href||L.dataset.href;L.dataset.frProcessed="ignore",O&&await ee(O.replace(/^http:/,"https:"),L)});await Promise.all(R)}async function ee(R,L){try{const O=await $e(R,L),[fe,W]=[L.parentNode??document.head,await C(O,R)];if(!/\/\*# sourceURL=/.test(O)&&!/\/\*# importURL=/.test(W))return;const u={id:h(8),...p(L),type:"text/css","data-href":R,"data-fr-processed":"link"},b=fo(fe,"style",{...u,textContent:W});(o&&b&&fe.replaceChild(b,L)||b&&kt(L))&&se("Fixed.viewport.Link:",{linkNode:b})}catch(O){Y(`applyStyleToOriginLink${mt}:`,O.message)}}async function ce(){const R=Ze("style:not([data-fr-processed]):not(.darkreader)").map(async L=>{if(he(L.attributes,fe=>fe.name).Some(fe=>/^(?:fr|gb)-css-[0-9a-f]{8}$/.test(fe)))return;const O=L.textContent?.trim()??"";(!L.hasAttribute("nonce")||document.readyState==="complete")&&(L.dataset.frProcessed="ignore"),await N(L,O)});await Promise.all(R)}async function $e(R,L){try{const O=await fetch(R);if(!O.ok)throw new Error(`Network response was not ok. Status: ${O.status}`);const fe=await O.text();return!fe||L&&!t.test(fe)?fe??"":`/*# ${L?"sourceURL":"importURL"}=${R} */\r
${ae(K(fe,t,e.var.curScale),R)}`}catch(O){return Y(`fetchLinkContent${mt}:`,{url:R,msg:O}),L&&(L.dataset.frProcessed="error"),""}}async function U(R,L,O){const fe=he(R.matchAll(L));if(fe.length===0)return R;const W=await Promise.all(fe.map(u=>O(u[2]??u[1])));return fe.forEach((u,b)=>R=R.replace(u[0],W[b])),R}function C(R,L){return R?U(R,/@import (url\(([^)]+)\)|"([^"]+)")[ \w(),:]*;/g,O=>{const fe=new URL(O.replace(/[`'"]/g,""),L).href;return fe?$e(fe,null):""}):Promise.resolve("")}async function N(R,L){try{if(!L||!t.test(L))return;R.textContent=K(L,t,e.var.curScale),R.dataset.frProcessed=se("Fixed.viewport.Style:",{styleNode:R})??"style"}catch(O){R.dataset.frProcessed=Y("applyStyleToOriginStyle:",O.message)??"error"}}function K(R,L,O){return R.replace(L,function(fe,W,u){return String((W/O).toFixed(6))+u})}function ae(R,L){return R.replace(a,(O,fe,W)=>{const u=W.replace(/[`'"]/g,""),b=new URL(u,L).href;return O.replace(u,b)})}}function Nr({withPermission:o,correctViewport:t}){if(!Ye&&!io)return;const a=Ro({fn:t,delay:10,immed:!1}),i=(C,N)=>{if(N==="link")return C.getAttribute("rel")?.includes("stylesheet")&&C.getAttribute("href");if(N==="style")return C.id!==e.id.rndStyle&&!C.classList?.contains("darkreader")},p=C=>{he(C).Some(N=>Dt(N)==="style"&&N.id===e.id.rndStyle&&!N.dataset.frRemoved)&&jn({overwrite:!1,shouldNotify:!1})&&Zo(`%c[MO]${mt}[REINSERT]:%c<style> success!`,Tn("#a52a2a"),Fn("#a52a2a"))},S=(C,N,K)=>{if(C===document.documentElement)return ns(C);C===document.head&&p(K),o&&he(N).Some(ae=>i(ae,Dt(ae)))&&a()},v=(C,N)=>{const K=(C?.textContent??co).replace(e.const.regexp,`#${N}`);Ao({target:document.head,id:e.id.rndStyle,cssText:K,overwrite:!0})&&Zo(`%c[MO]${mt}[HTML.ID]:%c#${N}`,Tn("#1e90ff"),Fn("#1e90ff"))},ee=(C,N,K)=>{if(C!==document.documentElement)return;const ae=C.id||(C.id=e.const.root);N!==ae&&v(K,ae)},ce=({type:C,target:N,addedNodes:K,removedNodes:ae,oldValue:R},L)=>{C==="childList"?S(N,K,ae):C==="attributes"&&ee(N,R,L)},$e=C=>{e.var.mainStyle=e.var.mainStyle??Lo({primary:!0}),C.forEach(N=>void ce(N,e.var.mainStyle)),e.var.mainStyle||jn()},U=new MutationObserver($e);dt.getNodeAndObserve().then(C=>C.get()&&jn()),U.observe(document,{childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["id"]})}function Or(){(!rt||Rt==="Userscripts")&&hr();const o=({type:i,target:p,addedNodes:S,attributeName:v})=>{if(i!=="childList"&&i!=="attributes")return;const ee=he(S).filter(ce=>Dt(ce)==="iframe");(ee.length||v&&Dt(p)==="iframe"&&(p.src||p.srcdoc))&&zn({condition:i,nodeArray:ee.length?ee:[p]})},t=({mutations:i})=>document.readyState==="complete"&&i.forEach(o),a={childList:!0,subtree:!0,attributeFilter:["src","srcdoc","style"]};Ye&&gt.getNodeAndObserve({callback:t,config:a})}(async function(o,t){Ye&&(await wr(Zn)&&yr(e.var.versionStatus),await lo(k.fontFace,ao,xo),Ns.system(),Ns.compat(Ot),Sr(t)),Nr(Ar(o)),Ho()(e.var.obsCorrect),Cr(),Dr(ao),io&&Bt.addFn(Or),Bt.addFinalFn(zn,{condition:"DOMLoaded"})})(((o,t)=>{const a=At(o,Je("style",{id:"\u{1D41C}\u{1D42C}\u{1D429}.\u{1D42D}\u{1D41E}\u{1D42C}\u{1D42D}",type:"text/css",textContent:"test { color: #000; }"}));return t=a.sheet?.cssRules?.length>0,kt(a)&&t})(document.documentElement,null),(o=>{if(!(!Ye||yt(es)==="() => {}"))return Gt(`\uFFF0\u{1F552} ${o}`,Mo)})(n?"\u6B63\u5728\u8F7D\u5165\u811A\u672C\u83DC\u5355\uFF0C\u8BF7\u7A0D\u5019\u2026":"Loading menus, please wait..."))})(()=>{const d=n?"\u91CD\u65B0\u5B89\u88C5\u6B63\u7248\u811A\u672C \u{1F534}":"Reinstall the genuine script \u{1F534}";return{callback:f=>Gt(`\uFFF0\u{1F534} ${d}`,()=>void lt(f))&&nt("error",`${d} ${e.var.scriptName} ${f}`),code:Te("JUU4JUFBJUIxSlZpWSVFNyU5MCU4OSVFNiU5RiU5MyVFNSVBRCVCQSVFOCU4MiVCQXAyTyVFNiU5MyU5MzAlRTglODUlOTF0JUU1JUIyJTgwJUU1JUFFJTlBJUU4JTg2JUJBZQ==")}},async(d,s)=>{const l=await ot(z);if(!l)pe(z,s=cs);else{try{d=r.parse(Te(l))}catch(f){d=(e.var.structureError=Y("Config.JSON.parse:",f.message)??!0)&&ft()}s={...cs,...d}}return e.var.versionStatus=s.curVersion,s},async()=>{let[d,s,l]=await Promise.all([eo,to,Z].map(f=>ot(f)));try{d=d?[...r.parse(Te(d))]:[]}catch(f){d=Y("Monospaced_siteRules.Array.parse:",f.message)??[]}try{s=s?Ke(r.parse(Te(s))):""}catch(f){s=Y("Monospaced_Fontlist.String.parse:",f.message)??""}try{l=l?Ke(r.parse(Te(l))):""}catch(f){l=Y("Monospaced_Feature.String.parse:",f.message)??""}return{monoSiteRules:d,monoFontList:s,monoFeature:l}},async d=>{const s=d=["127.0.0.1","localhost"];try{const l=await ot(q);l?d=r.parse(Te(l)):pe(q,s)}catch(l){e.var.structureError=Y("ExSite.JSON.parse:",l.message)??!0}return{exSite:he(d),exSitesIndex:Fa(d)}},async(d,s)=>{let l,f,E,j;const Le={...me,isEditorBlock:Ca(Mt.editorialSiteList)};try{const[Ae,St,zt]=await Promise.all([Ie,xe,H].map(Oo=>ot(Oo)));Ae?(f=he(r.parse(Te(Ae))),E=on(f),Q.Object.assign(e.var,{domainCount:f.length,domainIndex:E}),l=~E?{...Le,...f[E]}:null):pe(Ie,[]),St?j={...Le,...r.parse(Te(St))}:pe(xe,me);const ke=l||j||Le,Bt={fontSelect:Ke(ke.fontSelect),fontFace:!!ke.fontFace,fontSmooth:!!ke.fontSmooth,fontSize:d&&!ke.isEditorBlock?Number(ke.fontSize):Le.fontSize,fixViewport:d&&s&&!ke.isEditorBlock&&!!ke.fixViewport,fontStroke:Number(ke.fontStroke)||0,fixStroke:!!(_t&&ke.fontStroke&&ke.fixStroke),lazyload:!!(ke.lazyload&&ke.fixStroke),fontShadow:Number(ke.fontShadow)||0,fixShadow:!!(Lt&&ke.fixStroke&&ke.fontShadow&&ke.fixShadow),renderCanvas:!rt&&ke.fontFace&&!!ke.renderCanvas,shadowColor:Ke(ke.shadowColor)||Le.shadowColor,fontCSS:Ke(ke.fontCSS)||Le.fontCSS,fontEx:Ke(ke.fontEx)||"",isEditorBlock:ke.isEditorBlock};return{o:await Ma(zt,Q.Object.assign({},Bt)),...Bt}}catch(Ae){return e.var.structureError=!0,Y("FontData.JSON.Parsing:",Ae.message),Le}},async()=>{const d={".smzdm.com":{Element:["clientWidth"]},".bilibili.com":{Element:["scrollHeight"],HTMLElement:["offsetHeight"]},"www.ithome.com":{Element:["scrollHeight"]}};try{const s=await ot(Oe);if(!s)return d;const l=r.parse(Te(s));if(uo.call(l)==="[object Object]"&&Object.keys(l).length>0)return l}catch(s){Y("FontScaleDef.JSON.parse:",s.message)}return pe(Oe,d),d},async()=>{const s="Arial,Helvetica,Helvetica Neue,Verdana,Georgia,Tahoma,Noto Sans,Open Sans,Segoe UI,Roboto,RobotoDraft,Ubuntu,SimSun,NSimSun,SimHei,FangSong,KaiTi,MingLiU,PMingLiU,PingFangSC-Regular,PingFangSC-Medium,PingFangSC-Semibold,PingFangHK-Regular,PingFangHK-Medium,Microsoft YaHei,SF Pro SC,HanHei SC,{\u5B8B\u4F53},{\u6977\u4F53},{\u4EFF\u5B8B},{\u9ED1\u4F53},{\u5FAE\u8F6F\u96C5\u9ED1},{\u5FAE\u8EDF\u6B63\u9ED1\u9AD4}".split(",").sort();try{const l=await ot(Ce),f=l?r.parse(Te(l)):s;if(Array.isArray(f)&&f.length>0)return f}catch(l){Y("FontOverrideDef.JSON.parse:",l.message)}return pe(Ce,s),s},async()=>{try{const d=await ot(Wt),s=d?r.parse(Te(d)):ft();return{fontFeature:Ke(s.feature),fontVariant:Ke(s.variant)}}catch{return{fontFeature:null,fontVariant:null}}})})(da(),Q.JSON.parse?Q.JSON:F.JSON.parse?F.JSON:JSON,Fo?.getItem("_NAVIGATORINFO_"))},F=>Object.entries({Remove(Q){for(let Pe=0;Pe<this.length;Pe++)if(this[Pe]===Q)return this.splice(Pe,1)},Some(Q,Pe=this){for(let Be=0;Be<this.length;Be++)if(Q.call(Pe,this[Be],Be,this))return!0},Find(Q,Pe=this){for(let Be=0;Be<this.length;Be++)if(Q.call(Pe,this[Be],Be,this))return this[Be]},FindIndex(Q,Pe=this){for(let Be=0;Be<this.length;Be++)if(Q.call(Pe,this[Be],Be,this))return Be;return-1}}).forEach(([Q,Pe])=>!Reflect.getOwnPropertyDescriptor(F,Q)&&Reflect.defineProperty(F,Q,{value:Pe.bind(F),writable:!1,configurable:!1,enumerable:!1}))??F,((F,Q=[..."Sw\u{1D684}p2jn\u{1D67A}\u{1D693}E\u{1D6A3}R\u{1D68E}CxT\u{1D68A}JaU\u{1D692}b\u{1D6A1}\u{1D695}ZG5\u{1D69C}v9I\u{1D6A0}D1Fiqz\u{1D68C}ef0\u{1D68B}V\u{1D69B}B8W\u{1D69F}y\u{1D685}\u{1D681}dO\u{1D691}K\u{1D698}Lrk\u{1D690}N\u{1D677}3PAX\u{1D6A2}Yc\u{1D676}\u{1D682}\u{1D699}\u{1D696}6\u{1D694}H\u{1D697}\u{1D686}us\u{1D687}m\u{1D68F}7g\u{1D674}\u{1D68D}t\u{1D67D}l\u{1D672}\u{1D69A}o\u{1D69D}4Q\u{1D69E}hM"])=>{const Pe=F.Object.create.bind(null,null),Be=It=>{const Tt=F.history[It];return function(){return F.dispatchEvent(new CustomEvent(It,{detail:[...arguments]})),Tt.apply(this,arguments)}},Ut=It=>{try{return F.addEventListener("error",Tt=>Tt.message.includes("SecurityError")&&Tt.preventDefault(),{once:!0}),F[It].setItem("__fr_storage_test__",!0),F[It].removeItem("__fr_storage_test__"),F[It]}catch{return null}};return{oC:Pe,mS:Q,eH:Be,lS:Ut("localStorage"),sS:Ut("sessionStorage")}})(typeof window<"u"?window:this));
