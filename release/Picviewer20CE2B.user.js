// ==UserScript==
// @name                 Picviewer CE+
// @author               NLF && ywzhaiqi && hoothin
// @version              2025.8.29.1
// @icon                 data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAV1BMVEUAAAD////29vbKysoqKioiIiKysrKhoaGTk5N9fX3z8/Pv7+/r6+vk5OTb29vOzs6Ojo5UVFQzMzMZGRkREREMDAy4uLisrKylpaV4eHhkZGRPT08/Pz/IfxjQAAAAgklEQVQoz53RRw7DIBBAUb5pxr2m3/+ckfDImwyJlL9DDzQgDIUMRu1vWOxTBdeM+onApENF0qHjpkOk2VTwLVEF40Kbfj1wK8AVu2pQA1aBBYDHJ1wy9Cf4cXD5chzNAvsAnc8TjoLAhIzsBao9w1rlVTIvkOYMd9nm6xPi168t9AYkbANdajpjcwAAAABJRU5ErkJggg==
// @namespace            https://github.com/hoothin/UserScripts
// @homepage             https://github.com/hoothin/UserScripts/tree/master/Picviewer%20CE%2B
// @supportURL           https://github.com/hoothin/UserScripts/issues
// @connect              www.google.com
// @connect              www.google.com.hk
// @connect              www.google.co.jp
// @connect              ipv4.google.com
// @connect              image.baidu.com
// @connect              www.tineye.com
// @connect              hoothin.com
// @connect              *
// @grant                GM_getValue
// @grant                GM_setValue
// @grant                GM_deleteValue
// @grant                GM_addStyle
// @grant                GM_openInTab
// @grant                GM_setClipboard
// @grant                GM_xmlhttpRequest
// @grant                GM_registerMenuCommand
// @grant                GM_notification
// @grant                GM_download
// @grant                GM.getValue
// @grant                GM.setValue
// @grant                GM.deleteValue
// @grant                GM.addStyle
// @grant                GM.openInTab
// @grant                GM.setClipboard
// @grant                GM.xmlHttpRequest
// @grant                GM.registerMenuCommand
// @grant                GM.notification
// @grant                unsafeWindow
// @require              https://update.greasyfork.org/scripts/6158/23710/GM_config%20CN.js
// @require              https://update.greasyfork.org/scripts/438080/1643244/pvcep_rules.js
// @require              https://update.greasyfork.org/scripts/440698/1427239/pvcep_lang.js
// @match                *://*/*
// @exclude              http://www.toodledo.com/tasks/*
// @exclude              http*://maps.google.com*/*
// @exclude              *://www.google.*/_/chrome/newtab*
// @exclude              *://mega.*/*
// @exclude              *://*.mega.*/*
// @exclude              *://onedrive.live.com/*
// @run-at               document-end
// @created              2011-6-15
// @contributionURL      https://ko-fi.com/hoothin
// @contributionAmount   1
// @downloadURL https://raw.githubusercontent.com/AzimsTech/Userscripts/release/release/Picviewer20CE2B.user.js
// @updateURL https://raw.githubusercontent.com/AzimsTech/Userscripts/release/release/Picviewer20CE2B.meta.js
// ==/UserScript==
if(window.top!=window.self)try{if(window.self.innerWidth&&window.self.innerWidth<250||window.self.innerHeight&&window.self.innerHeight<250)return}catch{return}(function(ut,Ze){if(typeof define=="function"&&define.amd)define([],Ze);else if(typeof exports<"u")Ze();else{var ct={exports:{}};Ze(),ut.FileSaver=ct.exports}})(this,function(){"use strict";var ut=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0;function Ze(B,A){return typeof A>"u"?A={autoBom:!1}:typeof A!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(B.type)?new Blob(["\uFEFF",B],{type:B.type}):B}function ct(B,A,N){var W=new XMLHttpRequest;W.open("GET",B),W.responseType="blob",W.onload=function(){y(W.response,A,N)},W.onerror=function(){console.error("could not download file")},W.send()}function Z(B){var A=new XMLHttpRequest;A.open("HEAD",B,!1);try{A.send()}catch{}return A.status>=200&&A.status<=299}function ae(B){try{B.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),B.dispatchEvent(A)}}var j=ut.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),R=ut.URL||ut.webkitURL,o=R.revokeObjectURL,z=R.createObjectURL,y=ut.saveAs||(typeof window!="object"||window!==ut?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(A,N,W){var S=ut.URL||ut.webkitURL,V=document.createElement("a");N=N||A.name||"download",V.download=N,V.rel="noopener",typeof A=="string"?(V.href=A,V.origin!==location.origin?Z(V.href)?ct(A,N,W):ae(V,V.target="_blank"):ae(V)):(V.href=z(A),setTimeout(function(){o(V.href)},4e4),setTimeout(function(){ae(V)},0))}:"msSaveOrOpenBlob"in navigator?function(A,N,W){if(N=N||A.name||"download",typeof A=="string")if(Z(A))ct(A,N,W);else{var S=document.createElement("a");S.href=A,S.target="_blank",setTimeout(function(){ae(S)})}else navigator.msSaveOrOpenBlob(Ze(A,W),N)}:function(A,N,W,S){if(S=S||open("","_blank"),S&&(S.document.title=S.document.body.innerText="downloading..."),typeof A=="string")return ct(A,N,W);var V=A.type==="application/octet-stream",H=/constructor/i.test(ut.HTMLElement)||ut.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||V&&H||j)&&typeof FileReader<"u"){var f=new FileReader;f.onloadend=function(){var O=f.result;O=k?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=O:location=O,S=null},f.readAsDataURL(A)}else{var x=z(A);S?S.location=x:location.href=x,S=null,setTimeout(function(){o(x)},4e4)}});ut.saveAs=y.saveAs=y,typeof module<"u"&&(module.exports=y)});/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(ut){if(typeof exports=="object"&&typeof module<"u")module.exports=ut();else if(typeof define=="function"&&define.amd)define([],ut);else{var Ze;typeof window<"u"?Ze=window:typeof global<"u"?Ze=global:typeof self<"u"?Ze=self:Ze=this,Ze.JSZip=ut()}})(function(){var ut,Ze,ct;return(function Z(ae,j,R){function o(B,A){if(!j[B]){if(!ae[B]){var N=typeof require=="function"&&require;if(!A&&N)return N(B,!0);if(z)return z(B,!0);var W=new Error("Cannot find module '"+B+"'");throw W.code="MODULE_NOT_FOUND",W}var S=j[B]={exports:{}};ae[B][0].call(S.exports,function(V){var H=ae[B][1][V];return o(H||V)},S,S.exports,Z,ae,j,R)}return j[B].exports}for(var z=typeof require=="function"&&require,y=0;y<R.length;y++)o(R[y]);return o})({1:[function(Z,ae,j){"use strict";var R=Z("./utils"),o=Z("./support"),z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";j.encode=function(y){for(var B=[],A,N,W,S,V,H,k,f=0,x=y.length,O=x,$=R.getTypeOf(y)!=="string";f<y.length;)O=x-f,$?(A=y[f++],N=f<x?y[f++]:0,W=f<x?y[f++]:0):(A=y.charCodeAt(f++),N=f<x?y.charCodeAt(f++):0,W=f<x?y.charCodeAt(f++):0),S=A>>2,V=(A&3)<<4|N>>4,H=O>1?(N&15)<<2|W>>6:64,k=O>2?W&63:64,B.push(z.charAt(S)+z.charAt(V)+z.charAt(H)+z.charAt(k));return B.join("")},j.decode=function(y){var B,A,N,W,S,V,H,k=0,f=0,x="data:";if(y.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");y=y.replace(/[^A-Za-z0-9\+\/\=]/g,"");var O=y.length*3/4;if(y.charAt(y.length-1)===z.charAt(64)&&O--,y.charAt(y.length-2)===z.charAt(64)&&O--,O%1!==0)throw new Error("Invalid base64 input, bad content length.");var $;for(o.uint8array?$=new Uint8Array(O|0):$=new Array(O|0);k<y.length;)W=z.indexOf(y.charAt(k++)),S=z.indexOf(y.charAt(k++)),V=z.indexOf(y.charAt(k++)),H=z.indexOf(y.charAt(k++)),B=W<<2|S>>4,A=(S&15)<<4|V>>2,N=(V&3)<<6|H,$[f++]=B,V!==64&&($[f++]=A),H!==64&&($[f++]=N);return $}},{"./support":30,"./utils":32}],2:[function(Z,ae,j){"use strict";var R=Z("./external"),o=Z("./stream/DataWorker"),z=Z("./stream/Crc32Probe"),y=Z("./stream/DataLengthProbe");function B(A,N,W,S,V){this.compressedSize=A,this.uncompressedSize=N,this.crc32=W,this.compression=S,this.compressedContent=V}B.prototype={getContentWorker:function(){var A=new o(R.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),N=this;return A.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new o(R.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},B.createWorkerFrom=function(A,N,W){return A.pipe(new z).pipe(new y("uncompressedSize")).pipe(N.compressWorker(W)).pipe(new y("compressedSize")).withStreamInfo("compression",N)},ae.exports=B},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Z,ae,j){"use strict";var R=Z("./stream/GenericWorker");j.STORE={magic:"\0\0",compressWorker:function(o){return new R("STORE compression")},uncompressWorker:function(){return new R("STORE decompression")}},j.DEFLATE=Z("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Z,ae,j){"use strict";var R=Z("./utils");function o(){for(var A,N=[],W=0;W<256;W++){A=W;for(var S=0;S<8;S++)A=A&1?3988292384^A>>>1:A>>>1;N[W]=A}return N}var z=o();function y(A,N,W,S){var V=z,H=S+W;A=A^-1;for(var k=S;k<H;k++)A=A>>>8^V[(A^N[k])&255];return A^-1}function B(A,N,W,S){var V=z,H=S+W;A=A^-1;for(var k=S;k<H;k++)A=A>>>8^V[(A^N.charCodeAt(k))&255];return A^-1}ae.exports=function(N,W){if(typeof N>"u"||!N.length)return 0;var S=R.getTypeOf(N)!=="string";return S?y(W|0,N,N.length,0):B(W|0,N,N.length,0)}},{"./utils":32}],5:[function(Z,ae,j){"use strict";j.base64=!1,j.binary=!1,j.dir=!1,j.createFolders=!0,j.date=null,j.compression=null,j.compressionOptions=null,j.comment=null,j.unixPermissions=null,j.dosPermissions=null},{}],6:[function(Z,ae,j){"use strict";var R=null;typeof Promise<"u"?R=Promise:R=Z("lie"),ae.exports={Promise:R}},{lie:37}],7:[function(Z,ae,j){"use strict";var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=Z("pako"),z=Z("./utils"),y=Z("./stream/GenericWorker"),B=R?"uint8array":"array";j.magic="\b\0";function A(N,W){y.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=W,this.meta={}}z.inherits(A,y),A.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(z.transformTo(B,N.data),!1)},A.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(W){N.push({data:W,meta:N.meta})}},j.compressWorker=function(N){return new A("Deflate",N)},j.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("../stream/GenericWorker"),z=Z("../utf8"),y=Z("../crc32"),B=Z("../signature"),A=function(f,x){var O="",$;for($=0;$<x;$++)O+=String.fromCharCode(f&255),f=f>>>8;return O},N=function(f,x){var O=f;return f||(O=x?16893:33204),(O&65535)<<16},W=function(f,x){return(f||0)&63},S=function(f,x,O,$,L,J){var Q=f.file,ie=f.compression,ve=J!==z.utf8encode,le=R.transformTo("string",J(Q.name)),be=R.transformTo("string",z.utf8encode(Q.name)),c=Q.comment,ze=R.transformTo("string",J(c)),Le=R.transformTo("string",z.utf8encode(c)),xe=be.length!==Q.name.length,tt=Le.length!==c.length,Ge,Te,qe="",ot="",ft="",De=Q.dir,at=Q.date,Xe={crc32:0,compressedSize:0,uncompressedSize:0};(!x||O)&&(Xe.crc32=f.crc32,Xe.compressedSize=f.compressedSize,Xe.uncompressedSize=f.uncompressedSize);var Ue=0;x&&(Ue|=8),!ve&&(xe||tt)&&(Ue|=2048);var $e=0,mt=0;De&&($e|=16),L==="UNIX"?(mt=798,$e|=N(Q.unixPermissions,De)):(mt=20,$e|=W(Q.dosPermissions,De)),Ge=at.getUTCHours(),Ge=Ge<<6,Ge=Ge|at.getUTCMinutes(),Ge=Ge<<5,Ge=Ge|at.getUTCSeconds()/2,Te=at.getUTCFullYear()-1980,Te=Te<<4,Te=Te|at.getUTCMonth()+1,Te=Te<<5,Te=Te|at.getUTCDate(),xe&&(ot=A(1,1)+A(y(le),4)+be,qe+="up"+A(ot.length,2)+ot),tt&&(ft=A(1,1)+A(y(ze),4)+Le,qe+="uc"+A(ft.length,2)+ft);var Ke="";Ke+=`
\0`,Ke+=A(Ue,2),Ke+=ie.magic,Ke+=A(Ge,2),Ke+=A(Te,2),Ke+=A(Xe.crc32,4),Ke+=A(Xe.compressedSize,4),Ke+=A(Xe.uncompressedSize,4),Ke+=A(le.length,2),Ke+=A(qe.length,2);var P=B.LOCAL_FILE_HEADER+Ke+le+qe,G=B.CENTRAL_FILE_HEADER+A(mt,2)+Ke+A(ze.length,2)+"\0\0\0\0"+A($e,4)+A($,4)+le+qe+ze;return{fileRecord:P,dirRecord:G}},V=function(f,x,O,$,L){var J="",Q=R.transformTo("string",L($));return J=B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(f,2)+A(f,2)+A(x,4)+A(O,4)+A(Q.length,2)+Q,J},H=function(f){var x="";return x=B.DATA_DESCRIPTOR+A(f.crc32,4)+A(f.compressedSize,4)+A(f.uncompressedSize,4),x};function k(f,x,O,$){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=O,this.encodeFileName=$,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}R.inherits(k,o),k.prototype.push=function(f){var x=f.meta.percent||0,O=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,o.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:O?(x+100*(O-$-1))/O:100}}))},k.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var x=this.streamFiles&&!f.file.dir;if(x){var O=S(f,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(f){this.accumulate=!1;var x=this.streamFiles&&!f.file.dir,O=S(f,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),x)this.push({data:H(f),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var f=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var O=this.bytesWritten-f,$=V(this.dirRecords.length,O,f,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(f){this._sources.push(f);var x=this;return f.on("data",function(O){x.processChunk(O)}),f.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),f.on("error",function(O){x.error(O)}),this},k.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},k.prototype.error=function(f){var x=this._sources;if(!o.prototype.error.call(this,f))return!1;for(var O=0;O<x.length;O++)try{x[O].error(f)}catch{}return!0},k.prototype.lock=function(){o.prototype.lock.call(this);for(var f=this._sources,x=0;x<f.length;x++)f[x].lock()},ae.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Z,ae,j){"use strict";var R=Z("../compressions"),o=Z("./ZipFileWorker"),z=function(y,B){var A=y||B,N=R[A];if(!N)throw new Error(A+" is not a valid compression method !");return N};j.generateWorker=function(y,B,A){var N=new o(B.streamFiles,A,B.platform,B.encodeFileName),W=0;try{y.forEach(function(S,V){W++;var H=z(V.options.compression,B.compression),k=V.options.compressionOptions||B.compressionOptions||{},f=V.dir,x=V.date;V._compressWorker(H,k).withStreamInfo("file",{name:S,dir:f,date:x,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(N)}),N.entriesCount=W}catch(S){N.error(S)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Z,ae,j){"use strict";function R(){if(!(this instanceof R))return new R;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new R;for(var z in this)typeof this[z]!="function"&&(o[z]=this[z]);return o}}R.prototype=Z("./object"),R.prototype.loadAsync=Z("./load"),R.support=Z("./support"),R.defaults=Z("./defaults"),R.version="3.7.1",R.loadAsync=function(o,z){return new R().loadAsync(o,z)},R.external=Z("./external"),ae.exports=R},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Z,ae,j){"use strict";var R=Z("./utils"),o=Z("./external"),z=Z("./utf8"),y=Z("./zipEntries"),B=Z("./stream/Crc32Probe"),A=Z("./nodejsUtils");function N(W){return new o.Promise(function(S,V){var H=W.decompressed.getContentWorker().pipe(new B);H.on("error",function(k){V(k)}).on("end",function(){H.streamInfo.crc32!==W.decompressed.crc32?V(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}ae.exports=function(W,S){var V=this;return S=R.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:z.utf8decode}),A.isNode&&A.isStream(W)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):R.prepareContent("the loaded zip file",W,!0,S.optimizedBinaryString,S.base64).then(function(H){var k=new y(S);return k.load(H),k}).then(function(k){var f=[o.Promise.resolve(k)],x=k.files;if(S.checkCRC32)for(var O=0;O<x.length;O++)f.push(N(x[O]));return o.Promise.all(f)}).then(function(k){for(var f=k.shift(),x=f.files,O=0;O<x.length;O++){var $=x[O];V.file($.fileNameStr,$.decompressed,{binary:!0,optimizedBinaryString:!0,date:$.date,dir:$.dir,comment:$.fileCommentStr.length?$.fileCommentStr:null,unixPermissions:$.unixPermissions,dosPermissions:$.dosPermissions,createFolders:S.createFolders})}return f.zipComment.length&&(V.comment=f.zipComment),V})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("../stream/GenericWorker");function z(y,B){o.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(B)}R.inherits(z,o),z.prototype._bindStream=function(y){var B=this;this._stream=y,y.pause(),y.on("data",function(A){B.push({data:A,meta:{percent:0}})}).on("error",function(A){B.isPaused?this.generatedError=A:B.error(A)}).on("end",function(){B.isPaused?B._upstreamEnded=!0:B.end()})},z.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},z.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},ae.exports=z},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Z,ae,j){"use strict";var R=Z("readable-stream").Readable,o=Z("../utils");o.inherits(z,R);function z(y,B,A){R.call(this,B),this._helper=y;var N=this;y.on("data",function(W,S){N.push(W)||N._helper.pause(),A&&A(S)}).on("error",function(W){N.emit("error",W)}).on("end",function(){N.push(null)})}z.prototype._read=function(){this._helper.resume()},ae.exports=z},{"../utils":32,"readable-stream":16}],14:[function(Z,ae,j){"use strict";ae.exports={isNode:typeof Buffer<"u",newBufferFrom:function(R,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(R,o);if(typeof R=="number")throw new Error('The "data" argument must not be a number');return new Buffer(R,o)},allocBuffer:function(R){if(Buffer.alloc)return Buffer.alloc(R);var o=new Buffer(R);return o.fill(0),o},isBuffer:function(R){return Buffer.isBuffer(R)},isStream:function(R){return R&&typeof R.on=="function"&&typeof R.pause=="function"&&typeof R.resume=="function"}}},{}],15:[function(Z,ae,j){"use strict";var R=Z("./utf8"),o=Z("./utils"),z=Z("./stream/GenericWorker"),y=Z("./stream/StreamHelper"),B=Z("./defaults"),A=Z("./compressedObject"),N=Z("./zipObject"),W=Z("./generate"),S=Z("./nodejsUtils"),V=Z("./nodejs/NodejsStreamInputAdapter"),H=function(L,J,Q){var ie=o.getTypeOf(J),ve,le=o.extend(Q||{},B);le.date=le.date||new Date,le.compression!==null&&(le.compression=le.compression.toUpperCase()),typeof le.unixPermissions=="string"&&(le.unixPermissions=parseInt(le.unixPermissions,8)),le.unixPermissions&&le.unixPermissions&16384&&(le.dir=!0),le.dosPermissions&&le.dosPermissions&16&&(le.dir=!0),le.dir&&(L=f(L)),le.createFolders&&(ve=k(L))&&x.call(this,ve,!0);var be=ie==="string"&&le.binary===!1&&le.base64===!1;(!Q||typeof Q.binary>"u")&&(le.binary=!be);var c=J instanceof A&&J.uncompressedSize===0;(c||le.dir||!J||J.length===0)&&(le.base64=!1,le.binary=!0,J="",le.compression="STORE",ie="string");var ze=null;J instanceof A||J instanceof z?ze=J:S.isNode&&S.isStream(J)?ze=new V(L,J):ze=o.prepareContent(L,J,le.binary,le.optimizedBinaryString,le.base64);var Le=new N(L,ze,le);this.files[L]=Le},k=function(L){L.slice(-1)==="/"&&(L=L.substring(0,L.length-1));var J=L.lastIndexOf("/");return J>0?L.substring(0,J):""},f=function(L){return L.slice(-1)!=="/"&&(L+="/"),L},x=function(L,J){return J=typeof J<"u"?J:B.createFolders,L=f(L),this.files[L]||H.call(this,L,null,{dir:!0,createFolders:J}),this.files[L]};function O(L){return Object.prototype.toString.call(L)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var J,Q,ie;for(J in this.files)ie=this.files[J],Q=J.slice(this.root.length,J.length),Q&&J.slice(0,this.root.length)===this.root&&L(Q,ie)},filter:function(L){var J=[];return this.forEach(function(Q,ie){L(Q,ie)&&J.push(ie)}),J},file:function(L,J,Q){if(arguments.length===1)if(O(L)){var ie=L;return this.filter(function(le,be){return!be.dir&&ie.test(le)})}else{var ve=this.files[this.root+L];return ve&&!ve.dir?ve:null}else L=this.root+L,H.call(this,L,J,Q);return this},folder:function(L){if(!L)return this;if(O(L))return this.filter(function(ve,le){return le.dir&&L.test(ve)});var J=this.root+L,Q=x.call(this,J),ie=this.clone();return ie.root=Q.name,ie},remove:function(L){L=this.root+L;var J=this.files[L];if(J||(L.slice(-1)!=="/"&&(L+="/"),J=this.files[L]),J&&!J.dir)delete this.files[L];else for(var Q=this.filter(function(ve,le){return le.name.slice(0,L.length)===L}),ie=0;ie<Q.length;ie++)delete this.files[Q[ie].name];return this},generate:function(L){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var J,Q={};try{if(Q=o.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:R.utf8encode}),Q.type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");o.checkSupport(Q.type),(Q.platform==="darwin"||Q.platform==="freebsd"||Q.platform==="linux"||Q.platform==="sunos")&&(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var ie=Q.comment||this.comment||"";J=W.generateWorker(this,Q,ie)}catch(ve){J=new z("error"),J.error(ve)}return new y(J,Q.type||"string",Q.mimeType)},generateAsync:function(L,J){return this.generateInternalStream(L).accumulate(J)},generateNodeStream:function(L,J){return L=L||{},L.type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(J)}};ae.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Z,ae,j){ae.exports=Z("stream")},{stream:void 0}],17:[function(Z,ae,j){"use strict";var R=Z("./DataReader"),o=Z("../utils");function z(y){R.call(this,y);for(var B=0;B<this.data.length;B++)y[B]=y[B]&255}o.inherits(z,R),z.prototype.byteAt=function(y){return this.data[this.zero+y]},z.prototype.lastIndexOfSignature=function(y){for(var B=y.charCodeAt(0),A=y.charCodeAt(1),N=y.charCodeAt(2),W=y.charCodeAt(3),S=this.length-4;S>=0;--S)if(this.data[S]===B&&this.data[S+1]===A&&this.data[S+2]===N&&this.data[S+3]===W)return S-this.zero;return-1},z.prototype.readAndCheckSignature=function(y){var B=y.charCodeAt(0),A=y.charCodeAt(1),N=y.charCodeAt(2),W=y.charCodeAt(3),S=this.readData(4);return B===S[0]&&A===S[1]&&N===S[2]&&W===S[3]},z.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var B=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,B},ae.exports=z},{"../utils":32,"./DataReader":18}],18:[function(Z,ae,j){"use strict";var R=Z("../utils");function o(z){this.data=z,this.length=z.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(z){this.checkIndex(this.index+z)},checkIndex:function(z){if(this.length<this.zero+z||z<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+z+"). Corrupted zip ?")},setIndex:function(z){this.checkIndex(z),this.index=z},skip:function(z){this.setIndex(this.index+z)},byteAt:function(z){},readInt:function(z){var y=0,B;for(this.checkOffset(z),B=this.index+z-1;B>=this.index;B--)y=(y<<8)+this.byteAt(B);return this.index+=z,y},readString:function(z){return R.transformTo("string",this.readData(z))},readData:function(z){},lastIndexOfSignature:function(z){},readAndCheckSignature:function(z){},readDate:function(){var z=this.readInt(4);return new Date(Date.UTC((z>>25&127)+1980,(z>>21&15)-1,z>>16&31,z>>11&31,z>>5&63,(z&31)<<1))}},ae.exports=o},{"../utils":32}],19:[function(Z,ae,j){"use strict";var R=Z("./Uint8ArrayReader"),o=Z("../utils");function z(y){R.call(this,y)}o.inherits(z,R),z.prototype.readData=function(y){this.checkOffset(y);var B=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,B},ae.exports=z},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Z,ae,j){"use strict";var R=Z("./DataReader"),o=Z("../utils");function z(y){R.call(this,y)}o.inherits(z,R),z.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},z.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},z.prototype.readAndCheckSignature=function(y){var B=this.readData(4);return y===B},z.prototype.readData=function(y){this.checkOffset(y);var B=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,B},ae.exports=z},{"../utils":32,"./DataReader":18}],21:[function(Z,ae,j){"use strict";var R=Z("./ArrayReader"),o=Z("../utils");function z(y){R.call(this,y)}o.inherits(z,R),z.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var B=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,B},ae.exports=z},{"../utils":32,"./ArrayReader":17}],22:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("../support"),z=Z("./ArrayReader"),y=Z("./StringReader"),B=Z("./NodeBufferReader"),A=Z("./Uint8ArrayReader");ae.exports=function(N){var W=R.getTypeOf(N);return R.checkSupport(W),W==="string"&&!o.uint8array?new y(N):W==="nodebuffer"?new B(N):o.uint8array?new A(R.transformTo("uint8array",N)):new z(R.transformTo("array",N))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Z,ae,j){"use strict";j.LOCAL_FILE_HEADER="PK",j.CENTRAL_FILE_HEADER="PK",j.CENTRAL_DIRECTORY_END="PK",j.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",j.ZIP64_CENTRAL_DIRECTORY_END="PK",j.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Z,ae,j){"use strict";var R=Z("./GenericWorker"),o=Z("../utils");function z(y){R.call(this,"ConvertWorker to "+y),this.destType=y}o.inherits(z,R),z.prototype.processChunk=function(y){this.push({data:o.transformTo(this.destType,y.data),meta:y.meta})},ae.exports=z},{"../utils":32,"./GenericWorker":28}],25:[function(Z,ae,j){"use strict";var R=Z("./GenericWorker"),o=Z("../crc32"),z=Z("../utils");function y(){R.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}z.inherits(y,R),y.prototype.processChunk=function(B){this.streamInfo.crc32=o(B.data,this.streamInfo.crc32||0),this.push(B)},ae.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("./GenericWorker");function z(y){o.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}R.inherits(z,o),z.prototype.processChunk=function(y){if(y){var B=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=B+y.data.length}o.prototype.processChunk.call(this,y)},ae.exports=z},{"../utils":32,"./GenericWorker":28}],27:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("./GenericWorker"),z=16*1024;function y(B){o.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,B.then(function(N){A.dataIsReady=!0,A.data=N,A.max=N&&N.length||0,A.type=R.getTypeOf(N),A.isPaused||A._tickAndRepeat()},function(N){A.error(N)})}R.inherits(y,o),y.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,R.delay(this._tickAndRepeat,[],this)),!0):!1},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(R.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var B=z,A=null,N=Math.min(this.max,this.index+B);if(this.index>=this.max)return this.end();switch(this.type){case"string":A=this.data.substring(this.index,N);break;case"uint8array":A=this.data.subarray(this.index,N);break;case"array":case"nodebuffer":A=this.data.slice(this.index,N);break}return this.index=N,this.push({data:A,meta:{percent:this.max?this.index/this.max*100:0}})},ae.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(Z,ae,j){"use strict";function R(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}R.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,z){return this._listeners[o].push(z),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,z){if(this._listeners[o])for(var y=0;y<this._listeners[o].length;y++)this._listeners[o][y].call(this,z)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var z=this;return o.on("data",function(y){z.processChunk(y)}),o.on("end",function(){z.end()}),o.on("error",function(y){z.error(y)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,z){return this.extraStreamInfo[o]=z,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},ae.exports=R},{}],29:[function(Z,ae,j){"use strict";var R=Z("../utils"),o=Z("./ConvertWorker"),z=Z("./GenericWorker"),y=Z("../base64"),B=Z("../support"),A=Z("../external"),N=null;if(B.nodestream)try{N=Z("../nodejs/NodejsStreamOutputAdapter")}catch{}function W(k,f,x){switch(k){case"blob":return R.newBlob(R.transformTo("arraybuffer",f),x);case"base64":return y.encode(f);default:return R.transformTo(k,f)}}function S(k,f){var x,O=0,$=null,L=0;for(x=0;x<f.length;x++)L+=f[x].length;switch(k){case"string":return f.join("");case"array":return Array.prototype.concat.apply([],f);case"uint8array":for($=new Uint8Array(L),x=0;x<f.length;x++)$.set(f[x],O),O+=f[x].length;return $;case"nodebuffer":return Buffer.concat(f);default:throw new Error("concat : unsupported type '"+k+"'")}}function V(k,f){return new A.Promise(function(x,O){var $=[],L=k._internalType,J=k._outputType,Q=k._mimeType;k.on("data",function(ie,ve){$.push(ie),f&&f(ve)}).on("error",function(ie){$=[],O(ie)}).on("end",function(){try{var ie=W(J,S(L,$),Q);x(ie)}catch(ve){O(ve)}$=[]}).resume()})}function H(k,f,x){var O=f;switch(f){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string";break}try{this._internalType=O,this._outputType=f,this._mimeType=x,R.checkSupport(O),this._worker=k.pipe(new o(O)),k.lock()}catch($){this._worker=new z("error"),this._worker.error($)}}H.prototype={accumulate:function(k){return V(this,k)},on:function(k,f){var x=this;return k==="data"?this._worker.on(k,function(O){f.call(x,O.data,O.meta)}):this._worker.on(k,function(){R.delay(f,arguments,x)}),this},resume:function(){return R.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(R.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},k)}},ae.exports=H},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Z,ae,j){"use strict";if(j.base64=!0,j.array=!0,j.string=!0,j.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",j.nodebuffer=typeof Buffer<"u",j.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")j.blob=!1;else{var R=new ArrayBuffer(0);try{j.blob=new Blob([R],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,z=new o;z.append(R),j.blob=z.getBlob("application/zip").size===0}catch{j.blob=!1}}}try{j.nodestream=!!Z("readable-stream").Readable}catch{j.nodestream=!1}},{"readable-stream":16}],31:[function(Z,ae,j){"use strict";for(var R=Z("./utils"),o=Z("./support"),z=Z("./nodejsUtils"),y=Z("./stream/GenericWorker"),B=new Array(256),A=0;A<256;A++)B[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;B[254]=B[254]=1;var N=function(k){var f,x,O,$,L,J=k.length,Q=0;for($=0;$<J;$++)x=k.charCodeAt($),(x&64512)===55296&&$+1<J&&(O=k.charCodeAt($+1),(O&64512)===56320&&(x=65536+(x-55296<<10)+(O-56320),$++)),Q+=x<128?1:x<2048?2:x<65536?3:4;for(o.uint8array?f=new Uint8Array(Q):f=new Array(Q),L=0,$=0;L<Q;$++)x=k.charCodeAt($),(x&64512)===55296&&$+1<J&&(O=k.charCodeAt($+1),(O&64512)===56320&&(x=65536+(x-55296<<10)+(O-56320),$++)),x<128?f[L++]=x:x<2048?(f[L++]=192|x>>>6,f[L++]=128|x&63):x<65536?(f[L++]=224|x>>>12,f[L++]=128|x>>>6&63,f[L++]=128|x&63):(f[L++]=240|x>>>18,f[L++]=128|x>>>12&63,f[L++]=128|x>>>6&63,f[L++]=128|x&63);return f},W=function(k,f){var x;for(f=f||k.length,f>k.length&&(f=k.length),x=f-1;x>=0&&(k[x]&192)===128;)x--;return x<0||x===0?f:x+B[k[x]]>f?x:f},S=function(k){var f,x,O,$,L,J=k.length,Q=new Array(J*2);for(O=0,x=0;x<J;){if($=k[x++],$<128){Q[O++]=$;continue}if(L=B[$],L>4){Q[O++]=65533,x+=L-1;continue}for($&=L===2?31:L===3?15:7;L>1&&x<J;)$=$<<6|k[x++]&63,L--;if(L>1){Q[O++]=65533;continue}$<65536?Q[O++]=$:($-=65536,Q[O++]=55296|$>>10&1023,Q[O++]=56320|$&1023)}return Q.length!==O&&(Q.subarray?Q=Q.subarray(0,O):Q.length=O),R.applyFromCharCode(Q)};j.utf8encode=function(f){return o.nodebuffer?z.newBufferFrom(f,"utf-8"):N(f)},j.utf8decode=function(f){return o.nodebuffer?R.transformTo("nodebuffer",f).toString("utf-8"):(f=R.transformTo(o.uint8array?"uint8array":"array",f),S(f))};function V(){y.call(this,"utf-8 decode"),this.leftOver=null}R.inherits(V,y),V.prototype.processChunk=function(k){var f=R.transformTo(o.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var x=f;f=new Uint8Array(x.length+this.leftOver.length),f.set(this.leftOver,0),f.set(x,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var O=W(f),$=f;O!==f.length&&(o.uint8array?($=f.subarray(0,O),this.leftOver=f.subarray(O,f.length)):($=f.slice(0,O),this.leftOver=f.slice(O,f.length))),this.push({data:j.utf8decode($),meta:k.meta})},V.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:j.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},j.Utf8DecodeWorker=V;function H(){y.call(this,"utf-8 encode")}R.inherits(H,y),H.prototype.processChunk=function(k){this.push({data:j.utf8encode(k.data),meta:k.meta})},j.Utf8EncodeWorker=H},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Z,ae,j){"use strict";var R=Z("./support"),o=Z("./base64"),z=Z("./nodejsUtils"),y=Z("set-immediate-shim"),B=Z("./external");function A(f){var x=null;return R.uint8array?x=new Uint8Array(f.length):x=new Array(f.length),W(f,x)}j.newBlob=function(f,x){j.checkSupport("blob");try{return new Blob([f],{type:x})}catch{try{var O=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,$=new O;return $.append(f),$.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};function N(f){return f}function W(f,x){for(var O=0;O<f.length;++O)x[O]=f.charCodeAt(O)&255;return x}var S={stringifyByChunk:function(f,x,O){var $=[],L=0,J=f.length;if(J<=O)return String.fromCharCode.apply(null,f);for(;L<J;)x==="array"||x==="nodebuffer"?$.push(String.fromCharCode.apply(null,f.slice(L,Math.min(L+O,J)))):$.push(String.fromCharCode.apply(null,f.subarray(L,Math.min(L+O,J)))),L+=O;return $.join("")},stringifyByChar:function(f){for(var x="",O=0;O<f.length;O++)x+=String.fromCharCode(f[O]);return x},applyCanBeUsed:{uint8array:(function(){try{return R.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return R.nodebuffer&&String.fromCharCode.apply(null,z.allocBuffer(1)).length===1}catch{return!1}})()}};function V(f){var x=65536,O=j.getTypeOf(f),$=!0;if(O==="uint8array"?$=S.applyCanBeUsed.uint8array:O==="nodebuffer"&&($=S.applyCanBeUsed.nodebuffer),$)for(;x>1;)try{return S.stringifyByChunk(f,O,x)}catch{x=Math.floor(x/2)}return S.stringifyByChar(f)}j.applyFromCharCode=V;function H(f,x){for(var O=0;O<f.length;O++)x[O]=f[O];return x}var k={};k.string={string:N,array:function(f){return W(f,new Array(f.length))},arraybuffer:function(f){return k.string.uint8array(f).buffer},uint8array:function(f){return W(f,new Uint8Array(f.length))},nodebuffer:function(f){return W(f,z.allocBuffer(f.length))}},k.array={string:V,array:N,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return z.newBufferFrom(f)}},k.arraybuffer={string:function(f){return V(new Uint8Array(f))},array:function(f){return H(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:N,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return z.newBufferFrom(new Uint8Array(f))}},k.uint8array={string:V,array:function(f){return H(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:N,nodebuffer:function(f){return z.newBufferFrom(f)}},k.nodebuffer={string:V,array:function(f){return H(f,new Array(f.length))},arraybuffer:function(f){return k.nodebuffer.uint8array(f).buffer},uint8array:function(f){return H(f,new Uint8Array(f.length))},nodebuffer:N},j.transformTo=function(f,x){if(x||(x=""),!f)return x;j.checkSupport(f);var O=j.getTypeOf(x),$=k[O][f](x);return $},j.getTypeOf=function(f){if(typeof f=="string")return"string";if(Object.prototype.toString.call(f)==="[object Array]")return"array";if(R.nodebuffer&&z.isBuffer(f))return"nodebuffer";if(R.uint8array&&f instanceof Uint8Array)return"uint8array";if(R.arraybuffer&&f instanceof ArrayBuffer)return"arraybuffer"},j.checkSupport=function(f){var x=R[f.toLowerCase()];if(!x)throw new Error(f+" is not supported by this platform")},j.MAX_VALUE_16BITS=65535,j.MAX_VALUE_32BITS=-1,j.pretty=function(f){var x="",O,$;for($=0;$<(f||"").length;$++)O=f.charCodeAt($),x+="\\x"+(O<16?"0":"")+O.toString(16).toUpperCase();return x},j.delay=function(f,x,O){y(function(){f.apply(O||null,x||[])})},j.inherits=function(f,x){var O=function(){};O.prototype=x.prototype,f.prototype=new O},j.extend=function(){var f={},x,O;for(x=0;x<arguments.length;x++)for(O in arguments[x])arguments[x].hasOwnProperty(O)&&typeof f[O]>"u"&&(f[O]=arguments[x][O]);return f},j.prepareContent=function(f,x,O,$,L){var J=B.Promise.resolve(x).then(function(Q){var ie=R.blob&&(Q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Q))!==-1);return ie&&typeof FileReader<"u"?new B.Promise(function(ve,le){var be=new FileReader;be.onload=function(c){ve(c.target.result)},be.onerror=function(c){le(c.target.error)},be.readAsArrayBuffer(Q)}):Q});return J.then(function(Q){var ie=j.getTypeOf(Q);return ie?(ie==="arraybuffer"?Q=j.transformTo("uint8array",Q):ie==="string"&&(L?Q=o.decode(Q):O&&$!==!0&&(Q=A(Q))),Q):B.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(Z,ae,j){"use strict";var R=Z("./reader/readerFor"),o=Z("./utils"),z=Z("./signature"),y=Z("./zipEntry"),B=Z("./utf8"),A=Z("./support");function N(W){this.files=[],this.loadOptions=W}N.prototype={checkSignature:function(W){if(!this.reader.readAndCheckSignature(W)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(S)+", expected "+o.pretty(W)+")")}},isSignature:function(W,S){var V=this.reader.index;this.reader.setIndex(W);var H=this.reader.readString(4),k=H===S;return this.reader.setIndex(V),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var W=this.reader.readData(this.zipCommentLength),S=A.uint8array?"uint8array":"array",V=o.transformTo(S,W);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var W=this.zip64EndOfCentralSize-44,S=0,V,H,k;S<W;)V=this.reader.readInt(2),H=this.reader.readInt(4),k=this.reader.readData(H),this.zip64ExtensibleData[V]={id:V,length:H,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var W,S;for(W=0;W<this.files.length;W++)S=this.files[W],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(z.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var W;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(z.CENTRAL_FILE_HEADER);)W=new y({zip64:this.zip64},this.loadOptions),W.readCentralPart(this.reader),this.files.push(W);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var W=this.reader.lastIndexOfSignature(z.CENTRAL_DIRECTORY_END);if(W<0){var S=!this.isSignature(0,z.LOCAL_FILE_HEADER);throw S?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(W);var V=W;if(this.checkSignature(z.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,W=this.reader.lastIndexOfSignature(z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),W<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(W),this.checkSignature(z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,z.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(z.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(z.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;this.zip64&&(H+=20,H+=12+this.zip64EndOfCentralSize);var k=V-H;if(k>0)this.isSignature(V,z.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(W){this.reader=R(W)},load:function(W){this.prepareReader(W),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ae.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(Z,ae,j){"use strict";var R=Z("./reader/readerFor"),o=Z("./utils"),z=Z("./compressedObject"),y=Z("./crc32"),B=Z("./utf8"),A=Z("./compressions"),N=Z("./support"),W=0,S=3,V=function(k){for(var f in A)if(A.hasOwnProperty(f)&&A[f].magic===k)return A[f];return null};function H(k,f){this.options=k,this.loadOptions=f}H.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(k){var f,x;if(k.skip(22),this.fileNameLength=k.readInt(2),x=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(f=V(this.compressionMethod),f===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new z(this.compressedSize,this.uncompressedSize,this.crc32,f,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var f=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(f),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),k===W&&(this.dosPermissions=this.externalFileAttributes&63),k===S&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(k){if(this.extraFields[1]){var f=R(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(k){var f=k.index+this.extraFieldsLength,x,O,$;for(this.extraFields||(this.extraFields={});k.index+4<f;)x=k.readInt(2),O=k.readInt(2),$=k.readData(O),this.extraFields[x]={id:x,length:O,value:$};k.setIndex(f)},handleUTF8:function(){var k=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=B.utf8decode(this.fileName),this.fileCommentStr=B.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var x=o.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var $=o.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var f=R(k.value);return f.readInt(1)!==1||y(this.fileName)!==f.readInt(4)?null:B.utf8decode(f.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var f=R(k.value);return f.readInt(1)!==1||y(this.fileComment)!==f.readInt(4)?null:B.utf8decode(f.readData(k.length-5))}return null}},ae.exports=H},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Z,ae,j){"use strict";var R=Z("./stream/StreamHelper"),o=Z("./stream/DataWorker"),z=Z("./utf8"),y=Z("./compressedObject"),B=Z("./stream/GenericWorker"),A=function(V,H,k){this.name=V,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=H,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}};A.prototype={internalStream:function(V){var H=null,k="string";try{if(!V)throw new Error("No output type specified.");k=V.toLowerCase();var f=k==="string"||k==="text";(k==="binarystring"||k==="text")&&(k="string"),H=this._decompressWorker();var x=!this._dataBinary;x&&!f&&(H=H.pipe(new z.Utf8EncodeWorker)),!x&&f&&(H=H.pipe(new z.Utf8DecodeWorker))}catch(O){H=new B("error"),H.error(O)}return new R(H,k,"")},async:function(V,H){return this.internalStream(V).accumulate(H)},nodeStream:function(V,H){return this.internalStream(V||"nodebuffer").toNodejsStream(H)},_compressWorker:function(V,H){if(this._data instanceof y&&this._data.compression.magic===V.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new z.Utf8EncodeWorker)),y.createWorkerFrom(k,V,H)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof B?this._data:new o(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],W=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<N.length;S++)A.prototype[N[S]]=W;ae.exports=A},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Z,ae,j){(function(R){"use strict";var o=R.MutationObserver||R.WebKitMutationObserver,z;if(o){var y=0,B=new o(V),A=R.document.createTextNode("");B.observe(A,{characterData:!0}),z=function(){A.data=y=++y%2}}else if(!R.setImmediate&&typeof R.MessageChannel<"u"){var N=new R.MessageChannel;N.port1.onmessage=V,z=function(){N.port2.postMessage(0)}}else"document"in R&&"onreadystatechange"in R.document.createElement("script")?z=function(){var k=R.document.createElement("script");k.onreadystatechange=function(){V(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},R.document.documentElement.appendChild(k)}:z=function(){setTimeout(V,0)};var W,S=[];function V(){W=!0;for(var k,f,x=S.length;x;){for(f=S,S=[],k=-1;++k<x;)f[k]();x=S.length}W=!1}ae.exports=H;function H(k){S.push(k)===1&&!W&&z()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Z,ae,j){"use strict";var R=Z("immediate");function o(){}var z={},y=["REJECTED"],B=["FULFILLED"],A=["PENDING"];ae.exports=N;function N(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,L!==o&&H(this,L)}N.prototype.finally=function(L){if(typeof L!="function")return this;var J=this.constructor;return this.then(Q,ie);function Q(ve){function le(){return ve}return J.resolve(L()).then(le)}function ie(ve){function le(){throw ve}return J.resolve(L()).then(le)}},N.prototype.catch=function(L){return this.then(null,L)},N.prototype.then=function(L,J){if(typeof L!="function"&&this.state===B||typeof J!="function"&&this.state===y)return this;var Q=new this.constructor(o);if(this.state!==A){var ie=this.state===B?L:J;S(Q,ie,this.outcome)}else this.queue.push(new W(Q,L,J));return Q};function W(L,J,Q){this.promise=L,typeof J=="function"&&(this.onFulfilled=J,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(L){z.resolve(this.promise,L)},W.prototype.otherCallFulfilled=function(L){S(this.promise,this.onFulfilled,L)},W.prototype.callRejected=function(L){z.reject(this.promise,L)},W.prototype.otherCallRejected=function(L){S(this.promise,this.onRejected,L)};function S(L,J,Q){R(function(){var ie;try{ie=J(Q)}catch(ve){return z.reject(L,ve)}ie===L?z.reject(L,new TypeError("Cannot resolve promise with itself")):z.resolve(L,ie)})}z.resolve=function(L,J){var Q=k(V,J);if(Q.status==="error")return z.reject(L,Q.value);var ie=Q.value;if(ie)H(L,ie);else{L.state=B,L.outcome=J;for(var ve=-1,le=L.queue.length;++ve<le;)L.queue[ve].callFulfilled(J)}return L},z.reject=function(L,J){L.state=y,L.outcome=J;for(var Q=-1,ie=L.queue.length;++Q<ie;)L.queue[Q].callRejected(J);return L};function V(L){var J=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof J=="function")return function(){J.apply(L,arguments)}}function H(L,J){var Q=!1;function ie(c){Q||(Q=!0,z.reject(L,c))}function ve(c){Q||(Q=!0,z.resolve(L,c))}function le(){J(ve,ie)}var be=k(le);be.status==="error"&&ie(be.value)}function k(L,J){var Q={};try{Q.value=L(J),Q.status="success"}catch(ie){Q.status="error",Q.value=ie}return Q}N.resolve=f;function f(L){return L instanceof this?L:z.resolve(new this(o),L)}N.reject=x;function x(L){var J=new this(o);return z.reject(J,L)}N.all=O;function O(L){var J=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=L.length,ie=!1;if(!Q)return this.resolve([]);for(var ve=new Array(Q),le=0,be=-1,c=new this(o);++be<Q;)ze(L[be],be);return c;function ze(Le,xe){J.resolve(Le).then(tt,function(Ge){ie||(ie=!0,z.reject(c,Ge))});function tt(Ge){ve[xe]=Ge,++le===Q&&!ie&&(ie=!0,z.resolve(c,ve))}}}N.race=$;function $(L){var J=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=L.length,ie=!1;if(!Q)return this.resolve([]);for(var ve=-1,le=new this(o);++ve<Q;)be(L[ve]);return le;function be(c){J.resolve(c).then(function(ze){ie||(ie=!0,z.resolve(le,ze))},function(ze){ie||(ie=!0,z.reject(le,ze))})}}},{immediate:36}],38:[function(Z,ae,j){"use strict";var R=Z("./lib/utils/common").assign,o=Z("./lib/deflate"),z=Z("./lib/inflate"),y=Z("./lib/zlib/constants"),B={};R(B,o,z,y),ae.exports=B},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Z,ae,j){"use strict";var R=Z("./zlib/deflate"),o=Z("./utils/common"),z=Z("./utils/strings"),y=Z("./zlib/messages"),B=Z("./zlib/zstream"),A=Object.prototype.toString,N=0,W=4,S=0,V=1,H=2,k=-1,f=0,x=8;function O(Q){if(!(this instanceof O))return new O(Q);this.options=o.assign({level:k,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},Q||{});var ie=this.options;ie.raw&&ie.windowBits>0?ie.windowBits=-ie.windowBits:ie.gzip&&ie.windowBits>0&&ie.windowBits<16&&(ie.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B,this.strm.avail_out=0;var ve=R.deflateInit2(this.strm,ie.level,ie.method,ie.windowBits,ie.memLevel,ie.strategy);if(ve!==S)throw new Error(y[ve]);if(ie.header&&R.deflateSetHeader(this.strm,ie.header),ie.dictionary){var le;if(typeof ie.dictionary=="string"?le=z.string2buf(ie.dictionary):A.call(ie.dictionary)==="[object ArrayBuffer]"?le=new Uint8Array(ie.dictionary):le=ie.dictionary,ve=R.deflateSetDictionary(this.strm,le),ve!==S)throw new Error(y[ve]);this._dict_set=!0}}O.prototype.push=function(Q,ie){var ve=this.strm,le=this.options.chunkSize,be,c;if(this.ended)return!1;c=ie===~~ie?ie:ie===!0?W:N,typeof Q=="string"?ve.input=z.string2buf(Q):A.call(Q)==="[object ArrayBuffer]"?ve.input=new Uint8Array(Q):ve.input=Q,ve.next_in=0,ve.avail_in=ve.input.length;do{if(ve.avail_out===0&&(ve.output=new o.Buf8(le),ve.next_out=0,ve.avail_out=le),be=R.deflate(ve,c),be!==V&&be!==S)return this.onEnd(be),this.ended=!0,!1;(ve.avail_out===0||ve.avail_in===0&&(c===W||c===H))&&(this.options.to==="string"?this.onData(z.buf2binstring(o.shrinkBuf(ve.output,ve.next_out))):this.onData(o.shrinkBuf(ve.output,ve.next_out)))}while((ve.avail_in>0||ve.avail_out===0)&&be!==V);return c===W?(be=R.deflateEnd(this.strm),this.onEnd(be),this.ended=!0,be===S):(c===H&&(this.onEnd(S),ve.avail_out=0),!0)},O.prototype.onData=function(Q){this.chunks.push(Q)},O.prototype.onEnd=function(Q){Q===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=Q,this.msg=this.strm.msg};function $(Q,ie){var ve=new O(ie);if(ve.push(Q,!0),ve.err)throw ve.msg||y[ve.err];return ve.result}function L(Q,ie){return ie=ie||{},ie.raw=!0,$(Q,ie)}function J(Q,ie){return ie=ie||{},ie.gzip=!0,$(Q,ie)}j.Deflate=O,j.deflate=$,j.deflateRaw=L,j.gzip=J},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Z,ae,j){"use strict";var R=Z("./zlib/inflate"),o=Z("./utils/common"),z=Z("./utils/strings"),y=Z("./zlib/constants"),B=Z("./zlib/messages"),A=Z("./zlib/zstream"),N=Z("./zlib/gzheader"),W=Object.prototype.toString;function S(k){if(!(this instanceof S))return new S(k);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},k||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(k&&k.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15)===0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var x=R.inflateInit2(this.strm,f.windowBits);if(x!==y.Z_OK)throw new Error(B[x]);this.header=new N,R.inflateGetHeader(this.strm,this.header)}S.prototype.push=function(k,f){var x=this.strm,O=this.options.chunkSize,$=this.options.dictionary,L,J,Q,ie,ve,le,be=!1;if(this.ended)return!1;J=f===~~f?f:f===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof k=="string"?x.input=z.binstring2buf(k):W.call(k)==="[object ArrayBuffer]"?x.input=new Uint8Array(k):x.input=k,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new o.Buf8(O),x.next_out=0,x.avail_out=O),L=R.inflate(x,y.Z_NO_FLUSH),L===y.Z_NEED_DICT&&$&&(typeof $=="string"?le=z.string2buf($):W.call($)==="[object ArrayBuffer]"?le=new Uint8Array($):le=$,L=R.inflateSetDictionary(this.strm,le)),L===y.Z_BUF_ERROR&&be===!0&&(L=y.Z_OK,be=!1),L!==y.Z_STREAM_END&&L!==y.Z_OK)return this.onEnd(L),this.ended=!0,!1;x.next_out&&(x.avail_out===0||L===y.Z_STREAM_END||x.avail_in===0&&(J===y.Z_FINISH||J===y.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Q=z.utf8border(x.output,x.next_out),ie=x.next_out-Q,ve=z.buf2string(x.output,Q),x.next_out=ie,x.avail_out=O-ie,ie&&o.arraySet(x.output,x.output,Q,ie,0),this.onData(ve)):this.onData(o.shrinkBuf(x.output,x.next_out))),x.avail_in===0&&x.avail_out===0&&(be=!0)}while((x.avail_in>0||x.avail_out===0)&&L!==y.Z_STREAM_END);return L===y.Z_STREAM_END&&(J=y.Z_FINISH),J===y.Z_FINISH?(L=R.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===y.Z_OK):(J===y.Z_SYNC_FLUSH&&(this.onEnd(y.Z_OK),x.avail_out=0),!0)},S.prototype.onData=function(k){this.chunks.push(k)},S.prototype.onEnd=function(k){k===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function V(k,f){var x=new S(f);if(x.push(k,!0),x.err)throw x.msg||B[x.err];return x.result}function H(k,f){return f=f||{},f.raw=!0,V(k,f)}j.Inflate=S,j.inflate=V,j.inflateRaw=H,j.ungzip=V},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Z,ae,j){"use strict";var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";j.assign=function(y){for(var B=Array.prototype.slice.call(arguments,1);B.length;){var A=B.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var N in A)A.hasOwnProperty(N)&&(y[N]=A[N])}}return y},j.shrinkBuf=function(y,B){return y.length===B?y:y.subarray?y.subarray(0,B):(y.length=B,y)};var o={arraySet:function(y,B,A,N,W){if(B.subarray&&y.subarray){y.set(B.subarray(A,A+N),W);return}for(var S=0;S<N;S++)y[W+S]=B[A+S]},flattenChunks:function(y){var B,A,N,W,S,V;for(N=0,B=0,A=y.length;B<A;B++)N+=y[B].length;for(V=new Uint8Array(N),W=0,B=0,A=y.length;B<A;B++)S=y[B],V.set(S,W),W+=S.length;return V}},z={arraySet:function(y,B,A,N,W){for(var S=0;S<N;S++)y[W+S]=B[A+S]},flattenChunks:function(y){return[].concat.apply([],y)}};j.setTyped=function(y){y?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,o)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,z))},j.setTyped(R)},{}],42:[function(Z,ae,j){"use strict";var R=Z("./common"),o=!0,z=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{z=!1}for(var y=new R.Buf8(256),B=0;B<256;B++)y[B]=B>=252?6:B>=248?5:B>=240?4:B>=224?3:B>=192?2:1;y[254]=y[254]=1,j.string2buf=function(N){var W,S,V,H,k,f=N.length,x=0;for(H=0;H<f;H++)S=N.charCodeAt(H),(S&64512)===55296&&H+1<f&&(V=N.charCodeAt(H+1),(V&64512)===56320&&(S=65536+(S-55296<<10)+(V-56320),H++)),x+=S<128?1:S<2048?2:S<65536?3:4;for(W=new R.Buf8(x),k=0,H=0;k<x;H++)S=N.charCodeAt(H),(S&64512)===55296&&H+1<f&&(V=N.charCodeAt(H+1),(V&64512)===56320&&(S=65536+(S-55296<<10)+(V-56320),H++)),S<128?W[k++]=S:S<2048?(W[k++]=192|S>>>6,W[k++]=128|S&63):S<65536?(W[k++]=224|S>>>12,W[k++]=128|S>>>6&63,W[k++]=128|S&63):(W[k++]=240|S>>>18,W[k++]=128|S>>>12&63,W[k++]=128|S>>>6&63,W[k++]=128|S&63);return W};function A(N,W){if(W<65537&&(N.subarray&&z||!N.subarray&&o))return String.fromCharCode.apply(null,R.shrinkBuf(N,W));for(var S="",V=0;V<W;V++)S+=String.fromCharCode(N[V]);return S}j.buf2binstring=function(N){return A(N,N.length)},j.binstring2buf=function(N){for(var W=new R.Buf8(N.length),S=0,V=W.length;S<V;S++)W[S]=N.charCodeAt(S);return W},j.buf2string=function(N,W){var S,V,H,k,f=W||N.length,x=new Array(f*2);for(V=0,S=0;S<f;){if(H=N[S++],H<128){x[V++]=H;continue}if(k=y[H],k>4){x[V++]=65533,S+=k-1;continue}for(H&=k===2?31:k===3?15:7;k>1&&S<f;)H=H<<6|N[S++]&63,k--;if(k>1){x[V++]=65533;continue}H<65536?x[V++]=H:(H-=65536,x[V++]=55296|H>>10&1023,x[V++]=56320|H&1023)}return A(x,V)},j.utf8border=function(N,W){var S;for(W=W||N.length,W>N.length&&(W=N.length),S=W-1;S>=0&&(N[S]&192)===128;)S--;return S<0||S===0?W:S+y[N[S]]>W?S:W}},{"./common":41}],43:[function(Z,ae,j){"use strict";function R(o,z,y,B){for(var A=o&65535|0,N=o>>>16&65535|0,W=0;y!==0;){W=y>2e3?2e3:y,y-=W;do A=A+z[B++]|0,N=N+A|0;while(--W);A%=65521,N%=65521}return A|N<<16|0}ae.exports=R},{}],44:[function(Z,ae,j){"use strict";ae.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Z,ae,j){"use strict";function R(){for(var y,B=[],A=0;A<256;A++){y=A;for(var N=0;N<8;N++)y=y&1?3988292384^y>>>1:y>>>1;B[A]=y}return B}var o=R();function z(y,B,A,N){var W=o,S=N+A;y^=-1;for(var V=N;V<S;V++)y=y>>>8^W[(y^B[V])&255];return y^-1}ae.exports=z},{}],46:[function(Z,ae,j){"use strict";var R=Z("../utils/common"),o=Z("./trees"),z=Z("./adler32"),y=Z("./crc32"),B=Z("./messages"),A=0,N=1,W=3,S=4,V=5,H=0,k=1,f=-2,x=-3,O=-5,$=-1,L=1,J=2,Q=3,ie=4,ve=0,le=2,be=8,c=9,ze=15,Le=8,xe=29,tt=256,Ge=tt+1+xe,Te=30,qe=19,ot=2*Ge+1,ft=15,De=3,at=258,Xe=at+De+1,Ue=32,$e=42,mt=69,Ke=73,P=91,G=103,u=113,ue=666,oe=1,pe=2,fe=3,ge=4,We=3;function it(r,D){return r.msg=B[D],D}function rt(r){return(r<<1)-(r>4?9:0)}function nt(r){for(var D=r.length;--D>=0;)r[D]=0}function dt(r){var D=r.state,te=D.pending;te>r.avail_out&&(te=r.avail_out),te!==0&&(R.arraySet(r.output,D.pending_buf,D.pending_out,te,r.next_out),r.next_out+=te,D.pending_out+=te,r.total_out+=te,r.avail_out-=te,D.pending-=te,D.pending===0&&(D.pending_out=0))}function Je(r,D){o._tr_flush_block(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,D),r.block_start=r.strstart,dt(r.strm)}function Ne(r,D){r.pending_buf[r.pending++]=D}function lt(r,D){r.pending_buf[r.pending++]=D>>>8&255,r.pending_buf[r.pending++]=D&255}function Ct(r,D,te,g){var U=r.avail_in;return U>g&&(U=g),U===0?0:(r.avail_in-=U,R.arraySet(D,r.input,r.next_in,U,te),r.state.wrap===1?r.adler=z(r.adler,D,U,te):r.state.wrap===2&&(r.adler=y(r.adler,D,U,te)),r.next_in+=U,r.total_in+=U,U)}function Rt(r,D){var te=r.max_chain_length,g=r.strstart,U,K,Ie=r.prev_length,Me=r.nice_match,Ae=r.strstart>r.w_size-Xe?r.strstart-(r.w_size-Xe):0,Pe=r.window,Lt=r.w_mask,je=r.prev,we=r.strstart+at,vt=Pe[g+Ie-1],et=Pe[g+Ie];r.prev_length>=r.good_match&&(te>>=2),Me>r.lookahead&&(Me=r.lookahead);do if(U=D,!(Pe[U+Ie]!==et||Pe[U+Ie-1]!==vt||Pe[U]!==Pe[g]||Pe[++U]!==Pe[g+1])){g+=2,U++;do;while(Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&Pe[++g]===Pe[++U]&&g<we);if(K=at-(we-g),g=we-at,K>Ie){if(r.match_start=D,Ie=K,K>=Me)break;vt=Pe[g+Ie-1],et=Pe[g+Ie]}}while((D=je[D&Lt])>Ae&&--te!==0);return Ie<=r.lookahead?Ie:r.lookahead}function At(r){var D=r.w_size,te,g,U,K,Ie;do{if(K=r.window_size-r.lookahead-r.strstart,r.strstart>=D+(D-Xe)){R.arraySet(r.window,r.window,D,D,0),r.match_start-=D,r.strstart-=D,r.block_start-=D,g=r.hash_size,te=g;do U=r.head[--te],r.head[te]=U>=D?U-D:0;while(--g);g=D,te=g;do U=r.prev[--te],r.prev[te]=U>=D?U-D:0;while(--g);K+=D}if(r.strm.avail_in===0)break;if(g=Ct(r.strm,r.window,r.strstart+r.lookahead,K),r.lookahead+=g,r.lookahead+r.insert>=De)for(Ie=r.strstart-r.insert,r.ins_h=r.window[Ie],r.ins_h=(r.ins_h<<r.hash_shift^r.window[Ie+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[Ie+De-1])&r.hash_mask,r.prev[Ie&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=Ie,Ie++,r.insert--,!(r.lookahead+r.insert<De)););}while(r.lookahead<Xe&&r.strm.avail_in!==0)}function kt(r,D){var te=65535;for(te>r.pending_buf_size-5&&(te=r.pending_buf_size-5);;){if(r.lookahead<=1){if(At(r),r.lookahead===0&&D===A)return oe;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var g=r.block_start+te;if((r.strstart===0||r.strstart>=g)&&(r.lookahead=r.strstart-g,r.strstart=g,Je(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-Xe&&(Je(r,!1),r.strm.avail_out===0))return oe}return r.insert=0,D===S?(Je(r,!0),r.strm.avail_out===0?fe:ge):(r.strstart>r.block_start&&(Je(r,!1),r.strm.avail_out===0),oe)}function Gt(r,D){for(var te,g;;){if(r.lookahead<Xe){if(At(r),r.lookahead<Xe&&D===A)return oe;if(r.lookahead===0)break}if(te=0,r.lookahead>=De&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+De-1])&r.hash_mask,te=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),te!==0&&r.strstart-te<=r.w_size-Xe&&(r.match_length=Rt(r,te)),r.match_length>=De)if(g=o._tr_tally(r,r.strstart-r.match_start,r.match_length-De),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=De){r.match_length--;do r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+De-1])&r.hash_mask,te=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else g=o._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(g&&(Je(r,!1),r.strm.avail_out===0))return oe}return r.insert=r.strstart<De-1?r.strstart:De-1,D===S?(Je(r,!0),r.strm.avail_out===0?fe:ge):r.last_lit&&(Je(r,!1),r.strm.avail_out===0)?oe:pe}function Ut(r,D){for(var te,g,U;;){if(r.lookahead<Xe){if(At(r),r.lookahead<Xe&&D===A)return oe;if(r.lookahead===0)break}if(te=0,r.lookahead>=De&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+De-1])&r.hash_mask,te=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=De-1,te!==0&&r.prev_length<r.max_lazy_match&&r.strstart-te<=r.w_size-Xe&&(r.match_length=Rt(r,te),r.match_length<=5&&(r.strategy===L||r.match_length===De&&r.strstart-r.match_start>4096)&&(r.match_length=De-1)),r.prev_length>=De&&r.match_length<=r.prev_length){U=r.strstart+r.lookahead-De,g=o._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-De),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=U&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+De-1])&r.hash_mask,te=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=De-1,r.strstart++,g&&(Je(r,!1),r.strm.avail_out===0))return oe}else if(r.match_available){if(g=o._tr_tally(r,0,r.window[r.strstart-1]),g&&Je(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return oe}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(g=o._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<De-1?r.strstart:De-1,D===S?(Je(r,!0),r.strm.avail_out===0?fe:ge):r.last_lit&&(Je(r,!1),r.strm.avail_out===0)?oe:pe}function Tt(r,D){for(var te,g,U,K,Ie=r.window;;){if(r.lookahead<=at){if(At(r),r.lookahead<=at&&D===A)return oe;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=De&&r.strstart>0&&(U=r.strstart-1,g=Ie[U],g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U])){K=r.strstart+at;do;while(g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&g===Ie[++U]&&U<K);r.match_length=at-(K-U),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=De?(te=o._tr_tally(r,1,r.match_length-De),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(te=o._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),te&&(Je(r,!1),r.strm.avail_out===0))return oe}return r.insert=0,D===S?(Je(r,!0),r.strm.avail_out===0?fe:ge):r.last_lit&&(Je(r,!1),r.strm.avail_out===0)?oe:pe}function Wt(r,D){for(var te;;){if(r.lookahead===0&&(At(r),r.lookahead===0)){if(D===A)return oe;break}if(r.match_length=0,te=o._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,te&&(Je(r,!1),r.strm.avail_out===0))return oe}return r.insert=0,D===S?(Je(r,!0),r.strm.avail_out===0?fe:ge):r.last_lit&&(Je(r,!1),r.strm.avail_out===0)?oe:pe}function Et(r,D,te,g,U){this.good_length=r,this.max_lazy=D,this.nice_length=te,this.max_chain=g,this.func=U}var Bt;Bt=[new Et(0,0,0,0,kt),new Et(4,4,8,4,Gt),new Et(4,5,16,8,Gt),new Et(4,6,32,32,Gt),new Et(4,4,16,16,Ut),new Et(8,16,32,32,Ut),new Et(8,16,128,128,Ut),new Et(8,32,128,256,Ut),new Et(32,128,258,1024,Ut),new Et(32,258,258,4096,Ut)];function Ht(r){r.window_size=2*r.w_size,nt(r.head),r.max_lazy_match=Bt[r.level].max_lazy,r.good_match=Bt[r.level].good_length,r.nice_match=Bt[r.level].nice_length,r.max_chain_length=Bt[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=De-1,r.match_available=0,r.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=be,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(ot*2),this.dyn_dtree=new R.Buf16((2*Te+1)*2),this.bl_tree=new R.Buf16((2*qe+1)*2),nt(this.dyn_ltree),nt(this.dyn_dtree),nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(ft+1),this.heap=new R.Buf16(2*Ge+1),nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*Ge+1),nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(r){var D;return!r||!r.state?it(r,f):(r.total_in=r.total_out=0,r.data_type=le,D=r.state,D.pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?$e:u,r.adler=D.wrap===2?0:1,D.last_flush=A,o._tr_init(D),H)}function me(r){var D=ce(r);return D===H&&Ht(r.state),D}function ke(r,D){return!r||!r.state||r.state.wrap!==2?f:(r.state.gzhead=D,H)}function F(r,D,te,g,U,K){if(!r)return f;var Ie=1;if(D===$&&(D=6),g<0?(Ie=0,g=-g):g>15&&(Ie=2,g-=16),U<1||U>c||te!==be||g<8||g>15||D<0||D>9||K<0||K>ie)return it(r,f);g===8&&(g=9);var Me=new b;return r.state=Me,Me.strm=r,Me.wrap=Ie,Me.gzhead=null,Me.w_bits=g,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=U+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+De-1)/De),Me.window=new R.Buf8(Me.w_size*2),Me.head=new R.Buf16(Me.hash_size),Me.prev=new R.Buf16(Me.w_size),Me.lit_bufsize=1<<U+6,Me.pending_buf_size=Me.lit_bufsize*4,Me.pending_buf=new R.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=D,Me.strategy=K,Me.method=te,me(r)}function ne(r,D){return F(r,D,be,ze,Le,ve)}function h(r,D){var te,g,U,K;if(!r||!r.state||D>V||D<0)return r?it(r,f):f;if(g=r.state,!r.output||!r.input&&r.avail_in!==0||g.status===ue&&D!==S)return it(r,r.avail_out===0?O:f);if(g.strm=r,te=g.last_flush,g.last_flush=D,g.status===$e)if(g.wrap===2)r.adler=0,Ne(g,31),Ne(g,139),Ne(g,8),g.gzhead?(Ne(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),Ne(g,g.gzhead.time&255),Ne(g,g.gzhead.time>>8&255),Ne(g,g.gzhead.time>>16&255),Ne(g,g.gzhead.time>>24&255),Ne(g,g.level===9?2:g.strategy>=J||g.level<2?4:0),Ne(g,g.gzhead.os&255),g.gzhead.extra&&g.gzhead.extra.length&&(Ne(g,g.gzhead.extra.length&255),Ne(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(r.adler=y(r.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=mt):(Ne(g,0),Ne(g,0),Ne(g,0),Ne(g,0),Ne(g,0),Ne(g,g.level===9?2:g.strategy>=J||g.level<2?4:0),Ne(g,We),g.status=u);else{var Ie=be+(g.w_bits-8<<4)<<8,Me=-1;g.strategy>=J||g.level<2?Me=0:g.level<6?Me=1:g.level===6?Me=2:Me=3,Ie|=Me<<6,g.strstart!==0&&(Ie|=Ue),Ie+=31-Ie%31,g.status=u,lt(g,Ie),g.strstart!==0&&(lt(g,r.adler>>>16),lt(g,r.adler&65535)),r.adler=1}if(g.status===mt)if(g.gzhead.extra){for(U=g.pending;g.gzindex<(g.gzhead.extra.length&65535)&&!(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),dt(r),U=g.pending,g.pending===g.pending_buf_size));)Ne(g,g.gzhead.extra[g.gzindex]&255),g.gzindex++;g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=Ke)}else g.status=Ke;if(g.status===Ke)if(g.gzhead.name){U=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),dt(r),U=g.pending,g.pending===g.pending_buf_size)){K=1;break}g.gzindex<g.gzhead.name.length?K=g.gzhead.name.charCodeAt(g.gzindex++)&255:K=0,Ne(g,K)}while(K!==0);g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),K===0&&(g.gzindex=0,g.status=P)}else g.status=P;if(g.status===P)if(g.gzhead.comment){U=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),dt(r),U=g.pending,g.pending===g.pending_buf_size)){K=1;break}g.gzindex<g.gzhead.comment.length?K=g.gzhead.comment.charCodeAt(g.gzindex++)&255:K=0,Ne(g,K)}while(K!==0);g.gzhead.hcrc&&g.pending>U&&(r.adler=y(r.adler,g.pending_buf,g.pending-U,U)),K===0&&(g.status=G)}else g.status=G;if(g.status===G&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&dt(r),g.pending+2<=g.pending_buf_size&&(Ne(g,r.adler&255),Ne(g,r.adler>>8&255),r.adler=0,g.status=u)):g.status=u),g.pending!==0){if(dt(r),r.avail_out===0)return g.last_flush=-1,H}else if(r.avail_in===0&&rt(D)<=rt(te)&&D!==S)return it(r,O);if(g.status===ue&&r.avail_in!==0)return it(r,O);if(r.avail_in!==0||g.lookahead!==0||D!==A&&g.status!==ue){var Ae=g.strategy===J?Wt(g,D):g.strategy===Q?Tt(g,D):Bt[g.level].func(g,D);if((Ae===fe||Ae===ge)&&(g.status=ue),Ae===oe||Ae===fe)return r.avail_out===0&&(g.last_flush=-1),H;if(Ae===pe&&(D===N?o._tr_align(g):D!==V&&(o._tr_stored_block(g,0,0,!1),D===W&&(nt(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),dt(r),r.avail_out===0))return g.last_flush=-1,H}return D!==S?H:g.wrap<=0?k:(g.wrap===2?(Ne(g,r.adler&255),Ne(g,r.adler>>8&255),Ne(g,r.adler>>16&255),Ne(g,r.adler>>24&255),Ne(g,r.total_in&255),Ne(g,r.total_in>>8&255),Ne(g,r.total_in>>16&255),Ne(g,r.total_in>>24&255)):(lt(g,r.adler>>>16),lt(g,r.adler&65535)),dt(r),g.wrap>0&&(g.wrap=-g.wrap),g.pending!==0?H:k)}function he(r){var D;return!r||!r.state?f:(D=r.state.status,D!==$e&&D!==mt&&D!==Ke&&D!==P&&D!==G&&D!==u&&D!==ue?it(r,f):(r.state=null,D===u?it(r,x):H))}function Oe(r,D){var te=D.length,g,U,K,Ie,Me,Ae,Pe,Lt;if(!r||!r.state||(g=r.state,Ie=g.wrap,Ie===2||Ie===1&&g.status!==$e||g.lookahead))return f;for(Ie===1&&(r.adler=z(r.adler,D,te,0)),g.wrap=0,te>=g.w_size&&(Ie===0&&(nt(g.head),g.strstart=0,g.block_start=0,g.insert=0),Lt=new R.Buf8(g.w_size),R.arraySet(Lt,D,te-g.w_size,g.w_size,0),D=Lt,te=g.w_size),Me=r.avail_in,Ae=r.next_in,Pe=r.input,r.avail_in=te,r.next_in=0,r.input=D,At(g);g.lookahead>=De;){U=g.strstart,K=g.lookahead-(De-1);do g.ins_h=(g.ins_h<<g.hash_shift^g.window[U+De-1])&g.hash_mask,g.prev[U&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=U,U++;while(--K);g.strstart=U,g.lookahead=De-1,At(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=De-1,g.match_available=0,r.next_in=Ae,r.input=Pe,r.avail_in=Me,g.wrap=Ie,H}j.deflateInit=ne,j.deflateInit2=F,j.deflateReset=me,j.deflateResetKeep=ce,j.deflateSetHeader=ke,j.deflate=h,j.deflateEnd=he,j.deflateSetDictionary=Oe,j.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Z,ae,j){"use strict";function R(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ae.exports=R},{}],48:[function(Z,ae,j){"use strict";var R=30,o=12;ae.exports=function(y,B){var A,N,W,S,V,H,k,f,x,O,$,L,J,Q,ie,ve,le,be,c,ze,Le,xe,tt,Ge,Te;A=y.state,N=y.next_in,Ge=y.input,W=N+(y.avail_in-5),S=y.next_out,Te=y.output,V=S-(B-y.avail_out),H=S+(y.avail_out-257),k=A.dmax,f=A.wsize,x=A.whave,O=A.wnext,$=A.window,L=A.hold,J=A.bits,Q=A.lencode,ie=A.distcode,ve=(1<<A.lenbits)-1,le=(1<<A.distbits)-1;e:do{J<15&&(L+=Ge[N++]<<J,J+=8,L+=Ge[N++]<<J,J+=8),be=Q[L&ve];t:for(;;){if(c=be>>>24,L>>>=c,J-=c,c=be>>>16&255,c===0)Te[S++]=be&65535;else if(c&16){ze=be&65535,c&=15,c&&(J<c&&(L+=Ge[N++]<<J,J+=8),ze+=L&(1<<c)-1,L>>>=c,J-=c),J<15&&(L+=Ge[N++]<<J,J+=8,L+=Ge[N++]<<J,J+=8),be=ie[L&le];i:for(;;){if(c=be>>>24,L>>>=c,J-=c,c=be>>>16&255,c&16){if(Le=be&65535,c&=15,J<c&&(L+=Ge[N++]<<J,J+=8,J<c&&(L+=Ge[N++]<<J,J+=8)),Le+=L&(1<<c)-1,Le>k){y.msg="invalid distance too far back",A.mode=R;break e}if(L>>>=c,J-=c,c=S-V,Le>c){if(c=Le-c,c>x&&A.sane){y.msg="invalid distance too far back",A.mode=R;break e}if(xe=0,tt=$,O===0){if(xe+=f-c,c<ze){ze-=c;do Te[S++]=$[xe++];while(--c);xe=S-Le,tt=Te}}else if(O<c){if(xe+=f+O-c,c-=O,c<ze){ze-=c;do Te[S++]=$[xe++];while(--c);if(xe=0,O<ze){c=O,ze-=c;do Te[S++]=$[xe++];while(--c);xe=S-Le,tt=Te}}}else if(xe+=O-c,c<ze){ze-=c;do Te[S++]=$[xe++];while(--c);xe=S-Le,tt=Te}for(;ze>2;)Te[S++]=tt[xe++],Te[S++]=tt[xe++],Te[S++]=tt[xe++],ze-=3;ze&&(Te[S++]=tt[xe++],ze>1&&(Te[S++]=tt[xe++]))}else{xe=S-Le;do Te[S++]=Te[xe++],Te[S++]=Te[xe++],Te[S++]=Te[xe++],ze-=3;while(ze>2);ze&&(Te[S++]=Te[xe++],ze>1&&(Te[S++]=Te[xe++]))}}else if((c&64)===0){be=ie[(be&65535)+(L&(1<<c)-1)];continue i}else{y.msg="invalid distance code",A.mode=R;break e}break}}else if((c&64)===0){be=Q[(be&65535)+(L&(1<<c)-1)];continue t}else if(c&32){A.mode=o;break e}else{y.msg="invalid literal/length code",A.mode=R;break e}break}}while(N<W&&S<H);ze=J>>3,N-=ze,J-=ze<<3,L&=(1<<J)-1,y.next_in=N,y.next_out=S,y.avail_in=N<W?5+(W-N):5-(N-W),y.avail_out=S<H?257+(H-S):257-(S-H),A.hold=L,A.bits=J}},{}],49:[function(Z,ae,j){"use strict";var R=Z("../utils/common"),o=Z("./adler32"),z=Z("./crc32"),y=Z("./inffast"),B=Z("./inftrees"),A=0,N=1,W=2,S=4,V=5,H=6,k=0,f=1,x=2,O=-2,$=-3,L=-4,J=-5,Q=8,ie=1,ve=2,le=3,be=4,c=5,ze=6,Le=7,xe=8,tt=9,Ge=10,Te=11,qe=12,ot=13,ft=14,De=15,at=16,Xe=17,Ue=18,$e=19,mt=20,Ke=21,P=22,G=23,u=24,ue=25,oe=26,pe=27,fe=28,ge=29,We=30,it=31,rt=32,nt=852,dt=592,Je=15,Ne=Je;function lt(F){return(F>>>24&255)+(F>>>8&65280)+((F&65280)<<8)+((F&255)<<24)}function Ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rt(F){var ne;return!F||!F.state?O:(ne=F.state,F.total_in=F.total_out=ne.total=0,F.msg="",ne.wrap&&(F.adler=ne.wrap&1),ne.mode=ie,ne.last=0,ne.havedict=0,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new R.Buf32(nt),ne.distcode=ne.distdyn=new R.Buf32(dt),ne.sane=1,ne.back=-1,k)}function At(F){var ne;return!F||!F.state?O:(ne=F.state,ne.wsize=0,ne.whave=0,ne.wnext=0,Rt(F))}function kt(F,ne){var h,he;return!F||!F.state||(he=F.state,ne<0?(h=0,ne=-ne):(h=(ne>>4)+1,ne<48&&(ne&=15)),ne&&(ne<8||ne>15))?O:(he.window!==null&&he.wbits!==ne&&(he.window=null),he.wrap=h,he.wbits=ne,At(F))}function Gt(F,ne){var h,he;return F?(he=new Ct,F.state=he,he.window=null,h=kt(F,ne),h!==k&&(F.state=null),h):O}function Ut(F){return Gt(F,Ne)}var Tt=!0,Wt,Et;function Bt(F){if(Tt){var ne;for(Wt=new R.Buf32(512),Et=new R.Buf32(32),ne=0;ne<144;)F.lens[ne++]=8;for(;ne<256;)F.lens[ne++]=9;for(;ne<280;)F.lens[ne++]=7;for(;ne<288;)F.lens[ne++]=8;for(B(N,F.lens,0,288,Wt,0,F.work,{bits:9}),ne=0;ne<32;)F.lens[ne++]=5;B(W,F.lens,0,32,Et,0,F.work,{bits:5}),Tt=!1}F.lencode=Wt,F.lenbits=9,F.distcode=Et,F.distbits=5}function Ht(F,ne,h,he){var Oe,r=F.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new R.Buf8(r.wsize)),he>=r.wsize?(R.arraySet(r.window,ne,h-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(Oe=r.wsize-r.wnext,Oe>he&&(Oe=he),R.arraySet(r.window,ne,h-he,Oe,r.wnext),he-=Oe,he?(R.arraySet(r.window,ne,h-he,he,0),r.wnext=he,r.whave=r.wsize):(r.wnext+=Oe,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=Oe))),0}function b(F,ne){var h,he,Oe,r,D,te,g,U,K,Ie,Me,Ae,Pe,Lt,je=0,we,vt,et,Be,Qt,ht,yt,bt,gt=new R.Buf8(4),Nt,wt,ci=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return O;h=F.state,h.mode===qe&&(h.mode=ot),D=F.next_out,Oe=F.output,g=F.avail_out,r=F.next_in,he=F.input,te=F.avail_in,U=h.hold,K=h.bits,Ie=te,Me=g,bt=k;e:for(;;)switch(h.mode){case ie:if(h.wrap===0){h.mode=ot;break}for(;K<16;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(h.wrap&2&&U===35615){h.check=0,gt[0]=U&255,gt[1]=U>>>8&255,h.check=z(h.check,gt,2,0),U=0,K=0,h.mode=ve;break}if(h.flags=0,h.head&&(h.head.done=!1),!(h.wrap&1)||(((U&255)<<8)+(U>>8))%31){F.msg="incorrect header check",h.mode=We;break}if((U&15)!==Q){F.msg="unknown compression method",h.mode=We;break}if(U>>>=4,K-=4,yt=(U&15)+8,h.wbits===0)h.wbits=yt;else if(yt>h.wbits){F.msg="invalid window size",h.mode=We;break}h.dmax=1<<yt,F.adler=h.check=1,h.mode=U&512?Ge:qe,U=0,K=0;break;case ve:for(;K<16;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(h.flags=U,(h.flags&255)!==Q){F.msg="unknown compression method",h.mode=We;break}if(h.flags&57344){F.msg="unknown header flags set",h.mode=We;break}h.head&&(h.head.text=U>>8&1),h.flags&512&&(gt[0]=U&255,gt[1]=U>>>8&255,h.check=z(h.check,gt,2,0)),U=0,K=0,h.mode=le;case le:for(;K<32;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.head&&(h.head.time=U),h.flags&512&&(gt[0]=U&255,gt[1]=U>>>8&255,gt[2]=U>>>16&255,gt[3]=U>>>24&255,h.check=z(h.check,gt,4,0)),U=0,K=0,h.mode=be;case be:for(;K<16;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.head&&(h.head.xflags=U&255,h.head.os=U>>8),h.flags&512&&(gt[0]=U&255,gt[1]=U>>>8&255,h.check=z(h.check,gt,2,0)),U=0,K=0,h.mode=c;case c:if(h.flags&1024){for(;K<16;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.length=U,h.head&&(h.head.extra_len=U),h.flags&512&&(gt[0]=U&255,gt[1]=U>>>8&255,h.check=z(h.check,gt,2,0)),U=0,K=0}else h.head&&(h.head.extra=null);h.mode=ze;case ze:if(h.flags&1024&&(Ae=h.length,Ae>te&&(Ae=te),Ae&&(h.head&&(yt=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),R.arraySet(h.head.extra,he,r,Ae,yt)),h.flags&512&&(h.check=z(h.check,he,Ae,r)),te-=Ae,r+=Ae,h.length-=Ae),h.length))break e;h.length=0,h.mode=Le;case Le:if(h.flags&2048){if(te===0)break e;Ae=0;do yt=he[r+Ae++],h.head&&yt&&h.length<65536&&(h.head.name+=String.fromCharCode(yt));while(yt&&Ae<te);if(h.flags&512&&(h.check=z(h.check,he,Ae,r)),te-=Ae,r+=Ae,yt)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=xe;case xe:if(h.flags&4096){if(te===0)break e;Ae=0;do yt=he[r+Ae++],h.head&&yt&&h.length<65536&&(h.head.comment+=String.fromCharCode(yt));while(yt&&Ae<te);if(h.flags&512&&(h.check=z(h.check,he,Ae,r)),te-=Ae,r+=Ae,yt)break e}else h.head&&(h.head.comment=null);h.mode=tt;case tt:if(h.flags&512){for(;K<16;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(U!==(h.check&65535)){F.msg="header crc mismatch",h.mode=We;break}U=0,K=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),F.adler=h.check=0,h.mode=qe;break;case Ge:for(;K<32;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}F.adler=h.check=lt(U),U=0,K=0,h.mode=Te;case Te:if(h.havedict===0)return F.next_out=D,F.avail_out=g,F.next_in=r,F.avail_in=te,h.hold=U,h.bits=K,x;F.adler=h.check=1,h.mode=qe;case qe:if(ne===V||ne===H)break e;case ot:if(h.last){U>>>=K&7,K-=K&7,h.mode=pe;break}for(;K<3;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}switch(h.last=U&1,U>>>=1,K-=1,U&3){case 0:h.mode=ft;break;case 1:if(Bt(h),h.mode=mt,ne===H){U>>>=2,K-=2;break e}break;case 2:h.mode=Xe;break;case 3:F.msg="invalid block type",h.mode=We}U>>>=2,K-=2;break;case ft:for(U>>>=K&7,K-=K&7;K<32;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if((U&65535)!==(U>>>16^65535)){F.msg="invalid stored block lengths",h.mode=We;break}if(h.length=U&65535,U=0,K=0,h.mode=De,ne===H)break e;case De:h.mode=at;case at:if(Ae=h.length,Ae){if(Ae>te&&(Ae=te),Ae>g&&(Ae=g),Ae===0)break e;R.arraySet(Oe,he,r,Ae,D),te-=Ae,r+=Ae,g-=Ae,D+=Ae,h.length-=Ae;break}h.mode=qe;break;case Xe:for(;K<14;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(h.nlen=(U&31)+257,U>>>=5,K-=5,h.ndist=(U&31)+1,U>>>=5,K-=5,h.ncode=(U&15)+4,U>>>=4,K-=4,h.nlen>286||h.ndist>30){F.msg="too many length or distance symbols",h.mode=We;break}h.have=0,h.mode=Ue;case Ue:for(;h.have<h.ncode;){for(;K<3;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.lens[ci[h.have++]]=U&7,U>>>=3,K-=3}for(;h.have<19;)h.lens[ci[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,Nt={bits:h.lenbits},bt=B(A,h.lens,0,19,h.lencode,0,h.work,Nt),h.lenbits=Nt.bits,bt){F.msg="invalid code lengths set",h.mode=We;break}h.have=0,h.mode=$e;case $e:for(;h.have<h.nlen+h.ndist;){for(;je=h.lencode[U&(1<<h.lenbits)-1],we=je>>>24,vt=je>>>16&255,et=je&65535,!(we<=K);){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(et<16)U>>>=we,K-=we,h.lens[h.have++]=et;else{if(et===16){for(wt=we+2;K<wt;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(U>>>=we,K-=we,h.have===0){F.msg="invalid bit length repeat",h.mode=We;break}yt=h.lens[h.have-1],Ae=3+(U&3),U>>>=2,K-=2}else if(et===17){for(wt=we+3;K<wt;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}U>>>=we,K-=we,yt=0,Ae=3+(U&7),U>>>=3,K-=3}else{for(wt=we+7;K<wt;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}U>>>=we,K-=we,yt=0,Ae=11+(U&127),U>>>=7,K-=7}if(h.have+Ae>h.nlen+h.ndist){F.msg="invalid bit length repeat",h.mode=We;break}for(;Ae--;)h.lens[h.have++]=yt}}if(h.mode===We)break;if(h.lens[256]===0){F.msg="invalid code -- missing end-of-block",h.mode=We;break}if(h.lenbits=9,Nt={bits:h.lenbits},bt=B(N,h.lens,0,h.nlen,h.lencode,0,h.work,Nt),h.lenbits=Nt.bits,bt){F.msg="invalid literal/lengths set",h.mode=We;break}if(h.distbits=6,h.distcode=h.distdyn,Nt={bits:h.distbits},bt=B(W,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,Nt),h.distbits=Nt.bits,bt){F.msg="invalid distances set",h.mode=We;break}if(h.mode=mt,ne===H)break e;case mt:h.mode=Ke;case Ke:if(te>=6&&g>=258){F.next_out=D,F.avail_out=g,F.next_in=r,F.avail_in=te,h.hold=U,h.bits=K,y(F,Me),D=F.next_out,Oe=F.output,g=F.avail_out,r=F.next_in,he=F.input,te=F.avail_in,U=h.hold,K=h.bits,h.mode===qe&&(h.back=-1);break}for(h.back=0;je=h.lencode[U&(1<<h.lenbits)-1],we=je>>>24,vt=je>>>16&255,et=je&65535,!(we<=K);){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(vt&&(vt&240)===0){for(Be=we,Qt=vt,ht=et;je=h.lencode[ht+((U&(1<<Be+Qt)-1)>>Be)],we=je>>>24,vt=je>>>16&255,et=je&65535,!(Be+we<=K);){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}U>>>=Be,K-=Be,h.back+=Be}if(U>>>=we,K-=we,h.back+=we,h.length=et,vt===0){h.mode=oe;break}if(vt&32){h.back=-1,h.mode=qe;break}if(vt&64){F.msg="invalid literal/length code",h.mode=We;break}h.extra=vt&15,h.mode=P;case P:if(h.extra){for(wt=h.extra;K<wt;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.length+=U&(1<<h.extra)-1,U>>>=h.extra,K-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=G;case G:for(;je=h.distcode[U&(1<<h.distbits)-1],we=je>>>24,vt=je>>>16&255,et=je&65535,!(we<=K);){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if((vt&240)===0){for(Be=we,Qt=vt,ht=et;je=h.distcode[ht+((U&(1<<Be+Qt)-1)>>Be)],we=je>>>24,vt=je>>>16&255,et=je&65535,!(Be+we<=K);){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}U>>>=Be,K-=Be,h.back+=Be}if(U>>>=we,K-=we,h.back+=we,vt&64){F.msg="invalid distance code",h.mode=We;break}h.offset=et,h.extra=vt&15,h.mode=u;case u:if(h.extra){for(wt=h.extra;K<wt;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}h.offset+=U&(1<<h.extra)-1,U>>>=h.extra,K-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){F.msg="invalid distance too far back",h.mode=We;break}h.mode=ue;case ue:if(g===0)break e;if(Ae=Me-g,h.offset>Ae){if(Ae=h.offset-Ae,Ae>h.whave&&h.sane){F.msg="invalid distance too far back",h.mode=We;break}Ae>h.wnext?(Ae-=h.wnext,Pe=h.wsize-Ae):Pe=h.wnext-Ae,Ae>h.length&&(Ae=h.length),Lt=h.window}else Lt=Oe,Pe=D-h.offset,Ae=h.length;Ae>g&&(Ae=g),g-=Ae,h.length-=Ae;do Oe[D++]=Lt[Pe++];while(--Ae);h.length===0&&(h.mode=Ke);break;case oe:if(g===0)break e;Oe[D++]=h.length,g--,h.mode=Ke;break;case pe:if(h.wrap){for(;K<32;){if(te===0)break e;te--,U|=he[r++]<<K,K+=8}if(Me-=g,F.total_out+=Me,h.total+=Me,Me&&(F.adler=h.check=h.flags?z(h.check,Oe,Me,D-Me):o(h.check,Oe,Me,D-Me)),Me=g,(h.flags?U:lt(U))!==h.check){F.msg="incorrect data check",h.mode=We;break}U=0,K=0}h.mode=fe;case fe:if(h.wrap&&h.flags){for(;K<32;){if(te===0)break e;te--,U+=he[r++]<<K,K+=8}if(U!==(h.total&4294967295)){F.msg="incorrect length check",h.mode=We;break}U=0,K=0}h.mode=ge;case ge:bt=f;break e;case We:bt=$;break e;case it:return L;case rt:default:return O}return F.next_out=D,F.avail_out=g,F.next_in=r,F.avail_in=te,h.hold=U,h.bits=K,(h.wsize||Me!==F.avail_out&&h.mode<We&&(h.mode<pe||ne!==S))&&Ht(F,F.output,F.next_out,Me-F.avail_out)?(h.mode=it,L):(Ie-=F.avail_in,Me-=F.avail_out,F.total_in+=Ie,F.total_out+=Me,h.total+=Me,h.wrap&&Me&&(F.adler=h.check=h.flags?z(h.check,Oe,Me,F.next_out-Me):o(h.check,Oe,Me,F.next_out-Me)),F.data_type=h.bits+(h.last?64:0)+(h.mode===qe?128:0)+(h.mode===mt||h.mode===De?256:0),(Ie===0&&Me===0||ne===S)&&bt===k&&(bt=J),bt)}function ce(F){if(!F||!F.state)return O;var ne=F.state;return ne.window&&(ne.window=null),F.state=null,k}function me(F,ne){var h;return!F||!F.state||(h=F.state,(h.wrap&2)===0)?O:(h.head=ne,ne.done=!1,k)}function ke(F,ne){var h=ne.length,he,Oe,r;return!F||!F.state||(he=F.state,he.wrap!==0&&he.mode!==Te)?O:he.mode===Te&&(Oe=1,Oe=o(Oe,ne,h,0),Oe!==he.check)?$:(r=Ht(F,ne,h,h),r?(he.mode=it,L):(he.havedict=1,k))}j.inflateReset=At,j.inflateReset2=kt,j.inflateResetKeep=Rt,j.inflateInit=Ut,j.inflateInit2=Gt,j.inflate=b,j.inflateEnd=ce,j.inflateGetHeader=me,j.inflateSetDictionary=ke,j.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Z,ae,j){"use strict";var R=Z("../utils/common"),o=15,z=852,y=592,B=0,A=1,N=2,W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ae.exports=function(f,x,O,$,L,J,Q,ie){var ve=ie.bits,le=0,be=0,c=0,ze=0,Le=0,xe=0,tt=0,Ge=0,Te=0,qe=0,ot,ft,De,at,Xe,Ue=null,$e=0,mt,Ke=new R.Buf16(o+1),P=new R.Buf16(o+1),G=null,u=0,ue,oe,pe;for(le=0;le<=o;le++)Ke[le]=0;for(be=0;be<$;be++)Ke[x[O+be]]++;for(Le=ve,ze=o;ze>=1&&Ke[ze]===0;ze--);if(Le>ze&&(Le=ze),ze===0)return L[J++]=1<<24|64<<16|0,L[J++]=1<<24|64<<16|0,ie.bits=1,0;for(c=1;c<ze&&Ke[c]===0;c++);for(Le<c&&(Le=c),Ge=1,le=1;le<=o;le++)if(Ge<<=1,Ge-=Ke[le],Ge<0)return-1;if(Ge>0&&(f===B||ze!==1))return-1;for(P[1]=0,le=1;le<o;le++)P[le+1]=P[le]+Ke[le];for(be=0;be<$;be++)x[O+be]!==0&&(Q[P[x[O+be]]++]=be);if(f===B?(Ue=G=Q,mt=19):f===A?(Ue=W,$e-=257,G=S,u-=257,mt=256):(Ue=V,G=H,mt=-1),qe=0,be=0,le=c,Xe=J,xe=Le,tt=0,De=-1,Te=1<<Le,at=Te-1,f===A&&Te>z||f===N&&Te>y)return 1;for(;;){ue=le-tt,Q[be]<mt?(oe=0,pe=Q[be]):Q[be]>mt?(oe=G[u+Q[be]],pe=Ue[$e+Q[be]]):(oe=96,pe=0),ot=1<<le-tt,ft=1<<xe,c=ft;do ft-=ot,L[Xe+(qe>>tt)+ft]=ue<<24|oe<<16|pe|0;while(ft!==0);for(ot=1<<le-1;qe&ot;)ot>>=1;if(ot!==0?(qe&=ot-1,qe+=ot):qe=0,be++,--Ke[le]===0){if(le===ze)break;le=x[O+Q[be]]}if(le>Le&&(qe&at)!==De){for(tt===0&&(tt=Le),Xe+=c,xe=le-tt,Ge=1<<xe;xe+tt<ze&&(Ge-=Ke[xe+tt],!(Ge<=0));)xe++,Ge<<=1;if(Te+=1<<xe,f===A&&Te>z||f===N&&Te>y)return 1;De=qe&at,L[De]=Le<<24|xe<<16|Xe-J|0}}return qe!==0&&(L[Xe+qe]=le-tt<<24|64<<16|0),ie.bits=Le,0}},{"../utils/common":41}],51:[function(Z,ae,j){"use strict";ae.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Z,ae,j){"use strict";var R=Z("../utils/common"),o=4,z=0,y=1,B=2;function A(b){for(var ce=b.length;--ce>=0;)b[ce]=0}var N=0,W=1,S=2,V=3,H=258,k=29,f=256,x=f+1+k,O=30,$=19,L=2*x+1,J=15,Q=16,ie=7,ve=256,le=16,be=17,c=18,ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Le=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ge=512,Te=new Array((x+2)*2);A(Te);var qe=new Array(O*2);A(qe);var ot=new Array(Ge);A(ot);var ft=new Array(H-V+1);A(ft);var De=new Array(k);A(De);var at=new Array(O);A(at);function Xe(b,ce,me,ke,F){this.static_tree=b,this.extra_bits=ce,this.extra_base=me,this.elems=ke,this.max_length=F,this.has_stree=b&&b.length}var Ue,$e,mt;function Ke(b,ce){this.dyn_tree=b,this.max_code=0,this.stat_desc=ce}function P(b){return b<256?ot[b]:ot[256+(b>>>7)]}function G(b,ce){b.pending_buf[b.pending++]=ce&255,b.pending_buf[b.pending++]=ce>>>8&255}function u(b,ce,me){b.bi_valid>Q-me?(b.bi_buf|=ce<<b.bi_valid&65535,G(b,b.bi_buf),b.bi_buf=ce>>Q-b.bi_valid,b.bi_valid+=me-Q):(b.bi_buf|=ce<<b.bi_valid&65535,b.bi_valid+=me)}function ue(b,ce,me){u(b,me[ce*2],me[ce*2+1])}function oe(b,ce){var me=0;do me|=b&1,b>>>=1,me<<=1;while(--ce>0);return me>>>1}function pe(b){b.bi_valid===16?(G(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)}function fe(b,ce){var me=ce.dyn_tree,ke=ce.max_code,F=ce.stat_desc.static_tree,ne=ce.stat_desc.has_stree,h=ce.stat_desc.extra_bits,he=ce.stat_desc.extra_base,Oe=ce.stat_desc.max_length,r,D,te,g,U,K,Ie=0;for(g=0;g<=J;g++)b.bl_count[g]=0;for(me[b.heap[b.heap_max]*2+1]=0,r=b.heap_max+1;r<L;r++)D=b.heap[r],g=me[me[D*2+1]*2+1]+1,g>Oe&&(g=Oe,Ie++),me[D*2+1]=g,!(D>ke)&&(b.bl_count[g]++,U=0,D>=he&&(U=h[D-he]),K=me[D*2],b.opt_len+=K*(g+U),ne&&(b.static_len+=K*(F[D*2+1]+U)));if(Ie!==0){do{for(g=Oe-1;b.bl_count[g]===0;)g--;b.bl_count[g]--,b.bl_count[g+1]+=2,b.bl_count[Oe]--,Ie-=2}while(Ie>0);for(g=Oe;g!==0;g--)for(D=b.bl_count[g];D!==0;)te=b.heap[--r],!(te>ke)&&(me[te*2+1]!==g&&(b.opt_len+=(g-me[te*2+1])*me[te*2],me[te*2+1]=g),D--)}}function ge(b,ce,me){var ke=new Array(J+1),F=0,ne,h;for(ne=1;ne<=J;ne++)ke[ne]=F=F+me[ne-1]<<1;for(h=0;h<=ce;h++){var he=b[h*2+1];he!==0&&(b[h*2]=oe(ke[he]++,he))}}function We(){var b,ce,me,ke,F,ne=new Array(J+1);for(me=0,ke=0;ke<k-1;ke++)for(De[ke]=me,b=0;b<1<<ze[ke];b++)ft[me++]=ke;for(ft[me-1]=ke,F=0,ke=0;ke<16;ke++)for(at[ke]=F,b=0;b<1<<Le[ke];b++)ot[F++]=ke;for(F>>=7;ke<O;ke++)for(at[ke]=F<<7,b=0;b<1<<Le[ke]-7;b++)ot[256+F++]=ke;for(ce=0;ce<=J;ce++)ne[ce]=0;for(b=0;b<=143;)Te[b*2+1]=8,b++,ne[8]++;for(;b<=255;)Te[b*2+1]=9,b++,ne[9]++;for(;b<=279;)Te[b*2+1]=7,b++,ne[7]++;for(;b<=287;)Te[b*2+1]=8,b++,ne[8]++;for(ge(Te,x+1,ne),b=0;b<O;b++)qe[b*2+1]=5,qe[b*2]=oe(b,5);Ue=new Xe(Te,ze,f+1,x,J),$e=new Xe(qe,Le,0,O,J),mt=new Xe(new Array(0),xe,0,$,ie)}function it(b){var ce;for(ce=0;ce<x;ce++)b.dyn_ltree[ce*2]=0;for(ce=0;ce<O;ce++)b.dyn_dtree[ce*2]=0;for(ce=0;ce<$;ce++)b.bl_tree[ce*2]=0;b.dyn_ltree[ve*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function rt(b){b.bi_valid>8?G(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function nt(b,ce,me,ke){rt(b),ke&&(G(b,me),G(b,~me)),R.arraySet(b.pending_buf,b.window,ce,me,b.pending),b.pending+=me}function dt(b,ce,me,ke){var F=ce*2,ne=me*2;return b[F]<b[ne]||b[F]===b[ne]&&ke[ce]<=ke[me]}function Je(b,ce,me){for(var ke=b.heap[me],F=me<<1;F<=b.heap_len&&(F<b.heap_len&&dt(ce,b.heap[F+1],b.heap[F],b.depth)&&F++,!dt(ce,ke,b.heap[F],b.depth));)b.heap[me]=b.heap[F],me=F,F<<=1;b.heap[me]=ke}function Ne(b,ce,me){var ke,F,ne=0,h,he;if(b.last_lit!==0)do ke=b.pending_buf[b.d_buf+ne*2]<<8|b.pending_buf[b.d_buf+ne*2+1],F=b.pending_buf[b.l_buf+ne],ne++,ke===0?ue(b,F,ce):(h=ft[F],ue(b,h+f+1,ce),he=ze[h],he!==0&&(F-=De[h],u(b,F,he)),ke--,h=P(ke),ue(b,h,me),he=Le[h],he!==0&&(ke-=at[h],u(b,ke,he)));while(ne<b.last_lit);ue(b,ve,ce)}function lt(b,ce){var me=ce.dyn_tree,ke=ce.stat_desc.static_tree,F=ce.stat_desc.has_stree,ne=ce.stat_desc.elems,h,he,Oe=-1,r;for(b.heap_len=0,b.heap_max=L,h=0;h<ne;h++)me[h*2]!==0?(b.heap[++b.heap_len]=Oe=h,b.depth[h]=0):me[h*2+1]=0;for(;b.heap_len<2;)r=b.heap[++b.heap_len]=Oe<2?++Oe:0,me[r*2]=1,b.depth[r]=0,b.opt_len--,F&&(b.static_len-=ke[r*2+1]);for(ce.max_code=Oe,h=b.heap_len>>1;h>=1;h--)Je(b,me,h);r=ne;do h=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Je(b,me,1),he=b.heap[1],b.heap[--b.heap_max]=h,b.heap[--b.heap_max]=he,me[r*2]=me[h*2]+me[he*2],b.depth[r]=(b.depth[h]>=b.depth[he]?b.depth[h]:b.depth[he])+1,me[h*2+1]=me[he*2+1]=r,b.heap[1]=r++,Je(b,me,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],fe(b,ce),ge(me,Oe,b.bl_count)}function Ct(b,ce,me){var ke,F=-1,ne,h=ce[1],he=0,Oe=7,r=4;for(h===0&&(Oe=138,r=3),ce[(me+1)*2+1]=65535,ke=0;ke<=me;ke++)ne=h,h=ce[(ke+1)*2+1],!(++he<Oe&&ne===h)&&(he<r?b.bl_tree[ne*2]+=he:ne!==0?(ne!==F&&b.bl_tree[ne*2]++,b.bl_tree[le*2]++):he<=10?b.bl_tree[be*2]++:b.bl_tree[c*2]++,he=0,F=ne,h===0?(Oe=138,r=3):ne===h?(Oe=6,r=3):(Oe=7,r=4))}function Rt(b,ce,me){var ke,F=-1,ne,h=ce[1],he=0,Oe=7,r=4;for(h===0&&(Oe=138,r=3),ke=0;ke<=me;ke++)if(ne=h,h=ce[(ke+1)*2+1],!(++he<Oe&&ne===h)){if(he<r)do ue(b,ne,b.bl_tree);while(--he!==0);else ne!==0?(ne!==F&&(ue(b,ne,b.bl_tree),he--),ue(b,le,b.bl_tree),u(b,he-3,2)):he<=10?(ue(b,be,b.bl_tree),u(b,he-3,3)):(ue(b,c,b.bl_tree),u(b,he-11,7));he=0,F=ne,h===0?(Oe=138,r=3):ne===h?(Oe=6,r=3):(Oe=7,r=4)}}function At(b){var ce;for(Ct(b,b.dyn_ltree,b.l_desc.max_code),Ct(b,b.dyn_dtree,b.d_desc.max_code),lt(b,b.bl_desc),ce=$-1;ce>=3&&b.bl_tree[tt[ce]*2+1]===0;ce--);return b.opt_len+=3*(ce+1)+5+5+4,ce}function kt(b,ce,me,ke){var F;for(u(b,ce-257,5),u(b,me-1,5),u(b,ke-4,4),F=0;F<ke;F++)u(b,b.bl_tree[tt[F]*2+1],3);Rt(b,b.dyn_ltree,ce-1),Rt(b,b.dyn_dtree,me-1)}function Gt(b){var ce=4093624447,me;for(me=0;me<=31;me++,ce>>>=1)if(ce&1&&b.dyn_ltree[me*2]!==0)return z;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return y;for(me=32;me<f;me++)if(b.dyn_ltree[me*2]!==0)return y;return z}var Ut=!1;function Tt(b){Ut||(We(),Ut=!0),b.l_desc=new Ke(b.dyn_ltree,Ue),b.d_desc=new Ke(b.dyn_dtree,$e),b.bl_desc=new Ke(b.bl_tree,mt),b.bi_buf=0,b.bi_valid=0,it(b)}function Wt(b,ce,me,ke){u(b,(N<<1)+(ke?1:0),3),nt(b,ce,me,!0)}function Et(b){u(b,W<<1,3),ue(b,ve,Te),pe(b)}function Bt(b,ce,me,ke){var F,ne,h=0;b.level>0?(b.strm.data_type===B&&(b.strm.data_type=Gt(b)),lt(b,b.l_desc),lt(b,b.d_desc),h=At(b),F=b.opt_len+3+7>>>3,ne=b.static_len+3+7>>>3,ne<=F&&(F=ne)):F=ne=me+5,me+4<=F&&ce!==-1?Wt(b,ce,me,ke):b.strategy===o||ne===F?(u(b,(W<<1)+(ke?1:0),3),Ne(b,Te,qe)):(u(b,(S<<1)+(ke?1:0),3),kt(b,b.l_desc.max_code+1,b.d_desc.max_code+1,h+1),Ne(b,b.dyn_ltree,b.dyn_dtree)),it(b),ke&&rt(b)}function Ht(b,ce,me){return b.pending_buf[b.d_buf+b.last_lit*2]=ce>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=ce&255,b.pending_buf[b.l_buf+b.last_lit]=me&255,b.last_lit++,ce===0?b.dyn_ltree[me*2]++:(b.matches++,ce--,b.dyn_ltree[(ft[me]+f+1)*2]++,b.dyn_dtree[P(ce)*2]++),b.last_lit===b.lit_bufsize-1}j._tr_init=Tt,j._tr_stored_block=Wt,j._tr_flush_block=Bt,j._tr_tally=Ht,j._tr_align=Et},{"../utils/common":41}],53:[function(Z,ae,j){"use strict";function R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ae.exports=R},{}],54:[function(Z,ae,j){"use strict";ae.exports=typeof setImmediate=="function"?setImmediate:function(){var o=[].slice.apply(arguments);o.splice(1,0,0),setTimeout.apply(null,o)}},{}]},{},[10])(10)}),(function(ut,Ze){typeof exports=="object"&&typeof module<"u"?module.exports=Ze():typeof define=="function"&&define.amd?define(Ze):ut.Bricks=Ze()})(this,(function(){"use strict";var ut=Object.assign||function(Z){for(var ae=1;ae<arguments.length;ae++){var j=arguments[ae];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(Z[R]=j[R])}return Z},Ze=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=Object.create(null);function R(B,A){return j[B]=j[B]||[],j[B].push(A),this}function o(B,A){return A._once=!0,R(B,A),this}function z(B){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A?j[B].splice(j[B].indexOf(A),1):delete j[B],this}function y(B){for(var A=this,N=arguments.length,W=Array(N>1?N-1:0),S=1;S<N;S++)W[S-1]=arguments[S];var V=j[B]&&j[B].slice();return V&&V.forEach(function(H){H._once&&z(B,H),H.apply(A,W)}),this}return ut({},ae,{on:R,once:o,off:z,emit:y})},ct=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=void 0,R=void 0,o=void 0,z=void 0,y=void 0,B=void 0,A=void 0,N=void 0,W=void 0,S=void 0,V=void 0,H=void 0,k=void 0,f=ae.packed.indexOf("data-")===0?ae.packed:"data-"+ae.packed,x=ae.sizes.slice().reverse(),O=ae.position!==!1,$=ae.container.nodeType?ae.container:document.querySelector(ae.container),L={all:function(){return le($.children)},new:function(){return le($.children).filter(function($e){return!$e.hasAttribute(""+f)})}},J=[ze,Le,xe],Q=[tt,Ge,Te,qe],ie=Ze({pack:De,update:at,resize:Xe});return ie;function ve(Ue){Ue.forEach(function($e){return $e()})}function le(Ue){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return Array.prototype.slice.call(Ue)}function be(Ue){return Array.apply(null,Array(Ue)).map(function(){return 0})}function c(){return x.map(function(Ue){return Ue.mq&&window.matchMedia("(min-width: "+Ue.mq+")").matches}).indexOf(!0)}function ze(){o=c()}function Le(){z=o===-1?x[x.length-1]:x[o]}function xe(){B=be(z.columns)}function tt(){V=L[j?"new":"all"]()}function Ge(){V.length!==0&&(H=V.map(function(Ue){return Ue.clientWidth}),k=V.map(function(Ue){return Ue.clientHeight}))}function Te(){V.forEach(function(Ue,$e){y=B.indexOf(Math.min.apply(Math,B)),Ue.style.position="absolute",A=B[y]+"px",N=y*H[$e]+y*z.gutter+"px",O?(Ue.style.top=A,Ue.style.left=N):Ue.style.transform="translate3d("+N+", "+A+", 0)",Ue.setAttribute(f,""),W=H[$e],S=k[$e],W&&S&&(B[y]+=S+z.gutter)})}function qe(){$.style.position="relative",$.style.width=z.columns*W+(z.columns-1)*z.gutter+"px",$.style.height=Math.max.apply(Math,B)-z.gutter+"px"}function ot(){R||(window.requestAnimationFrame(ft),R=!0)}function ft(){o!==c()&&(De(),ie.emit("resize",z)),R=!1}function De(){return j=!1,ve(J.concat(Q)),ie.emit("pack")}function at(){return j=!0,ve(Q),ie.emit("update")}function Xe(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,$e=Ue?"addEventListener":"removeEventListener";return window[$e]("resize",ot),ie}};return ct}));var floatBar;(function(ut,Ze,ct,Z){"use strict";var ae,j;function R(){let P=at.getItem("customLang")||"auto";P=="auto"?j=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage:j=P,setLang(j)}function o(P,G){var u=i18nData[P],ue;if(G)for(typeof G!="object"&&(G=[G]),ue=0;ue<G.length;ue++)u=u.replace("#t#",G[ue]);return u||P}var z=`Google | https://www.google.com/searchbyimage?safe=off&sbisrc=1&image_url=#t#
Yandex | https://yandex.com/images/search?source=collections&rpt=imageview&url=#t#
SauceNAO | https://saucenao.com/search.php?db=999&url=#t#
IQDB | https://iqdb.org/?url=#t#
3D IQDB | https://3d.iqdb.org/?url=#t#
Baidu | https://graph.baidu.com/details?isfromtusoupc=1&tn=pc&carousel=0&promotion_name=pc_image_shituindex&extUiData%5bisLogoShow%5d=1&image=#t#
Bing | https://www.bing.com/images/search?view=detailv2&iss=sbi&form=SBIVSP&sbisrc=UrlPaste&q=imgurl:#t#
TinEye | https://www.tineye.com/search?url=#t#
Sogou | https://pic.sogou.com/ris?query=#t#
360 | http://st.so.com/stu?imgurl=#t#
Ascii2D | https://ascii2d.net/search/url/#t#
Trace Moe | https://trace.moe/?url=#t#
KarmaDecay | http://karmadecay.com/#t#
QRCode | https://hoothin.com/qrcode/##t#
QRdecode1 | https://zxing.org/w/decode?full=true&u=#t#
QRdecode2 | https://hoothin.com/qrdecode/##t#
ImgOps | https://imgops.com/#b#`,y,B,A,N,W,S,V;typeof GM_openInTab<"u"?y=GM_openInTab:typeof GM<"u"&&typeof GM.openInTab<"u"?y=GM.openInTab:y=(P,G)=>{Ze.open(P)},typeof GM_setClipboard<"u"?B=GM_setClipboard:typeof GM<"u"&&typeof GM.setClipboard<"u"?B=GM.setClipboard:B=P=>{},typeof GM_registerMenuCommand<"u"?N=GM_registerMenuCommand:typeof GM<"u"&&typeof GM.registerMenuCommand<"u"?N=GM.registerMenuCommand:N=(P,G)=>{},typeof GM_notification<"u"?W=GM_notification:typeof GM<"u"&&typeof GM.notification<"u"?W=GM.notification:W=P=>{alert(P)},typeof GM_xmlhttpRequest<"u"?(A=GM_xmlhttpRequest,S=!0):typeof GM<"u"&&typeof GM.xmlHttpRequest<"u"?(A=GM.xmlHttpRequest,S=!0):A=P=>{fetch(P.url,P.method&&P.method!=="GET"?{method:P.method||"GET",body:P.data||"",headers:P.headers}:{method:"GET",headers:P.headers}).then(G=>G.text()).then(G=>{P.onload({response:G})}).catch(G=>P.onerror())},typeof GM_addStyle<"u"?V=GM_addStyle:typeof GM<"u"&&typeof GM.addStyle<"u"?V=GM.addStyle:V=P=>{let G=ct.createElement("style");return G.innerHTML=P,ct.head.appendChild(G),G},S?S=async(P,G)=>P?new Promise((u,ue)=>{let oe=G&&/^post$/i.test(G.method);A({method:G&&G.method||"GET",url:P.trim(),data:G&&G.body||"",cookie:le,headers:G&&G.headers||{referer:P,origin:P,"Content-Type":oe?"application/x-www-form-urlencoded":"text/html","X-Requested-With":oe?"XMLHttpRequest":""},onload:function(pe){let fe=pe.response;(pe.status>=400||!fe)&&(fe=""),u({text:()=>new Promise(it=>{it(fe)}),json:()=>new Promise(it=>{try{it(JSON.parse(fe))}catch{it(null)}}),finalUrl:pe.finalUrl||P})},onerror:function(pe){ae(pe),ue(pe)},ontimeout:function(pe){ae(pe),ue(pe)}})}):null:S=fetch;var H=ct.createElement("CANVAS");ct.body&&(H.style&&(H.style.display="none"),ct.body.appendChild(H),typeof H.getContext>"u"?(ct.body.removeChild(H),H=null):ct.body.removeChild(H));var k=new Map;function f(P,G,u){if(!G||!H)return!1;let ue=Math.min(P.clientWidth||P.offsetWidth,P.clientHeight||P.offsetHeight);if(!ue)return!1;H.width=ue,H.height=ue;var oe=H.getContext("2d");oe.clearRect(0,0,H.width,H.height),oe.font=u.font||u.fontSize+" "+u.fontFamily,oe.strokeStyle=u.color||"black",oe.fillStyle=u.color||"black",oe.textBaseline="top";let pe=oe.measureText(G);return oe.fillText(G,(H.width-pe.width)/2,(H.height-parseInt(u.fontSize))/2),H.toDataURL("image/png")}function x(P,G,u,ue){u=parseInt(u||0),G&&(G=G.split(`
`)[0].replace(/.*?\/\/[^\/]+\//,"").replace(/\?.*/,"").replace(/^data:.*/,"")),(!P.replace||P.indexOf("data:")===0)&&(P=""),P=P.replace(/.*?\/\/[^\/]+\//,"");let oe=P.match(/.*?([^\/\?\=\&]+)\.\w{2,5}(\?|@|$).*/,"$1");if(oe=oe?oe[1]:"",/\=&/.test(oe))oe="";else try{oe=decodeURIComponent(oe)}catch{}let pe;switch(ue&&/^\w{2,5}$/.test(ue)?pe="."+ue:(pe=P.match(/(\.\w{2,5})(\?|@|$)/),pe&&(pe=pe[1])),u){case 1:G=(G||oe||"image").substr(-200);break;case 2:G=(oe||P||"image").substr(-200);break;case 3:oe&&!G?G=oe.substr(-200):oe&&G?G=oe.substr(-200)+" - "+G.substr(-200):!oe&&!G&&(G="image");break;default:G=(oe||G||"image").substr(-200);break}return G.replace(/.*?\/([^\/\?]+?)(\?|@|$).*/,"$1").replace(/[\*\/:<>\?\\\|]/g,"").replace(/\.\w{2,5}$/,"").trim()+(pe||".png")}function O(P,G,u){if(!P)return"";G||(G=location.href);let ue=G.match(/^https?:/);ue=ue?ue[0]:location.protocol;let oe=G.match(/^https?:\/\/([^\/]+)/);if(oe=oe?oe[1]:location.host,P.charAt(0)==="#")return G+P;if(P.charAt(0)==="?")return G.replace(/^([^\?#]+).*/,"$1"+P);let pe=ue+"//"+oe,fe=u||G;fe=fe.replace(/(\?|#).*/,""),/https?:\/\/[^\/]+$/.test(fe)&&(fe=fe+"/"),fe.indexOf("http")!==0&&(fe=pe+fe);for(var ge=/^[^\?#]*\//.exec(fe)[0],We=/^\w+\:\/\/\/?[^\/]+/.exec(ge)[0],it=/^\w+\:\/\//;P.indexOf("../")===0;)P=P.substr(3),ge=ge.replace(/\/[^\/]+\/$/,"/");return P=P.replace(/\.\//,""),/^\/\/\/?/.test(P)&&(P=ue+P),it.test(P)?P:(P.charAt(0)==="/"?We:ge)+P}var $=typeof GM_download>"u"?(P,G,u)=>{P=O(P),be(P,(ue,oe)=>{if(ue)try{saveAs(ue,ct.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - "+x(P,G,u,oe))}catch(pe){console.log(pe)}})}:(P,G,u)=>{P=O(P),G=ct.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - "+x(P,G,u);let ue=["",""];P.split&&(ue=P.split("/")),GM_download({url:P,name:G,headers:[{origin:ue[0]+"//"+ue[2],referer:P,accept:"*/*"}],onerror:oe=>{console.log(oe)},ontimeout:oe=>{console.log(oe)}})};function L(P,G){if(!P)return G(null);var u=H.getContext("2d"),ue=new Image;ue.setAttribute("crossOrigin","anonymous"),ue.onload=function(){H.width=ue.width,H.height=ue.height,u.clearRect(0,0,H.width,H.height),u.drawImage(ue,0,0),G(H)},ue.onerror=function(){G(null)},ue.src=P}function J(P,G){fetch(P).then(u=>u.blob()).then(u=>G(u)).catch(u=>{G(null)})}function Q(){return Ze.videoJsStatus||(Ze.videoJsStatus="none"),new Promise((P,G)=>{if(Ze.videoJsStatus==="loaded")return P();if(Ze.videoJsStatus==="loading"){const ge=setInterval(()=>{Ze.videoJsStatus==="loaded"?(clearInterval(ge),P()):Ze.videoJsStatus==="failed"&&(clearInterval(ge),G(new Error("Previous Video.js loading attempt failed.")))},100);return}Ze.videoJsStatus="loading";const u=["https://vjs.zencdn.net/8.23.3/video-js.min.css","https://unpkg.com/video.js/dist/video-js.min.css","https://cdn.jsdelivr.net/npm/video.js@8.23.3/dist/video-js.min.css"],ue=["https://vjs.zencdn.net/8.23.3/video.min.js","https://unpkg.com/video.js/dist/video.min.js","https://cdn.jsdelivr.net/npm/video.js@8.23.3/dist/video.min.js"],oe=ge=>new Promise((We,it)=>{let rt=null;const nt=[...ge],dt=()=>{if(nt.length===0){it(new Error(`Failed to load resource after trying all sources. Last error: ${rt}`));return}const Je=nt.shift(),Ne=new XMLHttpRequest;Ne.open("GET",Je),Ne.onload=()=>{Ne.status===200?We(Ne.responseText):(rt=`Status ${Ne.status} from ${Je}`,console.warn(`Failed to load ${Je}, trying next source...`),dt())},Ne.onerror=()=>{rt=`Network error from ${Je}`,console.warn(`Failed to load ${Je}, trying next source...`),dt()},Ne.send()};dt()}),pe=oe(u).then(ge=>{const We=ct.createElement("style");We.textContent=ge,We.id="imagus-videojs-styles",ct.head.appendChild(We)}),fe=oe(ue).then(ge=>{Function(ge)()});Promise.all([pe,fe]).then(()=>{Ze.videoJsStatus="loaded",console.timeEnd("Load Video.js"),P()}).catch(ge=>{Ze.videoJsStatus="failed",console.error("Failed to load Video.js from all available sources.",ge),G(ge)})})}async function ie(P,G){await Q();const u={autoplay:!0};P.className="video-js vjs-default-skin vjs-fluid",P.width=1920,P.height=1080;const ue=videojs(P,u);ue.on("loadedmetadata",function(){const oe=ue.tech({IWillNotUseThisInPlugins:!0}).vhs;if(!oe){console.warn("VHS engine not found.");return}const pe=oe.representations();if(!pe||pe.length===0)return;let fe=0,ge=null;for(let rt=0;rt<pe.length;rt++){const nt=pe[rt];nt.bandwidth>fe&&(fe=nt.bandwidth,ge=nt)}ge&&pe.forEach(rt=>{rt.enabled(rt.id===ge.id)});const We=ge?ge.width:ue.videoWidth(),it=ge?ge.height:ue.videoHeight();this.addClass("vjs-has-started"),P.naturalWidth=We,P.naturalHeight=it,P.onload()}),ue.src({src:G,fluid:!0,type:"application/x-mpegURL"})}function ve(P){let G=P+"=";var u=ct.cookie.split(";");for(let ue=0;ue<u.length;ue++){let oe=u[ue];for(;oe.charAt(0)==" ";)oe=oe.substring(1);if(oe.indexOf(G)==0)return oe.substring(G.length,oe.length)}return""}var le;function be(P,G,u,ue=0){if(ue++,ue>3)return G(null,"");A({method:"GET",url:P.trim(),responseType:"blob",timeout:2e4,headers:{origin:location.origin,referer:location.href,accept:"*/*"},cookie:le,onload:function(oe){let pe=oe.response;if(!pe.type)return be(P,G,u,ue);let fe=pe.type.replace(/.*image\/([\w\-]+).*/,"$1");if(fe==="text/html"&&(pe.size||0)<1e3)return G(null,"");let ge=k.get(fe);if(H&&(ge||u)){var We=this,it=new FileReader;it.readAsDataURL(pe),it.onload=function(rt){L(rt.target.result,nt=>{nt.toBlob(dt=>{dt?G(dt,ge||"png"):G(pe,fe||"png")},"image/"+(ge||"png"))})},it.onerror=function(rt){be(P,G,u,ue)}}else!pe||!pe.size?be(P,G,u,ue):G(pe,fe)},onerror:function(){be(P,G,u,ue)},ontimeout:function(){be(P,G,u,ue)}})}var c,ze;Z.trustedTypes&&Z.trustedTypes.createPolicy&&(ze=Z.trustedTypes.createPolicy("pvcep_default",{createHTML:(P,G)=>P,createScriptURL:P=>P,createScript:P=>P}));function Le(P){return P.body||P.querySelector("body")||P}function xe(P){return ze?ze.createHTML(P):P}function tt(P){return ze?ze.createScriptURL(P):P}function Ge(P){return ze?ze.createScript(P):P}async function Te(P,G,u,ue,oe,pe,fe){c={floatBar:{butonOrder:["actual","current","gallery","magnifier","download"],additionalFeature:"open",invertAdditionalFeature:!1,listenBg:!0,showDelay:100,hideDelay:566,position:"top left",stayOut:!1,stayOutOffsetX:0,stayOutOffsetY:0,download2copy:!1,offset:{x:-15,y:-15},forceShow:{enabled:!0,size:{w:100,h:100}},showWithRules:!0,minSizeLimit:{w:50,h:50},sizeLimitOr:!1,keys:{enable:!1,actual:"a",search:"s",current:"c",magnifier:"m",gallery:"g",download:"d"},globalkeys:{invertInitShow:!1,ctrl:!0,alt:!1,shift:!1,command:!1,type:"hold",closeAfterPreview:!0,previewFollowMouse:!0}},magnifier:{radius:77,wheelZoom:{enabled:!0,pauseFirst:!0,scaleImage:!0,ctrl:!1,alt:!1,shift:!1,meta:!1,range:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,1.9,2,2.5,3,4,5,6,7,8,9]}},gallery:{loadMore:!1,loadAll:!0,viewmoreEndless:!0,fitToScreen:!0,fitToScreenSmall:!1,scrollEndToChange:!0,exportType:"grid",sidebarPosition:"bottom",sidebarSize:120,backgroundColor:"rgba(20,20,20,0.75)",formatConversion:"webp>png",aria2Host:"http://localhost:6800",aria2Token:"",sidebarToggle:!0,transition:!0,preload:!0,max:3,zoomresized:25,scaleSmallSize:250,showSmallSize:!0,disableArrow:!1,scrollEndAndLoad:!1,scrollEndAndLoad_num:3,autoZoom:!1,descriptionLength:32,editSite:"",defaultSizeLimit:{w:80,h:80},searchData:z,downloadWithZip:!0,autoOpenViewmore:!1,downloadGap:100},imgWindow:{suitLongImg:!0,fitToScreen:!0,fitToScreenSmall:!1,syncSelectedTool:!0,defaultTool:"hand",close:{escKey:!0,dblClickImgWindow:!0,clickOutside:""},overlayer:{shown:!1,color:"rgba(200,200,200,0.3)"},switchStoreLoc:!1,backgroundColor:"rgba(40,40,40,0.8)",shiftRotateStep:15,zoom:{range:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,1.9,2,2.5,3,4,5,6,7,8,9],mouseWheelZoom:!0},zIndex:2147483646,fixed:!1},waitImgLoad:!1,framesPicOpenInTopWindow:!0,debug:!1,customLang:"auto",customRules:`[
    {
        "name": "Example, can be deleted safely",
        "url": "^https://xxx\\\\.com",
        "src": "/avatar/i",
        "r": "/\\\\?.*$/i",
        "s": ""
    }
]`,firstEngine:"Tineye"};var ge,We=location.href.length>510?location.href.slice(0,500)+location.href.slice(-10):location.href.slice(0,500);const it=["data-lazy-src","org_src","data-lazy","data-url","data-orig-file","zoomfile","file","original","load-src","imgsrc","real_src","src2","origin-src","data-lazyload","data-lazyload-src","data-lazy-load-src","data-ks-lazyload","data-ks-lazyload-custom","data-defer-src","data-actualsrc","data-original","data-origin-src","data-imageurl","lazysrc","data-src","data-preview","data-cover","data-page-image-url","data-thumb","data-placeholder"];var rt=[function(e){this.currentSrc&&!this.src&&(this.src=this.currentSrc);var t=this.currentSrc||this.src,i=null;if(ge.lazyAttr)i=this.getAttribute(ge.lazyAttr);else if(this.getAttribute("_src")&&!this.src)i=this.getAttribute("_src");else for(let s in it){let n=it[s],d=this.getAttribute(n);if(!/\bimagecover\.\w+$/i.test(d)&&d){i=d;break}}if(!i&&this._lazyrias&&this._lazyrias.srcset&&(i=this._lazyrias.srcset[this._lazyrias.srcset.length-1]),!i){if(this.srcset){var a=this.srcset.split(/[xw],\s*/i),l=-1;a.forEach(s=>{let n=s.trim().split(/\s+/),d=parseInt(n[1]||0);(n[1]||!t)&&d>l&&(l=d,i=n[0])})}}return t!=O(i)?i:null}];const nt=/^\s*(http|ftp).*\.(avi|avif|avifs|bmp|gif|gifv|ico|jfif|jpe|jpeg|jpg|jif|jfi|a?png|svgz?|webp|xbm|dib|divx|3gpp|m3u|m4v|mkv|mp4|mpe?g|ogv|webm|flv|flac|m4a|m4b|mpa|mp3|aac|cda|oga|ogg|opus|wma|wav)(&|\?|#|\/?$|\s)/i,dt=["greasyfork.org","github.com","reddit.com"],Je=/greasyfork\.org\/.*scripts\/24204(\-[^\/]*)?(\/discussions|\/?$|\/feedback)|github\.com\/hoothin\/UserScripts\/(tree\/master\/Picviewer%20CE%2B|issues|discussions)|\.reddit\.com\/r\/PicviewerCE/i;c.icons={actual:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAV1BMVEUAAAD////29vbKysoqKioiIiKysrKhoaGTk5N9fX3z8/Pv7+/r6+vk5OTb29vOzs6Ojo5UVFQzMzMZGRkREREMDAy4uLisrKylpaV4eHhkZGRPT08/Pz/IfxjQAAAAgklEQVQoz53RRw7DIBBAUb5pxr2m3/+ckfDImwyJlL9DDzQgDIUMRu1vWOxTBdeM+onApENF0qHjpkOk2VTwLVEF40Kbfj1wK8AVu2pQA1aBBYDHJ1wy9Cf4cXD5chzNAvsAnc8TjoLAhIzsBao9w1rlVTIvkOYMd9nm6xPi168t9AYkbANdajpjcwAAAABJRU5ErkJggg==",current:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAQlBMVEUAAAD///+Tk5P39/fz8/POzs5UVFQpKSnb29vJycmxsbGwsLCmpqafn5+NjY1+fn58fHx4eHg/Pz8hISEZGRkNDQ1kumAIAAAAY0lEQVQoz63RWwqAIBBAUW+l9n63/62WVGDiREX3x4+DIjMKIYWK9hUIOiG89QwyLQCtBLUEmQC27N796iiBIgoAAeh8Oy2AucACk3sJqHyYU6AfwWU8GADSZIeGu7H/u1qhFbaeAcJXcp5yAAAAAElFTkSuQmCC",magnifier:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAUVBMVEUAAAD///86OjohISGcnJxYWFinp6djY2Pc3NywsLBPT09DQ0MVFRW8vLz8/PyoqKh5eXm2trb39/fw8PDZ2dnV1dXKysqTk5MLCwvl5eUpKSkk6YqhAAAAsElEQVQoz4XQ1w7DIAxAUZsZVvZq//9DCyTIpG3a+xApPkIMwJsA4WsneK2atlHav4EzQnLgUhh3ARfs+WuDq8Aby0r9MmHsAC2AQUno+DlByQxdBqkIGp6ADRl4Q9BChC4MXV7T/llBe7BAe1xOtT85nYruAWfWeAJwoS/zdcaVANxS3mpO1yaASatHel2GMVkBwo7IAbYEpgY/xknPMGcr6NNg3A4QFVwr8NlvuOkFpbsFbrIaILIAAAAASUVORK5CYII=",gallery:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAP1BMVEUAAAD///94eHgZGRn39/fz8/POzs6xsbGSkpJ9fX1UVFQpKSnb29vJycmmpqafn5+UlJSNjY0/Pz8hISENDQ2fWpEMAAAAcUlEQVQoz43SWQrEIBRE0Xe7M8/T/tcaNSKCKUh95nCDiIaYYa9zUDQRiiaCalANqkE0n6BuBLArWBTUAsa2/3yqfwYdzAl+GeCWAN9YM7nvo4chgoXmgjP8CdoEvqmA/oCQRHgat2p7YM2gvHb9GMRu7acCGLmlyNoAAAAASUVORK5CYII=",search:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAXVBMVEUAAAD///+MjIwmJibNzc2UlJTd3d2lpaUKCgrT09O/v78YGBjj4+MvLy8PDw/IyMh5eXn5+fn29vby8vLo6OjDw8O7u7u3t7ewsLCcnJx1dXVubm4+Pj43NzdkZGStc/JSAAAA4ElEQVQoz52RWW7DMAxE9bR635fYcXr/Y5aW7TYIGqDI/EjUAzRDUvFGCvWn/gHMOnmfNeYFJLonqnPVM8hrIA3B7of5BXkK47bXWwbe/ACp3OWqwSYnaI73+zStSST6AKYjE/sbQCZkpi0j0HSlUl/gPdwleM8SgSfIRzd8laRkcl0oIihYIkiVqhnl6hgicPRGrMHW0Ej4gXCYt8xiPoIw6TtANL8CVtpanSu1xvARJHYnpxpIq6tzU8D8UKIywHCNZCcpUDuXteDL57HngVMhf1nUQ9uisG47y492/kbfyJQHZ5yu1AMAAAAASUVORK5CYII=",download:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAASFBMVEUAAAD///86Ojq8vLxXV1ciIiKcnJympqZjY2MxMTHc3NywsLBDQ0NPT08VFRV5eXn39/fw8PDZ2dnV1dXKysqUlJTl5eUNDQ1EnTQhAAAAtUlEQVQoz33QWRKDIBAE0Gl2AXFP7n/TDKIEk5j+wKp+ZQ0D4SYE+pkDkrMe3rr0ATEYpUkrE+IFouyppJexgRR6IQQAPodlAqeAMyRoByIyjo8DrGpA2Td43YD2FfJHokR2hOsf8uy1v87oZOnrjHorFu7rreoexKLzhiFlqJsPxJL7dcZagWU532oG0ABNzj7y6wpwVAOgJ8AztgyhhTRyM0TsUQ0MuRi3AqaBayp85T/c5AVMKwUv6mnXTQAAAABJRU5ErkJggg==",downloadSvgBtn:'<svg class="pv-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>Download</title><path d="M768 768q0-14.857143-10.857143-25.714286t-25.714286-10.857143-25.714285 10.857143-10.857143 25.714286 10.857143 25.714286 25.714285 10.857143 25.714286-10.857143 10.857143-25.714286z m146.285714 0q0-14.857143-10.857143-25.714286t-25.714285-10.857143-25.714286 10.857143-10.857143 25.714286 10.857143 25.714286 25.714286 10.857143 25.714285-10.857143 10.857143-25.714286z m73.142857-128v182.857143q0 22.857143-16 38.857143t-38.857142 16H91.428571q-22.857143 0-38.857142-16t-16-38.857143v-182.857143q0-22.857143 16-38.857143t38.857142-16h265.714286l77.142857 77.714286q33.142857 32 77.714286 32t77.714286-32l77.714285-77.714286h265.142858q22.857143 0 38.857142 16t16 38.857143z m-185.714285-325.142857q9.714286 23.428571-8 40l-256 256q-10.285714 10.857143-25.714286 10.857143t-25.714286-10.857143L230.285714 354.857143q-17.714286-16.571429-8-40 9.714286-22.285714 33.714286-22.285714h146.285714V36.571429q0-14.857143 10.857143-25.714286t25.714286-10.857143h146.285714q14.857143 0 25.714286 10.857143t10.857143 25.714286v256h146.285714q24 0 33.714286 22.285714z"></path></svg>',video:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+PHBhdGggZD0iTTUxMiA2NEMyNjUuNiA2NCA2NCAyNjUuNiA2NCA1MTJzMjAxLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMS42IDQ0OC00NDhTNzU4LjQgNjQgNTEyIDY0ek02OTEuMiA1NDRsLTI1NiAxNTYuOEM0MjguOCA3MDQgNDIyLjQgNzA0IDQxNiA3MDRjLTYuNCAwLTkuNiAwLTE2LTMuMkMzOTAuNCA2OTQuNCAzODQgNjg0LjggMzg0IDY3MkwzODQgMzUyYzAtMTIuOCA2LjQtMjIuNCAxNi0yOC44IDkuNi02LjQgMjIuNC02LjQgMzIgMGwyNTYgMTY2LjRjOS42IDYuNCAxNiAxNiAxNiAyOC44QzcwNCA1MjggNzAwLjggNTQwLjggNjkxLjIgNTQ0eiIgZmlsbD0id2hpdGUiLz48L3N2Zz4=",audio:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc2OCA5MzguNjY2NjY3SDI1NmE4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAxLTg1LjMzMzMzMy04NS4zMzMzMzRWMTcwLjY2NjY2N2E4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAxIDg1LjMzMzMzMy04NS4zMzMzMzRoNDIuNjY2NjY3djI5OC42NjY2NjdsMTA2LjY2NjY2Ni02NEw1MTIgMzg0Vjg1LjMzMzMzM2gyNTZhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMSA4NS4zMzMzMzMgODUuMzMzMzM0djY4Mi42NjY2NjZhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMS04NS4zMzMzMzMgODUuMzMzMzM0bS0yMTMuMzMzMzMzLTI5OC42NjY2NjdhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMC04NS4zMzMzMzQgODUuMzMzMzMzIDg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAgODUuMzMzMzM0IDg1LjMzMzMzNCA4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAwIDg1LjMzMzMzMy04NS4zMzMzMzR2LTIxMy4zMzMzMzNoMTI4di04NS4zMzMzMzNoLTE3MC42NjY2Njd2MjI0Ljg1MzMzM2MtMTIuMzczMzMzLTcuMjUzMzMzLTI3LjMwNjY2Ny0xMS41Mi00Mi42NjY2NjYtMTEuNTJ6IiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==",retry:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzIyMjhBQTUzNjdDMTFFMkI3QThBNTAwQUMxRDJGREMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzIyMjhBQTYzNjdDMTFFMkI3QThBNTAwQUMxRDJGREMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMjIyOEFBMzM2N0MxMUUyQjdBOEE1MDBBQzFEMkZEQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMjIyOEFBNDM2N0MxMUUyQjdBOEE1MDBBQzFEMkZEQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj9mTMsAAALCSURBVHjadFJLSFRhFD73v4+5d+4dmgkkEcxFOOo4OQ90FgVJ2lhihFk5ozWKGxeBBEWFmA/GzFVFu1xFRrVrHbiJaGVqCDUZEdKAi1mkQjWv++r817kXW/hfzv1f53zfOf93mNraWjhoMIQBQsiiaZjXDcP4s/8um81aMzHh4I/neJBlOSUr8meWY9tpgH1nD2KtbcPBEjYmCMIbSZR+u91u0+PxAFqdoijveIF/yDCMsC8eONM07XQFZJyS3NK4y+UiCAIcxwHP83vALEv3N/N/813FYjGBRxkHAOsEURSfSpI0IrtlQCYrANkcJgpI96FwqO5K/2WPk4H147gOTHlEkRXgeA7CkTAkBxLgb/BD34VLQFisFImSA0lIDibeY8iGA0BRa2pqZstq2XJsamqEqZnJt3g3fepE+7LiUUzfYR/cun0LotHIdFskli6Xy7C1tVUBQKlUXW2lZaiqCr19vatt0Vh3qVSy0g4EAzCTntmtrj7SH2mJLmmqBva72RmwxUJRwPotAJ/Pd6dULIGu66ARDR4/efQJ73pbmkNZerZfAUvGtfVVQIkAGwU0TYMHc/M56khZKCAGnww2Hs/qmi4h2ShmOopzwgEIBcN6vb9epcEUZHNzc9ZqFQQwdAOa6gMFeo4NdVd0iQuiJC6g/5gDQNnOdZ9dozN90EK+cBFVWQAGDlVqFVDSCWS+hz1C5YaxG2P5/wDiXfHJM/FOR2+UdBSbaRfXPwWXUELW+9gbLO2NnvM90NF5Ou08Ik2zuSG4tLq+slhVVTX06uVrwCDA3qdlHKVZ0UBqV68NQmo49Qz9P+Ryub0O9vq8QBgC335sCLifynzJjC8+f0FWPq4A1Ztm1NrWCkPDKSPQHJhHn7T/WEN5+9d2BcDr3VtUmL5+z8RwO4EWR5PQCmhLaHP4oMu2Qjs7O1bcPwEGAErKEckpB5KiAAAAAElFTkSuQmCC",loading:"data:image/gif;base64,R0lGODlhGAAYALMPACgoKOnp6cnJyaamppmZmVhYWGdnZ3d3d4aGhgEBAdnZ2UNDQ/b29r29vbGxsf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUU5MTZGNDMxQ0E4MTFFMkE1Q0NEMTFGODU0MkUzNzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUU5MTZGNDQxQ0E4MTFFMkE1Q0NEMTFGODU0MkUzNzUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRTkxNkY0MTFDQTgxMUUyQTVDQ0QxMUY4NTQyRTM3NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRTkxNkY0MjFDQTgxMUUyQTVDQ0QxMUY4NTQyRTM3NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUFAA8ALAAAAAAYABgAAATMMMlJq710GQQAMgBmLYMSKMuirMQiSocZnOlqH68h06qtFJhPomASEDoEwQpYMFQWM2fhEJoADkyBwDVxMBgBp6igVBAm0C8D8YqtBFWDWlHFABo2MQLMGLwkCFoCbAkAKQt1IoaLEh2Of4WOVQUDBANiL4ENAjgJJAOViRYADoJAhZagpxgGgg11BqAtLwWbgxQABLMaiQAGLrUNXGguJA4EVB4DDQ7AmE8DDtIDHQ4N18200dIO1dfMq3YI0dSkDQMckI1NHb+i6vARACH5BAUFAA8ALAAAAAABAAEAAAQC8EUAIfkEBQUADwAsAQABABYAFgAABJbwySkPoYtq6gILEzhsmsd8YQCS4YlK6roVmeEpY0gdE0AQNQRLolBMDoMBcEiUjHzJQYFJUSwW0QtVQCkoBwbqg1A0PgBo8SSj3mRqjjhPLVAI444cs1EOD/BhQwdlXA8HcXpDdQpaD0lMcw8ChRJTEg4NiQ4CDZYsmA0NDhINk5yeG6ANE6WTq0MZmKMPpa9tcweoFBEAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFQAVAAAEgvDJ+cAykhzKJzjEQABPwARONxXhIJImc6rP0r6lfGKqLfIDxe7Bk7gki0IHgSlKHI4BjRMIGKGpqaRqfWC1FK4BuwGbz+gOqfFgmwkKhaRBPws4dPdZ3m5ktXwUWUoqhHEdBQ0CDggZDYGFigICbgJxCncqBpKUEpZxAk4dipWYHREAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEn/DJKcs0C9A9FxrO8ADEQBzcBjrhWA6mlT5rS8Lmwhky+KAPQ4mgeyA6LFmqUAwEZIhGw6FMGQIMBkXaMMwkiKz2UeCKvhKFGNUAoyUDBpbwrkuK9oXuIGgIjnYTBQKEDnZOARJ+hEAzCIgPOgiEDVUzTmcPUjKNE4AzMgIKbRMCDwoSBp2lCq2mC6hpaKKukbF2BKICerFEdQsGgJ8cEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFACH5BAUFAA8ALAEAAQAWABYAAASU8Mk5zyw0a9ecHM6AABrFNd3nrEMpFWf6gKz7eq10gPmCTaiJwbYgEEgSgaBhkxQHA8ujoRQ0HwUolFT1XAnagoV6lRgG4GE5A2hTkGuKQvEglAeMAMM+VzCvCgyCUn1lgnkTc1ZNBnoMXg9KV0ONARRqDwoBAnYSmg+YJXQBAXQSpJahGZ+lE6imTXQKSK1rcGYuEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFACH5BAUFAA8ALAEAAQAWABYAAASV8MlJ5amYkiaadI3zLJlkcEL3NaxYPqj6gO0rcQ5ChUWWSj2MYTIYkB4EhUJgkwwcOYlAqbjYoK4H1dOcQaVMQvfgeEpIx25lwVY/APCHTqs2DAiD4YTZxBdJfHI2BUV3AEgSCk0LflYkihJzGYwEhxV6FAMPDAFnQRRDnWcPAQymohlWoiSlpg9WJZqdrAwPml1pTREAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEi/DJKQ2iOFOhhGxCo2Gc0n1C2hjjU54PqBbZMXGihDjhxE6mloT2cDgAGIVQ4mjkHsplxdlwPH5SyYAqMUWzVpsEmS2bywfHwGoIuL9Co4OmcAek8sHEnV1bgVeBGQULWnoUPwEMCocGBAMEhS2KDAx3AI8DkJIalJYPmJqbcYqXjwQGZEsHBEOcGBEAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEk/DJSSUyNc+hnlqPoAiENh2dlIrKaKrTF7auhnlhKTV1YUuHTPBRaDRAj0Eg8JoUBQLKktkMQRuSabTqgEYR1KpF0NhKkOK0mhFgDNSOR5BBTw+MWAmdUTXgN3QBNy8ORghSZz4Vgw5xJ2cEAwQ3BwMOby8LkQOSAEmNly8Fm5yelo0DihoAB5EEppdDVQALN4MZEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFADs=",loadingCancle:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzBFMjYzRTUxQ0IwMTFFMkE5RkRDMDFGNUY3NTA2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzBFMjYzRTYxQ0IwMTFFMkE5RkRDMDFGNUY3NTA2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMEUyNjNFMzFDQjAxMUUyQTlGREMwMUY1Rjc1MDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMEUyNjNFNDFDQjAxMUUyQTlGREMwMUY1Rjc1MDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmI2XfsAAADqSURBVHja7FTLDYMwDI1puwQr5MCJKZCyB3cklsg9GzAAEjAEezBFhRtHISr/T9VD1VgyJP68ZzsBQET2TQFP8McEaZoGJ7F6pdTMeN9KaNv2nR3iODYLbaeX82k7nO6g67oRiBCC6VgDBABYluUIhx5hGM5w9sbgKrOARLgIfrWDQXCvgLUOVgmiKGJ2HEarqhoFJklicod8zjkriuL0iLY6OHS/jxCgrn5mtDb8lADrunabPM8fpMPe+vASAc20aZrpgT6tusOlGIpdk60PLciy7EYLKWW/dIO0P5gU2vu/qSf4QYKXAAMAJ5qBE+5PPaUAAAAASUVORK5CYII=",hand:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjI3OEJEQkYxQ0U3MTFFMjg5NDZFNzJBMTc5RTBBMzMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjI3OEJEQzAxQ0U3MTFFMjg5NDZFNzJBMTc5RTBBMzMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMjc4QkRCRDFDRTcxMUUyODk0NkU3MkExNzlFMEEzMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMjc4QkRCRTFDRTcxMUUyODk0NkU3MkExNzlFMEEzMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjEL5KQAAAHBSURBVHja5FRNywFhFGVmkM9EEaWQEik1Fqws/AWJn2Dl/8haKTsW/ANljaQslLLwka98NjNOpvTkfeadUXo371k83bndOXPuufcZfT6f130DjO5L+EOi0Wg0GAxUyzhqdj6fX6/XYDDIsmytVlssFo1G43w+z2Yzh8Ph9/u1KspkMsViURRF+dHn8+G0WCzVarVQKHygqFQqCYIwHo+Px+MrGY1GcTqdzg882mw2OMPhMOheSbvdTvY+nU7ViWCKJEmxWOx0OklPrNdrtCbHt9stnU6Xy2V1ot1uB4O8Xq/b7RafQEfJZBLB/X4/HA5YY7PZTL7CxuNxOdput5g0JNhsNqPRGIlE8PFUKiWrgAQ5QNcejycQCGCsqKcQ8TxfqVSsVmu/30d1NpuVaHC5XGAxmUytVgtfpUxtuVxyHIfBJxKJer2+3+9hitL6YaFQT28N9AzDhEIhGAF1l8vFYDBQRWFLu90uKed9j3q9HkwFF4rgJTl7EhC7Wq1U9qjT6UAzLBCVIW+Z+kI2m01MEIGgAK1EQLvdFpTxZvNvRPBoOBxS+8IQcD+0XlpgMpnkcrmfefIak9D/53+2RjwEGAAlkHhWHev9/QAAAABJRU5ErkJggg==",rotate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjM2M0UyRTcxQ0U3MTFFMjgxRDNEQkM4N0Q3NTg2QkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjM2M0UyRTgxQ0U3MTFFMjgxRDNEQkM4N0Q3NTg2QkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMzYzRTJFNTFDRTcxMUUyODFEM0RCQzg3RDc1ODZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMzYzRTJFNjFDRTcxMUUyODFEM0RCQzg3RDc1ODZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlX779gAAAJXSURBVHja3JQ5a6pREIbzqbigoqBeNyI2pghEAnZiJZZ2/gMLQZBgoYUEXIJgYyD+gYhYxcJGtDKQH6CIImKhuIAGFHHfl9yXyPV6DZoUKS6ZYjhHzzxn5p05H2EwGM6+w0hn32T/H4hy7I/RaNTpdCaTCYVCWa1W6/X617vVajV4BoPxOQgx1WpVoVCYzWa5XD6fz2k0Gn58fHxMJpMmk+n5+RlbMpm8H0UcdA0n6vX67e2tQCCIx+OlUqlQKFxeXl5fX+t0OuQokUiAttvtfD5/n3Wo0XA49Hq9r6+vgUAAFKSGLXw6nQady+WiWFx2c3OD+05lpNfrZ7MZSsAa8R6Ph0qlLhYLv99/d3fH4XB2J/v9Pi47CtpZLpfTarVisVilUkEjsFwuFyT7avszmUyr1cLCarUul8tsNnt/f48t8kJ2yPGrIIfDgRgsNBoN2ux2u5VKZT6fh3aQ1ul0HmMdglgslsVi2Sa1NQj89PQUiUQwTSQSCZJXKpXPQegFhCAIYrPZNJtNeOTi8/l4PN763cBC1h9ZpH11Go0GWo6bUQK80WiEPz8/Z7PZ0Gv9x8B6eHg4CrLZbEwm8+XlBY8ABSKATqfDq9VqeIzfDiQUCkOh0NEngmvRl0Qi0W63RSLRwblutwsEFlKpNBgM9nq9gwNkjP92hXbIZLKrqys8js2/ViwW397eoDooyAWjeEpsDHQ0GsULWH0w5IhROEE57BpYsVjsIwjtu7i4CIfDg8Hg2ED+LW1r4/EYg4dm7+pKpVLlchkjPp1OT3zYiJ/78f8twABFT5G5Yf+a5QAAAABJRU5ErkJggg==",zoom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzI2NDFENzExQ0NBMTFFMjhDOUNGQ0NDOTYzODI4REUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzI2NDFENzIxQ0NBMTFFMjhDOUNGQ0NDOTYzODI4REUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMjY0MUQ2RjFDQ0ExMUUyOEM5Q0ZDQ0M5NjM4MjhERSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMjY0MUQ3MDFDQ0ExMUUyOEM5Q0ZDQ0M5NjM4MjhERSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjUXtsUAAAHTSURBVHjazJTHakJREIZzc63YS2xYsKx05cYXEHwBfQb3PpgbwRdw60oXtoWoWBAL9i7mQyGERMNNWeRfXA4znO/M/GfuEZLJ5NNf6Pnpj/T/QLK70cPhMBgMlsslC4VCodPpnE4ni++BVqsViFQqFQgEjEbjbDZrNpu5XA6cVqt9BBLD4fCHWuRyeSaT4fxOp1Ov17fbrdvtTiQSpVLpdDqJoijJo/1+n06nQTQajcvlQkXn87larbZaLeJkpZodj8fppd/v04UgCFD46vX6Xq83nU7JSgX5/X4oarWawyFOJpP5fL7b7TQaDXGyUs2mF7ygKTafryKITSqVitKi0ajUiqjCZDJh6of48XgkTlYqaDQacUcc/nyVeNVt7fV6y+UylUoCFYtFs9nMBMES3ykYDNpsNpfL1e1277LuzNFwOIzFYlarFYPokUUkEgmFQuv1+uWqQqHAncpksq9AaLFYMERs8Hg8ZNnD3dGawWDgGIfDYbfbP7ME6e8RPw30zWbDGrOy2azP53sb9DsVPVKlUuEe+OPwiH6xkgjz9W0QqtVqsGjqxrrN6g/fI56B8XhssVgY3bdyHr5HXyufz+OOUqnkB/wVCLXb7X//Zr8KMADSBu6sAZizOwAAAABJRU5ErkJggg==",flipVertical:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mzc5RkM3NzYxQ0Y0MTFFMkFGQzk4NzFDMzc4MTVBMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mzc5RkM3NzcxQ0Y0MTFFMkFGQzk4NzFDMzc4MTVBMTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzlGQzc3NDFDRjQxMUUyQUZDOTg3MUMzNzgxNUExMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNzlGQzc3NTFDRjQxMUUyQUZDOTg3MUMzNzgxNUExMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoWGg/MAAAFCSURBVHja3JTNboMwDMftaVyKVlrYCU68Ae/Ci/MQE1JRCuok1gNCnuMExgQEJnGaUaIA8S9/fwDmeQ5H2AscZIeBXqc3Xde1bcvzppvneb7v87wMSpIkjuOdEsqyrKpqGcSUoigQkPQgQuQZkN8gkKz0JUuALMtWQWxBEOyRQ+4csYXXUCTovYR6IGo3lHsYFRJtgKL3SPbooSMD8TPBoDxGOYeo73snKArFGa2z4AxJpOEo7XarXKArhzac7TKEDdDb+Qw/9TGx2AFDesAG7MyRfzqtVAn/0NlsX88n6BzIhNNiGyGms+ZFm4E+H495OrYStgSq68Y0r9QKx8sCLdH0lhN0r5XeRxYCQ3bpl7gFkTOQuoNtOrQlI3HTeZl8bQCX4OICNU2z8+t3gZRSaZruBPHmVdCH2H/5Zx8G+hZgAJcamqB3G0N7AAAAAElFTkSuQmCC",flipHorizontal:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUVBRDRDOTkxQ0Y0MTFFMkI0OUU5NThEQzI4NTFGNDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUVBRDRDOUExQ0Y0MTFFMkI0OUU5NThEQzI4NTFGNDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RUFENEM5NzFDRjQxMUUyQjQ5RTk1OERDMjg1MUY0MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RUFENEM5ODFDRjQxMUUyQjQ5RTk1OERDMjg1MUY0MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pnl92swAAAFKSURBVHja3JTJjoMwDIbxqBw6SKVAT3DiDXgX3l9cRkhFLKIjekHIk9gJoXQhB07jILPFX37bAcjz3NnDvpydbDfQYXkzjuMwDMJvhrmu63me8K9BSZLEcWwpoSzLqqpegwSlKIogCKJLFIWXMAxOvv99PA73++/t1nVt07RN3bRd2/d9lmVL0LsagRhkSA75Sp7h4fUnEIhZKkhPpzhyqPBg1TVAMcBEMJnRjAJECxBKkloUlo+FWLkG8S1SU8sDPjDmM2u0UwScnJFDUCEHqIIrpR9qhHIAeZ2Tfj4rsUptlZW6RWSk2RAbIFw2Ho2nxFSN0E4RzUe9qUxiYPTZ1Agck5rqDhdbooC1gGNZbN7JWpFOEFbpb9VIBZnNrLCyj6KZT4znr7+u6zRNxcU0Tdequi4+7tn881kcPPkt6Ifsv/yzdwP9CTAAzDedWzss4SgAAAAASUVORK5CYII=",compare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAYFBMVEVTU1O6urqrq6tmZmawsLCzs7NxcXFwcHCvr6+oqKiamppcXFxXV1dVVVVzc3Otra1qamp4eHhfX1+1tbWlpaWioqKdnZ2VlZWQkJCKioqEhIRtbW1iYmJZWVl+fn55eXlv0MifAAAAo0lEQVQoz7XQyQ6CMBCA4Q7dgUJb9k3f/y0dhBSxejCG/9KkX+YwQ/5p0Fn0l1GsAW8o5knIaY6Byilgagyg4VmZzxoDFiDZQGVGFFImn0CKaYd4QvwERH6BpRAiglrz3HYymmD3tjIWeivfYKQNx82rmz0BH6htKgRInH6FtnCu5itArcoAJTB2HBEOaPcjmg10gLlPMcYXv77dRM6l4MklPQAAZAfZanJzfwAAAABJRU5ErkJggg==",close:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARCAIAAAAt9wkYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0I3NzA1RDAxQ0Y3MTFFMkJGMTU4MTc4OEQ2N0MzQjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0I3NzA1RDExQ0Y3MTFFMkJGMTU4MTc4OEQ2N0MzQjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQjc3MDVDRTFDRjcxMUUyQkYxNTgxNzg4RDY3QzNCOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQjc3MDVDRjFDRjcxMUUyQkYxNTgxNzg4RDY3QzNCOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUW1owAAADqSURBVHja5FWxCoQwDL2W+x4X/QmHujvXzV0XadHN31HUn2gR/KD2AgWRAytETpTLEF5eSfqaaEvyPH/dw97W2rtIMcY8uytKKQeiKPKTP5fSdZ0DSZKEYQhAa72SdV0japIsy3D9XPdjjIHv+96FUkpPFqV0VwrnHD3dpmm+GCHEwdEJ2VVpTlhVVdtaEB6m2H2j9oTN87yVAuFhikclviuw8TAMWykQAonuCvJeWZZlmiaHy7IE37Yt+HEc4zgOggBREzmgVUdRFI4B4BhYwg2IpGl65ZXq+ZmvfoM838MfP4fPGNBHgAEAi7gyuvHuhZcAAAAASUVORK5CYII=",searchBtn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARBAMAAABQu4N8AAAAGFBMVEVnZ2dYWFhfX19qampUVFTl5eVjY2NbW1ua0D9wAAAAaUlEQVQY03WKwQ2AIBAE/ViADxsgsQJbsAA0GagAOyC27z0O1wfMJZvs7E17n6EXM1Hlr+kORJtUb6dgQWpVPhVSkQ8OYeOydOT9nOH/49RcyTW3Ko8F8kuDc1n5mvwKNslrMC1/9Bn5FxqpUThYQLEuAAAAAElFTkSuQmCC",rotateIndicatorBG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAAC5CAMAAACoRNVtAAABX1BMVEUAAACPj48AAAAAAAAAAACMjIyPj48BAQEAAAAAAAAAAAAAAAAAAABdXV2EhIRvb2+Ojo6Pj4+Pj48AAAAcHBwAAABERESPj48AAACPj497e3uPj482NjaPj48ICAiPj49aWlqMjIyPj48QEBAAAACPj4+Pj49ycnKOjo5UVFQDAwOPj4+Pj4+Ojo6Pj4+Pj4+GhoZ6enqPj4+Pj4+Pj4+Dg4OPj49kZGQhISGMjIwAAAAxMTGJiYmBgYGLi4uPj49lZWWOjo6Pj4+Pj4+Pj48ICAiPj4+Li4t8fHx3d3ePj4+Pj4+Pj48+Pj6Ojo6Ojo4AAACKioqOjo6Pj4+KioqKioqOjo6Ojo4AAACMjIyAgIBra2tAQECHh4eJiYmLi4t+fn6MjIwpKSkjIyNLS0tubm6FhYVTU1NhYWGOjo46OjoAAAAAAACEhIRra2toaGhbW1t/f39LS0tOTk5sbGzAc0kEAAAAdXRSTlMAzD4WBMLIMTkOPCcgca6Exg1HBkc0XCYSBpmxVCIMCW4Sn0IqvpSKXkkZqqVtUkGymWg5w6uaZ0ovLSm6p5x6eWQ+LB8eGxadk4uEf1lNNAq+u7eFfnRZCbajgTG1qqKdkU1KYXtyZ11WHhQIjnNtUlFPPlvso/l/AAAH2UlEQVR42tWd+VcSURTH7/eJI2ILgxEQIYKBFJsJLbRRYFBqmlnaXrbv+/9/mqB65uAs2Cz386seznv3vPnMfffdmSHnUFUKBIglsTZNjRNLqhGKjxBLCvN09SqxZGOJJiaIJVtZOjZGLCnmKBokloShhgRLO2aAhhAs7dgAvgrB0o4R4JUQ+4ghV4CPQrC04zLwWAiWdswDo0KwtGMSwCHB0o4KgMMs7diBxn6WdlyFxkGWdlyBxhGWdpyHxgGWdlwCuNoxC3C14zrA1I4JgKsdUwBXO9YArnZ8C3C1YxngasdFgKsdSwBXO+bA1Y4qwNWOMYCrHasAVzsWAK523AC42nEL4GrHIsDVjmFwtWMG4GrHBsDVjhGAqx2vAFztuAxwtWMe8JsdqyrFA9YK1LbtqLYoECfHyJRqgTELv6/Ath1bWTU+FiDnaKH5znwkHcCmHdVlZXUi5Ow1sYzkcREdNy1Q27NjbR2vok7fddV1KLMzoX1mBWo7dkw33TkxqwGYuyHGpowL1DbsuJoEwkdF8C45TROA8kCErhoWqC3bMbGh9P/nBDlOume+U0fF2F2DArVVO7aL0HgqxDFyGHkRhi+L0AmDArUlOybKCjTWDomgg17U797uPxfnJg0K1OZ2jBXR44UQcXKFRPK39qZFcGRwgdqSHa8o6DHr4m6kofxZC4fERGCghMztmCqhz9yMmxl9Gb9Zey2C8QEFanM7FsLoo3kxdJNcIyG3zddnxIR+YmZ2XJASuiy96AoxmWBdOLwzMVgETOy4Wccf7jvoRfMb5s7EoAQY2rFzGn9Zey6Ck+Qqcnz6xCAHQztW6pC8ll50jVQYku2JQXcRMLBjN49tXPek1FGARCYGMqbbeDT7IrqvH9yV3D9/mBFR8gApCZkYJJYwmLXZo8F9dzOL2I5yQ4SmyAMWwpD0E4OxLHbn6eHpHP7hgRBXyRM2d67p6Wuww0UhzpFHnMYunDo4/e3hu6mpbixSvhTGYEafSS+6Tqc+MJj7Z86NBOgv6UhewQCmhXhPnlGBjpNHQxO6lGRhuT94770okZKWjhzojNTOxXVB82KAPKSb0wtyFyrhHelkaJw8ZWV7IG+IqIGmY0lfeHFQmjineX3SuOwnF5YfDgwyuT8jPyTMaoZqcZsXP5DnRH6vlrMWLrtM0leF65addCQWlqmu9xRtbdMq/YxRiCh5TsRmOqL53clCnf3U1/quPqVAY84HYU/17/42burNfsHL+8OxeRl0iywo0Lju/fl70X7ine+51MMVo7YjV24/yUlN27ywRw+cPHjm+PmR8QC5RjpW1cZ869+iYihg4wcUSNyZQSJWLdy5JMc8dEIi81/HZ5BItbQx34Oe4YrM85A4NYPEQmtTG7MCA+RSt9234cgMEqmqYZz1RehhmiD/7wzSMTlmyzwXYnKYHqX/NAM1FpHesMmMEPYcBcmwM5B+voU9IGwOnSDZywzUX0tk63EYPXwc9T7hR/evv3xz/Pz7qYBcgO1fqzzZn4Kv1nqfCxevvzxz/OHI+OTuv9vQFpAUokeGkaydOnLw85eHJ+LW97Ldxsr8bekal7wuGZ17Ovvpzfer8Zs0LJ3VlbJ2GSuAM3dT88W89xtrrVKWJtp7DmN/Me89n6m9fbX1OIe9Z476xewO6VRrc2Pr8egw+bpuMXtDdohdkk96fVeH2Jv6pQCWt9vp3fxdXve+mtGp26zD+CboRJs2q18+Wek9yvZrjv3eQO+J9AZjtdLrn+Xy9zhpzcopaDeJHtP+GHrezqmGH057B5y2zz0TUatnSfflZe0ZqfBwJ3iXPS+wJ0rYhmLl3FT22XnrmLLN02r/PK/UUOz0CPilGUY2VVvvzPBHC1KPZezCqdn9Wj/MeKbbXilfUjCYOQ8zsCqGRu5pPSFzS9dA9cBwpNOj+JcXXnVnbOFfrp0VxzYV7IYmzof5HTvpQ970xFQgkc3srToG8qjf+Vup+6ATaaGuC/lkT+BF6JHPA3WykHjULJDVh7xPWu+d+0fFub+3zoICydpZEXR7yczrQ/6XHAyfeIiVIHnqeg94W9GFXFIyuecnyop3z3Smk7qQG7Te6+sFjaRnjZrNASGXbJg+NUDppkftsTWDkGu8tVLErq17kbqr6wYh12hZOjpQlzxI3RcNQi57ZMyf2ozk3E7dVwxDrpEe7EY93by7qXunbhByndhNglqpu5m6n5YhN7/TmtZSO1n3UveCWcg1lgzcqKOguJS6xxSzkGuUbR3wxUqupO6JIvDUOOQaFXM37kwM7jnezr6BWz9MQq5RM3ejLjG4E3U2dV/F4juzkGukzN2oSwyU1kQoTo6hliKBsREyJTFErahWcvTFE9UMvbeU5a3r3GiOWqWAD9qrswDX9zgt+e/9MFaZ5/tWngrfdyHV+L6BasE/dXS7JBS2b1ujda5uJDrN1Y2a2Lm6URM7VzcSrXB1I9EqVzcSddi6kUjh6kaiJFc3amLn6kaiZa5uJLrC1Y1EEa5uJGqwdSN12bqRyEdNpHZJcnUjUZ6rG4maXN2oiZ2rG4kiXN1I1GbrRsqwdSNRmKsbiYpc3cj6S5tNvt83LfD9qizjb/m2+X5BWeX73WqqQw2ydGPvG+1jLN1ItMj3y/gbS7SPpRuJNufpBEs3ElUjFGfpRqJYm6Z4upFUlQJOuvEngp7208ni9ZwAAAAASUVORK5CYII=",rotateIndicatorPointer:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAADxCAYAAACEXZTsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTQ0RjM2N0YyNDJFMTFFMjk1QkFBRDIwRTU4OTdBRDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTQ0RjM2ODAyNDJFMTFFMjk1QkFBRDIwRTU4OTdBRDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NDRGMzY3RDI0MkUxMUUyOTVCQUFEMjBFNTg5N0FEOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NDRGMzY3RTI0MkUxMUUyOTVCQUFEMjBFNTg5N0FEOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Psfyr6YAAArZSURBVHja3J1bbyNJFcfL7cT25D6Jc2EmziYZVqBhGFZCCBADgn0cHuYFaSUekGbeQbvwlskH2BeyCAkeeED7AUBoQPuOhBBCgoWZZYUyuV8mk/iSxHZ8ycVuTsVtuTfEdlXXOdXVXVJPOnH78vP/1L9Ona7uidi2zcLULBayFjqgHpGDfhOJqL7P0DL8s8RYmf/yU8YuZJ68dOX3Tt2kR9MX9wZs/FvZdH4v+KoQQpt2gPbDAjTj/PzUiD6ECHQjbEB9YQNKhGEcGoWtn28pxm7yLxFsOBZkoJTL6saolbI0hhunGac2B61Ag4xNhAoILC5J7XZagRKtkAt0H7rd3Im1FApsyE24wwuSudgsY8OwG6Wybmqg6WvkIlWJGmj26h+SrX7UFwqFBgKu0BtX/wCyTFI6nXaFYq30J3AKWe48zg0UdYCWGrPYwABNsmusGQh65xpZt8UIrJsSaKbDSEvmdL4A3STMui2dhuCybrKczheFbhCORb4AxQMIFHVn2VdbLwDFGu+dwLZuKqBbrENFCQis+UbxxMLuR1RAqW4HfI7I6aiAprsdMNLqR4FQaLbbAQNhU4jKun1TKN4qafWZDgSuzKYEDhpJNOw9voT4OSiAbgu+rvVmI+wimMZAAZQSPXCCwOkogGZEDxwhcDpfgQYISsO+AiXCplCcYF6EDcRrBOOiB0P2OjzYsPkElnVjA6UkXzMyh3xWz/Ir3JptErkf+Q40glwB8h2o33CFUrJPSBgONC37hBhy+oMJ1MdaUwLhBtY9NNKwe551R00Cmvb6xDnEARYTaNbrEycRnc4IhYYQp+OYQDNen9iPuMIEEyjl9YkJxPTHCIViBvYhSJovz8p5auDVA+MNdXqXFBclWn6r47JulH5kDFASKQXCAppWfQEs6zZGob6wASUMCzlloJhBQDcd21YdP27cuizVXS6D7vUTKIWkMl/ppNyPMICmsYBGESZ7GECzWEBDCCmQUQr1GRJyaAolENIfoxTqRZiKqwIlGe6pkOYyaM9XsKgCoVl2s91SnOypAs1gA40pOp1xQIOKKZBxQKrWbVwfivuoUATTsl1ZdzLiE9AEI1gz6iyDHuGfbelSMH1A6P2n2VSuYDESaFQhBTISaNAnhVJUQDd8UmiaCiiucAWLVyCLUiG+DLrHWXYmuwzaK9AUUyhkCFh3dL51BUtcB9AsI263PS7htEzrP83mdRm0V6AUNdCAR6fzCjRDDZRoXEoQKiBtCvU0Zsq0DSx0NN662MOiBOLLmKOMvlmfbwywUsugLRMNwTXYSZe1jAbysgzaMtEQmq3fQ9ZtNFAibAolNCjEy7OTuoBgfLjZ3xgm4qKfVRZomum9a2DkjuQVLF6AtLYJybCTBZrVDSRr3cYr1B82hWQLJsYrFCNUiLvMuG4gfgXLsLMMWuTzygClGME9RETanERZSwZohvnUJiX6USCAhiWu1euhALIZq2UZe7HO2CdrjH0MP9eh8xW/CZ8NOsNX4PHvwTf5bdGJYr/EvKhHsg91bQDy/HeM/fFfjL2EXzds2666Hi7CtgvbRz+LRPgX9B5rgKFl3RYWEHzr9U8Z+8NTxj4EmH8AyH+vwHym/dy2t9nlfZDZrxtPx7FuUSB+W8+xTge8YOz3v2TsL7C7CiCvRF4UoGzYfgu7v+p0HMTl4Ggj3GLdwtTC6D9pxv4JX/Pf+C58xteynR6gPoQff+1i3UIqKQNBrJxDn/kIduu8zyiY2S9gq3XIuoUWZCgDgTrPnzN2DLsZUOfUKw2otNFJpSFBp7NUDWGVsf84uzmEIefPAtaNolDbpPTvrTDDuCn4i3YPxAUXNYkCtZs22MuNsYXfR/4MASjbAUjofJHQwFr+4IP2fr64GC2VSrVIJGIBVF2pyrOw0HaNXL0OL/3++2jTh612RYz5+fkhZx/jFGWy3QOnp6dN9SoYQLvtHrh7926zfw0iAH2x3QPVajWDCbTd7oE7d+7cc3bHEIC+2+6Bk5OTJlCZFCiZTL517949vthoHPpR3CvJ06dPIRlg32r3eKFQaA4LVdKQA4jeR48efd95rTkFdX7SKU9Lp9N6Qs5R6atPnjz5Bs9QAHDKgzo/6jaNWFtbS2MC8bHmqNMBEHY/ePz48ddh900ZKID5Ifz4cadjarVaGRTioXbOuvy/KzITvB3W4UpIPg7dv3//ncXFxS88e/bsT/A7n+Ctt8vvAITnh+/C9p1ubwyWLaSOLBDvR/e7HTQ2NvYWKPXlTCbz8fr6+icPHjz49/Ly8urU1FTp4cOHw9Fo9EsA+bZlWW+LTsHBsrMUQJuiB4I60YmJia/xrfk3AHQ/LtXHXJbdFciSVMiXBpadFbFsWaAdv4AODg6EBlVZoG2/gMCysxQhV4LtUDcMWPZJNpvloXbWaYruBciXsAPLFjYEL0Daw65SqYQLCCaPwg7nBeiVbqB8Pp+lVGhTN9D+/r6wZXsB0j64rq6uZihDrtypMkNg2YWjo6MzUcv2AqTVumWSUhUgbU4na9nGK1Qul6Us23ig4+PjrIzDGR9yYNnpUIUcWHZOBxCP5zQ1zMXFRR5Cjts1r0nUKYG0DLCitWwsIPIUCCw7LetwKkDkSSpk2TmdCpE7HaQ8Ukmp8UCuLFuLQtwUKP/Ld9tl2Vr60CmldZ+fn+cLhQKvY1cXFhbqOoBIw+7s7CzjRR1jgVxJaUUnEJl1uwojWoHIBlew7LQfQGTpD1h2zi+gOgGPvbKyknWGBa2mwDPhAwLLPjo5OeGnHU9lLVsViMTpvGbZWEDokz3IsqXrCEYDQbhJ1xGMDrnDw8N0qELu4OAg52fIvUK27vry8rJny8YA4hnxPqJlH4Mp1LxaNgYQagoke/qRCggtSVXJsjGB0JwOLDsdKiDIso1QCM26X79+rZQlYAHtMcGza90s++XLlzkVy8YCunCgVOsIR9Vqte6lMIINhBJ2GJaNCaQ8e3Vl2UYAKQ+uxWIxHSqFIMtWdjij+tDe3p5RIbfHuiw/7lgVse36ysrKoZO5G6FQTSWngyw7C7Zdd7Js2wQgpX6kWhihAvKc07my7HIogMCyPZ9tMDLkIMvOmQi05dnzd3bSJobcvlNjkLXs2tra2pFj2acmAdW9hB1Ydg4228mybZOAPPUjL4v8dAJJOx1YdjpUQK5adtVEIOmQy+Vy4Qo5sGxPS2B0AfEzesIXuYNlX7gs+8xEICnrhgw7V6tdFowqGJZNASTVjzCzbEog4fpCqVQ6wHQ43xUCyz4MgkLC9QWw7HQQgISte3t7OxB9KC3SJ8Cyz8Gy+e1z6uBwpyYD2SIFE7DsLEChqkMFJBR2orfkCAwQxulHnUBdrbtYLKJm2dRAXesL2WwWNSn1XSEKy6YESnf6oPy2UxsbG3nYrYFlnwUBqKNKPCmlsGxqoG0By66GAqhSqeQo+o9vIVcoFDJBBGqrUKZ1x5VyKIB2dnayQexDuesUqNfr3LL57Q8vsC2bGujafqRy5YkJQJu6smzfFIIsOxdkoP+rL+Tz+XSQgbY7ZNnhUAiy7FyQTYHX3Uouy65ubW0VqSxbB9Bnwo7asrUDudbElYMM9OqawkigFdp0WXYmDArturLsbKj6EDgcSWHE3Xo0APH69eU9uXd3d/k+A8s+DzKQW6UK9RvpAuIZQyRsQKFSKLQhVw2bQmXqN4o4JdnQNIuFrIUO6H8CDADtKO5SoZAASgAAAABJRU5ErkJggg==",arrowTop:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAdCAYAAADsMO9vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjNFMkVGMDEyQzI0MTFFMjg3QzRFMzA4RUMzNUU1M0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjNFMkVGMDIyQzI0MTFFMjg3QzRFMzA4RUMzNUU1M0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCM0UyRUVGRjJDMjQxMUUyODdDNEUzMDhFQzM1RTUzRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCM0UyRUYwMDJDMjQxMUUyODdDNEUzMDhFQzM1RTUzRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlvCjVAAAAD/SURBVHja1JjRDYQgDIbZgBEYwREcgREYxREcoSMxwo3gCHc+0MQQPCgUKCT/G8r3GW0RpfoNfceHaLXYQPhvyFISJoJ/Shjp8NudKwGPucKcJeFFS9hC+KeElQLvCOBx3Mrw0yVOBnjMORoeGOExIBEeKuYP664UGIpEl67dAj9dwjDA10o0bz1KuyulmlCqV1PXpsK7Tv2jSsJ2hK+VsD1u3NpJ2dcaCc++JvXj2hnL9N5aLGBUZWAsGiAJvknCC4GvkfC4Tchd8Bn8G7iFNXMPVJdYzzoS+bf/Sr4NThB8TuK1lB4CD6NiiaPkh0XaSRpKQOlkiceASa6fAAMADgHRdvHjSZ0AAAAASUVORK5CYII=",arrowBottom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAdCAYAAADsMO9vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzg4RUFEREQyQzI0MTFFMkJGRTVENTM1RUFERUEyNjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzg4RUFEREUyQzI0MTFFMkJGRTVENTM1RUFERUEyNjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODhFQUREQjJDMjQxMUUyQkZFNUQ1MzVFQURFQTI2MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDODhFQUREQzJDMjQxMUUyQkZFNUQ1MzVFQURFQTI2MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl7tKzkAAAEVSURBVHja1JjREYQgDES5CizhSqAES7gSUoolUAIlUcKVQAmRD5hhPBXDkRgzk79V3uK4Roz5LZ86pJ6Mnpoyk28Jl9SYW4uJAl+4liMhVCItJrbwpWErtKnjjvBOE0fwmFltLTyCL/2tLxAom9c8Y4plY0NDuOuaGT5eZAoldVCJCQo81qmkwUQ3fClHNDEPhJ+J8I4SpWcNA+CHrylpgm2tD/GRAjN8zEysLxUwwlupZHAX7umkE+9N+NhhY2KkxHXIa7PPJVdNUOGHz1//mLgdvncnfYdepDwxv1XB96TJiPRiKRgAD+bmgifD944eXaOBlj8pqT87FhOq4Vujx9DRQPpIRNtJH8kEK/wLEc2TaxVgABhX1Dief8wFAAAAAElFTkSuQmCC",arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAwCAYAAADtoXHnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTkwNjJDNTkyQzI0MTFFMkI0NzZFM0NEMTRCQUU4NzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTkwNjJDNUEyQzI0MTFFMkI0NzZFM0NEMTRCQUU4NzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTA2MkM1NzJDMjQxMUUyQjQ3NkUzQ0QxNEJBRTg3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTA2MkM1ODJDMjQxMUUyQjQ3NkUzQ0QxNEJBRTg3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps3mm0sAAAEHSURBVHjaxNhhDcMgEIZhMgOVMAmVMAmVgJRJQAKSJmESJoHRhSVkNIM7oC/J/WrSJ2nhA86EEMyk4WM9Yi3Fk0noDoZUr1jrbNRlYA7bWag9APO6j0Zr4Lf8KHRrBMNncg1A1/TP2sB9NneicrDzn15VYAe6pBe1gM8iIBSoBCyDQYn2gQrUd4NCdAwoQJ1g8d+qb2tArQC0Td+sgo4HK+g2BfyDSuLNiqPlAJWAThWgP6gkT716m8hQSbzpwQw9D8zQ88A4LoYY5OdFJhK2ZLBwwGIQC3xsa8M2cey4gh3MsCModtjGrhXIBQq7KmKXYuz6jzU6sJYO1rzC2nRYQ7Laen0LMACbElNZVX4epQAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAwCAYAAADtoXHnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0M5MkUyMEIyQzI0MTFFMkJEREE4MzFDNDE2ODE0OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0M5MkUyMEMyQzI0MTFFMkJEREE4MzFDNDE2ODE0OTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3QzkyRTIwOTJDMjQxMUUyQkREQTgzMUM0MTY4MTQ5MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3QzkyRTIwQTJDMjQxMUUyQkREQTgzMUM0MTY4MTQ5MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrqtTzoAAADVSURBVHja5NjhCYMwEAXgows4giN0BEdwhBvFETpCRsoIjuAINsIJpfgjoZf3YhN4/4QPgj6TE7leQ0pMCQJaz5QtZbdUh/ULPPOqBS4X2GfUExtsC/eMqCcaM9EjMwPe7GXrCx494TUTjvZ8lYJoFhYGHP4CngrKw7WntQDW7uCZAbvWpdgLQ4EDo6dLYNe6vAf8kBsv+PY2C7p9MvBy0FZBt8KH/9rgIPy4Aj+YNQ1GBvhzvcEvUPCrIvxSTLmFwwcdlJEOZXhFHdPRBpKQ0etbgAEA5TXHBKbv1IkAAAAASUVORK5CYII=",fivePointedStar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAUCAYAAADRA14pAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUY4RUQ3MDQzRTA1MTFFMjk0NEY4RkZDQjhEODM4QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUY4RUQ3MDUzRTA1MTFFMjk0NEY4RkZDQjhEODM4QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRjhFRDcwMjNFMDUxMUUyOTQ0RjhGRkNCOEQ4MzhBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRjhFRDcwMzNFMDUxMUUyOTQ0RjhGRkNCOEQ4MzhBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkpRrF4AAAGOSURBVHjaYvz//z/DSAIsIKKsrIyQOm0ofRWfoq6uLjB99uxZqphnbGwMpqdMYaSKeTk5/yEeJgKEEmMgCWDAzGMi0sBwKKYWGDDziPGwHhBrQLEeFRw3oOYxkZBc0NmUJr8BMY+JyOQCA2FUSn4DZh6s0FIAYg4g5oby+YCYGYhlgVgVSb0aECcC8WMg/gvEn6DiX4H4BxA/GOzmwTysC8RLoAYRAvOwiIEMjkFy4KA1D5akNwOxORDfJCNJgfSYQc1gGOzmIefhG1BDt5BgGD6HDErz0Autj0DsD8QtQIyvzfkfqiYAqgcXGHTmYSul/wFxLRAfxWPgYaiaf0SE8qAyD1e1xAPEpngMNIeqIRYMGvNwedgBiNnxGAiSsyfBgYPGPFwe9kLLN5FAHIGWH7xJcOCgMQ9Xb8kNSh8D4mik+vAkEC8FYiskNcSAQWMethhWh7ZsmqHJ4gGS3AOoWDNUjRoRjhtU5mGLYU0gdgLiQzgs/APEdUC8B4i1gPgWAQcOKvMYR9oQD0CAAQAKvKHlERqdgwAAAABJRU5ErkJggg==",lock:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAB2dnZ3d3d3d3d5eXl8fHxzc3N0dHR5eXl5eXl+fn53d3dzc3NxcXF2dnZ0dHR9fX13d3d9fX2pDWFRAAAAE3RSTlMAqXCZJy6vvllLNWXZooyCFXsZospBZQAAAG9JREFUGNN9z0sOgCAMBFAEWql89f6HNdKAxSCzYJK3YEAt41JyHyoYnYtYBoz5OXOUBsiNIJASdyK5krmz2PIh7DUh+GbaABw1AEYref04qTb7ot0GJJrgqWfoJ3gVxuWQfFJDj7oH+5fI9JD6yw3ZiwMeFNafHgAAAABJRU5ErkJggg==",filter:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAmVBMVEUAAABwcHBDQ0N4eHh5eXl6enpOTk5sbGxgYGBsbGxgYGBPT098fHxzc3NlZWVjY2NPT09JSUlfX19/f39sbGxvb29qampmZmZjY2NkZGRgYGBoaGhcXFxwcHBra2tSUlI/Pz9xcXF4eHhvb29vb293d3dnZ2dubm5xcXFeXl5hYWFZWVllZWVVVVVfX19UVFRQUFBGRkZ8fHylyMz5AAAAM3RSTlMAuRnRth4boZF4UjTRyIphORcP0aaYmJWGhH1taV9eJgjRwLqqp6KYgYB3cGlXSUM5IxRjGaTQAAAAlElEQVQY05XP2Q6CMBCF4SNF1BaQXRFZ3Pf1/R/OMU1b0ju+m5n8F5MMBnhsR0bmyMhE7Cjdbi9jsIbBbnJ+/JVKnr9Uq8NCubTUtIQtQER6RU8XUH0xedwIONI7LFUFl0Y4IaGKszncMRB7JLaieEdRJKxY5kVxKnV8/qPlfEwOFC9Toh9ssw1LAF43Tc2h8fyL4X5A1wgjdDdVWwAAAABJRU5ErkJggg==",brokenImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkZCM0M0MkM0OTg2MTFFMjkyRUJDMzk3ODcyM0MwOEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkZCM0M0MkQ0OTg2MTFFMjkyRUJDMzk3ODcyM0MwOEUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRkIzQzQyQTQ5ODYxMUUyOTJFQkMzOTc4NzIzQzA4RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRkIzQzQyQjQ5ODYxMUUyOTJFQkMzOTc4NzIzQzA4RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pne+/t8AAA/4SURBVHjazFp5XFXV2n7OzAwyCCIYKGgOOIJSamlf1xRMszJkULNQBjWHnH637pifDXbTMBE1za5DpjnkmHNaV0UxxQEERQEREUFQOOdwOMO+71rsczxHOXCsP75v+Xt/e7H23ms/z3rf9Q7rKMGT7TmSaPzftNskO0j0jjwsCAKk+P/V2pOMIVE4+oLc3g0vLy/XmpqaUQ0NDS2ugMlkYlcJ6xuNRvO4hPXFMX7PSix/QyJBg1qjMBga5PX12toBzz23RSTxuqiJxt9NQKlUqugS5eTk9NTLaDAYODFrYYSsr5wAQ9jYgAf369EhOBgFBYW+Xbp0zqThQFETrZKwS0Cr1dpc7TUJraJ59c3AmiPQnLB3TQYTtDoN5Ao55HpDWF5e3tRu3botd5SE3JEVVcqlkClUv8OkjaKYbK8CCREAMzmZDK6Sh2jr5QqJfwCuXS/qdOXKlandu3d3iIRDBGS0OheLKjFu0VEE+bo1o4ZHe4KtqlkrEnaD902PxsT7JhPrA1KpDKXlFfjhg0B0DfNE+/btUVZW1ik/P39q165dzSTYntjeHAm5I66KPoPSynrkXy5BQ4g3H2cA9KR+nd6IhkYjGg1GMh3RtgX+oigWW2siaqSBRgNDDqjkcHNzQn15LaoeqPljLi4uCAoK4iRIE9NIE1/RcDt7JOQtAOfr2rSJJZDLJJA6K+Ht4QKNTo86jQ5+3q4ICfBAp0AvhLX3QhsPZzirZFDIpFApZCRyqJQyboINBFqt1aPivhoDurVDJ3r+g6//g3p1I07l34WLc5Pn1Ol01iQ6kiamkyaW2SMhaSGQ+RKJP9tYSsRCtA/3g5NKgQXxUegR5kOgDKQFA9eEwWjimjEJoovl7hJcC3q6V1unQ2T3ILzQw98y58pduWjQC5j0p07w8HAlp6Ej5dACqFTQaDSMBNvwN0USrFWQbGMkWgpkzFfHss7gwYOR8eXSpo8tHoeqej0+GN8fUqUU2Vfv4sKNe8i/VYMbFQ9Req8eZdVqlNMq36nR4G6tFpUPtCijv6+U3EdoB18O/vTJX+Df1o/PmTKqF05cKkd5TYO4ycE9lLUmiFBoQUHBdBFbAMkbJCp7GhhI4JewGJCeno4VK1bwwT07f0Ds6Dew6XgJTuWWwJ1UzsyktdZI++IukfmfyI6IHxqC4qJChIZ14ff6R0Ui+8xZ1OiA6zfLEfVsoN157twppz1mLO7QoUOGWROE8zvJY3YvJR++Wy6Xx6SmpWFlVpbNJDu3bcHo18fi6OVqZGw9g/Y+rtzm7TWd3oQ79zUYHt0JycPCcPN6ATqGP2vzTGRkP5w9m8P72w/mwEUp4YtjYmtLtmggG2nnqYJSJkBnEFBRUZH90ksvfS/iXSK3Bk+XdQz8u8nJWLtmDR8/N2oULpWW4u0LF/DaG29h25bv8PrYcbQpo7B4czaC/dyaJcHA365S47XB4Rx8cdEj8PNCQjD3+efht2kTcnLOoW/fPvjtt/N4cWgk+r7zHdooG6EwPkBjgxZVtfUYGqbAgI4qNBilCA4O9nrCC4ngvyVJmjBhAtavX89v7ho6FGGhoejSqRPuqtWYf+0a3ngrHtu3SjDmzTgyj3745/rTCPa11QQDX16twdihXTA1hq38VQLfld9L9vfH38eMgY7sPOfVVxG5ezfOn7+Afn1749xvF1CyPh5RM/egnW8o3F3kqKh8iIF95Ojtb0BVnR4KhcJoTUBK4NmX/83AJ40fbwO+f9euuFpVxWXyiBH4NDyc32MaYJp4rX8A/jd5MGo0Rkhlcrg6qyCXK/CwwYiJwyMwZ3QX3CjMswH/RVwcCqqrUXDvHvwpaDESrP12Phd9+vTi/bNLR+J+nZryJAOc3d1pIz+Dnj170v0+LNAZbAiIK58YHx+PjRs22IAveUBqpLxG29iIGzU1NiTejEvA1s0bMaKXDz5MGoBKWh0NZfHVagPihjyL9OGhHHynLt1twBfV1qKePIye0oiyhw9tSFy4cBG9e0Xw/q+fjsB9ihFqHeE1NUJHWTGtPsuSjY8TSIyOjsbmzZubJhk9GkN79bKAtyR3zZB4Kz4J329aj2ERbTB3bB9cLq3Fq9GhmPKnZ3D96mUL+Hf8/GzAW7JWkUQI7YkKWkDWci9ehrOTkvePfPQyjGRqSvJ2JjF7NWex1gSEGTNmWAa25OXRjpdxeSJDtSbRuTMfG5c4gZN4JcIbuz6KRforISjMu4jwrhEW8EsJ3OPgzU0hfmt/YaFlbN6c2fz6S949ykBYVJfSVWbJox4nkEzmI/z88898YBFt1Pe+/x5hbdrATaWyT2L4cHwaFvaIxOZNCPUEishVduneZMtv+/q2CN5ZqURHLy+sOnQIk86d42MrlmfgHws/wZH8OnyyPR9uLkqemkikEh6hnyBAA2sZiRdffFE4ceJEU8Sl8D1n27bWScTEPCIRn4j58+cjTHSVDHxGQgJutAJ+7dGjmHPlCh/LylyG1PTpOF5Yj1X7LiE80B2+HipKXZRcEzIZ14LwuAZgJkFpwx8i8dlnnzWB9/ZGRmIiB1/XEvjDhy3gV61YjpS0aThVpMG3B/MQFuAGbzclXFlyKKXUm1a/WQ1YVVYWEudEdTISs7dudYjEwo4d+ViCpycyyB07BD4/v+k7K77C5NR05JQ2YOOxqwj1d4OnqxJOlMk6U8rNUjYrDTRPwExi586dH/ft21e4dOkSH1tdXo73f/ihVRJTiMS35L2+TEpqAt/MYUBz4FdlZWJK6lRcvK3Dlp8L8QwFRU8XBZzI8zBxJRIsxkhb04C5jRkzZs8Waj169EBubm7TR27fdkgTXeidoqcAv3pVFianpCGvwoDtv1xDBx9nAi8n4FKLuFDWK5DZmwmQFoQWCbAWFxeXfezYsT0s+p0+fdqiidktaEJPMcMs9sB/ffCgBfya1SuRPDkFhfcM2HX6Otr7usDdVcELIGtxUsk5THsasFuRUcZ3kYLGyAEDBuDMmTPo378/VpMmJKSJL5mNU7GhMZlaTadV9MFnKK9fTTnPvIICPrZh3QYkTkzkx2+XCqWICArhh3EGk45qASOvkxUyJ6o4neHuZEAbVzlVdVp+AOAwAVdXV0s/KiqKm1MvsvFVpImHK1diAYEqp6jY0hkgC4VB9MFP9Hp8TLkPa5s3bkZcQhyWHv0cH+9ciQnRMxHeNgK+bu3h79ER/u4S1BDW65X5KKnMxa9Fh+Ekm4pgylgFqeA4AXOrr6+nwtuNJ1PLli3D9OnTsZns3J9kQCunTozAf0g+Fv9OJNfKwN9uvI1Zs+cCFDKWHZ4Glu7YnMCYmkotuQ913YGON4MRE9WHn3I8vgdaJcDAs3bx4kUOnjWWerHMpdRSBNonEEnyHgkrozZu3IjY4bGIT4rHzl07kbAqAf4Sf/I0LjQPbVSTFAb65+HtAa82nhSFPaEQJFAZZTYHaQ4RUKvVlv6pU6fwPBUgEI8FPiApceDg0ihW4Aniae2/WH98AvQ6PSa8OwE/TfsJ07ZOQwjl/q5k7yb2j1bEQ+GGNrT8zMPc01ZCa2qwS8Du6TTlRr3Z9eTJk82C1zh4Nsc+XUYyluR9cWxi8kSsWbkGgwMG4/ORi3Gz7CY0dTrIG1VQGJRQa7QoqS0hl3wTRTXFCPBQPZ0GduzYEU25Ucz58+cxcOBAh8Bbn4frWyABURPJqckQqOZNTkvGX0Y+QPK/kxHuG0Yu2t22mK8rhyZQa02g5T2wb9++0SNGjBjL0onIyMim4EbCDoiK7YB3Ec//9pCMIilnm//xYEdyixVCViQmp0/mh8Ip01IgjBeQtCYJ4X7hcLcioWnUwKh/VMOwWGCXAPn9KSwdJ5uXmM3GDL6UXmwk1yo3FxQssFCFpNJqEUgxgZ2JryM5RsIONMucnaGh5wWK0oIYL5izuUP50evkVtksX5CkTk/lRQq/ThKQuCoRnf07W0gIBnLVgr51E6JJUlg6fujQIcmwYcMs4BewjejhAXm7dpBRlOWnYRRQZAQQlZXwpfp2pQie7xmSWQwcESt3coIkNBRG6pvoXV6Q0LvVlHaMEeMCI5H2XhrXxNSZU0ktlJpnjmsi4eTOV99gMtjdY1IRfCoDf+DAAQv415gqSO5TzaqiYlpJKYTSxwfOAQFwpcxTTl7Ku6ICq1haIE62cOHCJgcgkmhHQGVVVXCj551pAdj7Skq1najeVlNFN1p8jrVps6Zh2RdfIS4iDptSN6GwrBC19bWtEiCLENKY1vfv3y+JoYySNTbxXGbH9CE3ir4GAivQCjGTUVJO00Axwa2oCKvpmbXiRD/t+QmvxL6CKe9MQdvAtjhOY6ww/JzSj1rShPsLL6CRCJnIpFhuL6OFMNBcoyhNYebEDi/fe386acKAmXNnwjjViPFLx0OikrSqgczVq1dbwL9L8jdmay+/DO/YWMgpZWCr7xwYCA8iZCguhoK80xor8Af2HODg913bB792fqi6XcXHj4uu04PI6nJy4NmtG1yCgrgW5LQ/PGifuY4di7eY9sS5Zs2bhTkz5iCpTxJ+nPkjhBqhdRMyn0hAPJZmW86TkjdnZj5UGrrQ1YtS5cbLlyEcP86Bm8Hv3bUXw2KHIWV9CmJHxaL/wv7wCfTBrZu3+P0TojadqL5QHzsGr4gIuAQH83nZ/F79+vHnelmBWrehaUf1DOpJu54cSHVpiwTWHjlyBFOmTOEDtIewm/1gu2gRpJTvtCFX6k2izs6Gds8evlm/EV/eRiVnzKsx+Cb7G/6RSfMmIcAzAIsOLEJQSBCuXbtmIcH2k4Qieu2uXXw+bwKulMtxc8EC5IrpCT/wpey3qroKZdoypGxMQdzbccgcl9niLzDsKH2NwHZyaqp4mg/hryQHSSq2bhUKPvxQOEL9t8V7TLZv3y440oqKiizvDCb5hSR3wgSh+tgxYT/1M63mHBAdbXceSj/4VavVnhH3/izLGZFI4mv2QFp6umXCv5CcIqGSRpho9aG9e/cKT9Nu3bpleXcQyVmSk4+BHzhokKPT2RCQm8MzNWY9Quby5clKqqC+XLoUH7F8nuS6eP7IT8vI3KjYYd2r5LlK2C8pVsFFsP5tTU8Ba9CgQf5BQUG9q6urJT7kRn+le/8kSReFtSFDhoAqQNa9e/jw4fMKhcL0RNImlQosM6as+E4zvy8+0kRdXd0Od3f30fPmz8di8ZjE3CjI4WXyTidOnNhJudIJR39sXbx4ca85c+aMr6qqkvr5+dncG0qLcZQWhdoVAr1OTGIdauz3geZ+oemTk5PzRb9+/YbMnj0bS5Ys4YO7qSQcOXIkMjIyvpsxY8bBp/3FOCEhIZLqgbTi4mJpKEVn1l6g2HCcvFpNTc15b2/vTDHbwFMQWNfSxl7B7Irig5CVlWW2v5l/5H9y0Ptvsv2YnZ0thISEmOf8kUT5O+dr1TtlWW2ePwTeat6xJIY/Ct5M4L8CDADd5n9SL0lNMwAAAABJRU5ErkJggg==",brokenImg_small:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUZFMjU2OUM0QjI4MTFFMkJDMkU4RUREMjg3OEVCMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUZFMjU2OUQ0QjI4MTFFMkJDMkU4RUREMjg3OEVCMjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RkUyNTY5QTRCMjgxMUUyQkMyRThFREQyODc4RUIyMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RkUyNTY5QjRCMjgxMUUyQkMyRThFREQyODc4RUIyMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuqVBnIAAATpSURBVHjarFV9TNRlHP/87v04zuMEhDsQEATithNEjRcnIqSHprxo09VUEC3zj5zNLG211lpuDVtzOWvWrOZcm6tpBkvI0HaKpFlwJcIhd8DxKl2Hx8u9cff0/R1YHqNWW8/2+T3P8/09z+f7fb7P5/v7cfir7ScI8d+an1BH6HrUyBgLWbSfDE6C79/A55qYGuzrfqBUhr9Je1NnE4tmRSB2e9yiWx2/QyEXg3fs9njh9/vh8U73Xp8PzB/AuMuLLYXp86wWy5G4+IVCj8dzhvZ3PCSaTcz9eM+Bguc/R4RaBlW4FPPkEigV0uBYLBDA4ZrCKn0cPqq7g3CFEmWr08VWq/UVnU4nGh0d/Yw47oYQa7TaWLfbJVmi4bC+SI/yXC3UCjECFHYgwCjSAPwCCaoMqai/cBYvnauGZ9wzvVejEfX22g5mL80U3Ouy8OR3uJmc6FvN5uas9PQwfm4bGcYXzZPotPRBKuIwRUf3QYIju3Ow/YnHYbxxC3k5y1HbdAtfX2zCA8dv0EYpkLRAPrYid+UbxPeegB5Zza2t13jS7w0G1BcWYmF0DMqyOMjnR8E0MI4Oux8HK3OwrSgbsvZODFZVQWm+hw35y5G1Kh9n2+S40jEBj3tS+mdSjUajkw+6yWBg7bt2sV8qK9nFwkJeL6zTamY1DXY2OMXY0swMZlCr2N0dO5hp505mq65m66RitnqZjplHGDt+wUQxMjfte5FXhSAjI+Mm7+Ci2cznBK6pKSQlJKCuaA1SF6Vh7aIRFOnTEN83hOObyjAeCATz3n//Pho8Prz29lFcahmETBKqAkFkZOST5KH+nf5+nLh8GUqRCG6SVXz8QlwqLkZW6mNId4yhZmMpxsgeVAaR5tbW4qqxEY6YtbAOOKBRhYUScxzHX22pra+v7RxFU1NfHyT3EokmLg7GigocLSnBGJ1EQqT24WGsoTXGpmvwLliJ/v4hxKnFkMrEIcRBuRG5l7qPKfKaiMhIob+xEa+uXw8nx0Eik2GMXsokEtgHBlDc0IC2ti5IYpJh6weyE5Lh9jJEhruDApurQPi6943a7UJyBM2pU8iYMfJNQdhGeOv9D3Bd/B2ePZgCmWD66yJVClGcvh1fpn2KuYj5s0hEKhXKaVBA4OUSeGThJ4RdL+zDjRsmnDz8Ia6aGiEXhkEukFOx+ENzPFMgYYMOx76wqChBudOJ3WQbJ8gJfBrmzThQEU4T8vKWYHG3Dos1abhp/QHXu4ywTw6FEhMpf8pvNWp1yia7Hc+Fh4OLj0eEVhv8ouzlhcmTyuWQkQxjY2ODka8rKUCufTUqsrfA4XyACc9EKHFPT88Vyml+NU0O5edDRQqIzczET3RRL/MRk2Z1ZVux1+WCglQRXVAA/ebN+EooRGn5WizrXoqt2Vsx4hwJJR4aGkrkB3pCAklLq9fjm7o6HKb5rzYLVryrw7ZjTyG5ZAM2d3eD2WxI2rgRKTk5UPOpOUOXHJeBtOi00AqhVCS39/QM8sPjhGPTkmFztaeplKPoXbNGw+ZT/0xV1ewlroclLaI0WGiQZ+rs/HlJamoE74zK1pGQmHjC1tvreDQIs8VikIhEhtzTp1G9Zw/2HzhQS/sb//HnZTKZUlpaWnqot9y+fTuJTNK54HK5Xj9//jybnJw89Hdr+Ii52T++/6v9IcAACHxjGrCZJqsAAAAASUVORK5CYII=",maxBtn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARBAMAAABQu4N8AAAAHlBMVEVYWFhmZmZpaWliYmJUVFRbW1tfX1/l5eVra2szMzOUEp7mAAAAaElEQVQY02PowA4YlLADnOKCMCA5EwgmwngI8XIQQIgbQ4EhWHwyiAUWN4QC43KQnskgFgjA1UPFQSxhIGBIgwGw+DQgIxkkhyEOBQyhMAC2dyqQEYZFHM5jwASsYHFSgQsGcECIYwIACZtXpfywXDUAAAAASUVORK5CYII="},c.share={weibo:{disabled:!1,name:"\u65B0\u6D6A\u5FAE\u535A",limitLang:"zh-CN,zh-TW",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAACfklEQVQ4ja2ST2iTBxjGf++Xr0va2qqt02ntEkxo025DqUpjdeAOdj0YxIPgxYOKePHmwag77bDL0IlMKgoeeqgIQrapSOtFpFOc4GWb1n+kNqLWKNqmSZs03/fs4CplXjbcc3oP7/vjfZ/3gQ+U/dvGZ0f5POjSBeSGn3Ol6zsm/xNg4gQ/SGwyY5mEB+ycv4+L7wF+Wh4Org5VbwfWApeaHw5fBrhxCOezJrqAx8AuIFWu0OnOHR6Jtn4VMDsjKWxmJqkHiAFUnlQ3acn0cQJaAWw2Y01VgP3vNsjG4ruBk8Bc6J/AMeBrHC10GkqnardmI848byXwK7DXBRiNtm4DTkkyM0N/F5Lazey0JJlv5uWCi7yXwZTVFktmLJCYtNuRWPhj1/0dqLN5tdQkNxPs7CTwyRI0NUX5zh2K59NUMhmAa07jdLLp5sjEi2Os+cil3rKx+GlJu0Pru6zhyPfKuwHr7+9XLpezZDKpjo4O08yMXh/6xgrpn2Vmr3xpS/jRveuzt798umGjvEJBY2NjikQiAuQ4jlzX1dDQkCTJy08q2/aFsrG4srH41VmTHKAuuH6dnJoa+vr61NzcTG9vr3p6eqhUKhoYGHjrSSiIVVUJQFJ5LmBg5u6wyfdpbGy0RCJBPB63wcFBHMex7u5uzMwKZ8+hYtEAX3Dk3Z9+i0SbRqOt914dPKzym3E/lUqppaXFTyQSSqfTvlcoavz4j362pV2j0dZSNhbfMzc7BnBhebhuVaj6gNXX7wl9uWGxG/4UfJ9KZoTp6zdQPl8Cfsl73rftmQd/vAeY1dHFSwMrg6FVDYFAG1ALVMpS5n65dGvHsyf5f8b+f9FfksATEF5LDZgAAAAASUVORK5CYII=",api:function(e){var t="http://service.weibo.com/share/share.php?title="+e.title+"&url="+e.url+"&pic="+e.pic;return{url:t,wSize:{h:500,w:620}}}},t:{name:"\u817E\u8BAF\u5FAE\u535A",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAADL0lEQVQ4jXWTS2hcVQCGv3PuuffOTJJxEslkNElRm5hoRZOKjyKKSEWwqNWFWLsQqRbc1UfVLLoRXbgqiCh0IYoPaCnWWqlQN6mpIPXRaqkk9ZGOJS+SmQzjZO7j3HOOi4jFhR/8m3/5/3xC+H4YPLhzX//9j+zq6S1XfClBAI7/8k+nrWV1aXFubvLLT5JjH+xTwUNPvbHx8WdefPaW6+j0PSwObRyZsWhr0NaROkdqITaOyBhWK339Ybl/7+8gxYa3Plt9YeuW0om5OlFmcc4yWAjYNdLH7b1d5D1JtZVwtFrjSLWOEAIpBT6CXy78WleFru6SdNBopTgc2wa7eWlsgKmFJm/+eImldsqNPQV2DJW5u6/IxLeztBJLIiAf5PLKGEsr1cRxwmh3gYnNg7x2epbPZ2v/TnF6ocHB6UX23zPMxPgAz0/9hhCCzDohE21oRpp2onn6hgpfVescnF4kSzQ7h8u8Oj7AplKe2lrC3skZ7qhcwWBe0Y5SkkxIqbWhESVEUcLm3iKHp+eJ4pQnR/rYMz7IY0Nl3rlvlNBZLjbW+G6hwdiVnURxSpZlQqba0mglxLGmK/BYaETE7ZThYoix6w92+B7lUBHHmno7xXOOONboDCnraynzzTYrrYiZWotrijmaUcJwTxepMXhSMvVnnZN/LLPSjNhYKjC9/Be1VkQ91kI561htJxjj+PjnSxhreP3eUU5WV3jgwxn6i3l+mG+AEDx8fYWru3Icn1nAGAfOCiU8wZo2eL7i7e8v0tcR8MpdI4wdmKSVGZaXW3i+x45NA7y77WZ2f/ETLevwlMQ4nBICIuNQykM7x547hzhwtoq2jo+234on4barShRDn+eOn+PTC0soXwHg0tQpqQSpBBUosJat1/byxLGzdHaGnKiuUAwV75+f48xSk2ZqUDl/XQ0HRidWSavbTnoFP/DIedCT96mupeApjszWLoslPPycd1ky55Btk0h37tQhbTNyoWJDqYOltqazEFDI++TyAUHoE+Z8wlARBoowVHi+xDiDO//NYYEf5PxHd++XN23ZLrpKFZwDIdbzP7hmbc6c+fpQdvS9l/8GEfOFXVv7AEQAAAAASUVORK5CYII=",api:function(e){var t="http://v.t.qq.com/share/share.php?title="+e.title+"&url="+e.url+"&pic="+e.pic;return{url:t,wSize:{h:500,w:620}}}},qZone:{name:"QQ\u7A7A\u95F4",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAACD0lEQVQ4jbWQvWsTcRyHn7vf5bVJ2kaSplXQKL5QUUPzBzhUXBQcFRw6CAFBpzooFKRQkCIBxa3SoSCoOHXIInQSFBELRShC1b7Q1qTBNJdLTO5ydz8H29BgDTj42b7wfR4+fOB/xsjFs0Yunu30o3SAo8Dqznk4fGmrtN+f2kF+S0TCIREJh4Cb/9TAyMUDwKrnYCIGkuZGobjTot5RoM/GzgAx4KrWHcp4+k8jrXXsHzq2Xp0CXgLF7ivFTy1B4dWAqyAdQEP97VNUlej5xzjlHLI2D0B1pYS0baQEXBegAawpxecHksBc8OSFpLfvLGrgFLVnT7EWPlCtOViWxGpIjk8ebTU1t3TMrcoyMKwA5GeiCWDOn4gMBgZ6ABDx66CqfB4Zb4Prm2Ua+coiMJwYKeVbG6xP9USB18GB7vSu5OvYMscmkm3wz039I3DxUKZc+mPElSeRhOoR3/suT7KUuYPXr+DzKXQFBSIVwvBUcJtO/5Hblfwuo+0V2Kab1IQHM/+GEzOzALhmEdncpr70CPdLFdtsJoG/CWRKBAX1tffUvr3F3K4B4OvtQtUEEoFtyhTwbn+B5aa9rsBYK9PYNqrAQ8Cpbup3/b3hkKoJbMtN72XaBI7lpoyNkgNMA/fPPTDzAAv3fNO1gj4O3ABSe5nWiPOjXi/wAhgbylqL7JP5Ue8gMAFcG8paFsAvetnTGCl2Yn0AAAAASUVORK5CYII=",api:function(e){var t="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+e.title+"&pics="+e.pic+"&url="+e.url;return{url:t,wSize:{h:650,w:620}}}},fanfou:{name:"\u996D\u5426",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQ4jaWTXy4DURTGf9OOCkljTBNCiEksgB3oEliBLmF2oHYwVmC6Auyg3psYPJGIIqm0aXVkpI3SHA/HmDKtB77k5px7c+53/hvrlyLdIX/CfBbM1jtEnwS+A34HqlHa2MpCMa8HwH2ANwFzykgMdgvJ581Z8FbAMmFj5jtZpaNyygDDDkSe3qFUgEMn7bnyGVF9AEEPwpF0bRPM+OIuqjyNYCsPz0OYy05OKWEJRIpXIiIiXlOkdKu635aJKDdEqInYgUgmzr/Sgc0ZTeU0Us8x7gaw/6jnJzIAxyGU6hp69QWK14nBeV9luQFeU/Wg94PgN/htWMuBk4Nt6w8EXksLWl7WQp/3tSMxzHGfSoXEW0yyt6T6zs132xSBu6DtAzgJVdZfJ0c4NoWDlspqBN6qDthJqOEfrevbF+xAe0pNZ8C5SM9A3HfrTOS4q2/uvc6BkT8TicZso5MDZ1rDHy0aaH2qEQwB47/r/AEuq9/lRZUysAAAAABJRU5ErkJggg==",api:function(e){var t="http://fanfou.com/sharer/image?u="+e.url+"&t="+e.title+"&img_src="+e.pic;return{url:t,wSize:{h:550,w:650}}}},tieba:{name:"\u767E\u5EA6\u8D34\u5427",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQ4jaWTy2sTURTGfzOdSbFNpQRbX1DjYyPFlYyuogtFEcFtBSldFhc1IMFFQYpd+CjYhW4UXAkiRPSPUEEqiNKmPhKSSUIbzYM0bRaZV3JchMRE46b9Nvdwzz0/Pu53rxIyTGEH0gDefgxua/jMqTRqr0YibnNvvkhsxQLATDmYKacnpCfg2ZNNXj6v8vB+GTPlMHU1R/h6viekC1DZqLfr4UCzVSo29xxX2nWntFaRzbjMzRbx+1UeP93H4kKJi5eGGD/RTzgSoPPc2CH9DyFkmCIiEn1RkWMHEhIyTIktWyIiUqvVpaVU0pbJiTWZnFiTTNoREZGQYUrbQfCoj/0HNfaOamTSLgODCosPyvTpEL4Z4HW0yreYQ2WjTv6X13bRBhindxGOBCjkPY6P+5iZzpOM2+i6SrlU587dEZbe1yCos2ek7987ALh8xc/PnMetGwV+fLUBsKwGH97VmI0UWHg0SjbtcviIr3cKyYTLzHSeL5+b+XseaFpzXV1xmL9dYiyod450A95Et1hdtvG8v6LSoLrV4NOSRTbt9o4RQNPBthooqoLjgDQEG1BUBYBarUFu3fs/4NrUMLn1OvHvDruHVM6eH2g6e1WlutngpNHPuQuD3fZa72A7ChmmKDv9zr8BrHscNfGR3bQAAAAASUVORK5CYII=",api:function(e){var t="http://tieba.baidu.com/f/commit/share/openShareApi?title="+e.title+"&url="+e.url+"&pic="+e.pic;return{url:t,wSize:{h:600,w:630}}}},renren:{name:"\u4EBA\u4EBA\u7F51",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAC10lEQVQ4jXWTTWhUVxTHf/M+nSTjTCax+dAkxk5lGo2ttMUGBJt0FEFUsJa0i0JXQpFu7KLFgIsKUgpdlRYMFApZKtRNrYkLKYUKFiWQtgq1nUAmkGgMiZN5M++9e+/pIvURIv3DWdxz7v93uPdwUmySndk56O04esbJFYec3EuviY4jXZ2dUU+mbzbmfhqX+mJ5s2ddKcv2d42O5Y5cC/3PZ2T8VkVERMJYy/itimy5MC3Zw1eq3o6jZzbaHICU7aVbXr84pYffPvi02IZZ1ZhmGwDPsTDNNo32DPHp/S3+3xcvOzdfPRxMf/keYrQFkB44+616a+RgUGjDPAphvkZlNU66VFZjmF9DVzVBcRuU3jnt7xodA7DsXHHI3n/yw3p3HuYCWIogUDSUSQANZaCm4HEIcwGNrizpF0fHrPS2XsfvOfZR2L0VlgKoKxDAGCIjCSAyAsaA0lA1GGMIX+7y3IcjH1hO274RZblQ06AADSihVMgmgFIhC0qSGlVF7Pu4L7xxzLL81k4TGVAGjIAROtsdju9uTQDHd7fS2e4kdZRBa7CbuwpWynZsQgXarEeoKR3IPzfl0oE8hHrDPQWApYPH81ao/iMLfdtdJk70PQeYONFH33Z3/QlGsBsxOlgsW3p55menFoISero97pwbSEznr89y/vpscr5zboCebg+U4K41iB/99iN2rjiUOTkpg1/fl4VaJM+0UI0kf2pS8qcmZaG6IV+LZM9Xv0vuyLUwle7ot/TKg9v6n6mJfWFER5ObdBu+dI/lMMVymGL40r0k39HksjeOaZSvfCH1xbINoJ7cvVFe6T306/yW3j39Gd789DYPH6xBtgl8h6XyU77/pcIrOzOc/eYPpn64erX+5+WPQSSVoFOW7fe/+1m68P6FuuV5qiWNTnsA2EGEW6vj69pa/f53n0SVG+OJbfNvP1tnN7/3kL21fxBArfx19//W+V9oRmy7yi+Z7gAAAABJRU5ErkJggg==",api:function(e){var t="http://widget.renren.com/dialog/share?link="+e.url+"&title="+e.title+"&pic="+e.pic;return{url:t,wSize:{h:600,w:650}}}},douban:{name:"\u8C46\u74E3",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABj0lEQVQ4jZ2TzSuEURTGf/edUT42XiJFMY2o2RA1ioXUKDtssaEs/AHMzlZZTllMFnY2FsxOzAIxoRTJ1/iYKPmenWy8cyzueM1FwlmdTs95es5zn6uaIx2yc73Lf6q5shFF2JZ/bbsVtiU03SN/rdB0jxC2xQtwdJ9kfGkCBEAQ+V6UUsrtj26TIOScIBAorwcBETHAYM4O705AAQq874DWmiAbI4u/urptqovE1bZJ4GQcAM6fUnTP9H27GBucxV/qw3EcfW4ugWgDeHx+4uDmGCylZebU43Maf6nP8MglUFm0XVBMoKIePJ+2Abuw2MAaBF5Lt3VltRyMbv7ogdfjcXsjSCF/O8vD8wAEJlvIz8tHoXh5feFwdAuAzmgv8dMVfaKVowAgfrZKKn2Jr6Sa04cLXnG0UVl1qfQl8eSK4Y9laFMwtx8DYCg4oEEWDAX7AZjbW3BnHzaEbYlsRP8c5ch6VBjLRnktlaC8qAxEyIj8mEQrO187T+gou985gw6HCKivT/iJDZSiqaqBNySK8rrw6ad1AAAAAElFTkSuQmCC",api:function(e){var t="http://shuo.douban.com/%21service/share?href="+e.url+"&name="+e.title+"&image="+e.pic;return{url:t,wSize:{h:350,w:600}}}},facebook:{name:"Facebook",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAvVBMVEUAAAD///8OkPMPlPQMivEKhfAHfuwFd+oEcugCbOUVp/0To/sRmfYXq/7h8f0Ige36/P7s9f3G5/3b6vsSnvgSnfh0rfAdfugdqPsYpvsZo/ZKqvVmr/MhpfNEovMqmfN1svIXkPIWl/AJge4eh+0MeuUIbuHy+f7Y6/yl2vzb6/u53/vb6fpTufqZ0PltwPlCsfmw1fiKxvgUnvh3wPdet/ctpPZ/u/Vvs/RdrvQ0ofQvku4ckesXheccduSckMFkAAAAAXRSTlMAQObYZgAAAKBJREFUGNNFyFcWgkAQRNFqwyiKJMEsGcw5x/0vyx7mqPenXjcK4xYb42fQKAy+d1Pq93r9prpdz/MO25njrFwXLNbZ2SGija7HwLMsnSbWYj3kAEqFo2XcVaHComBPhh9EslFlN8Mmy5gOZcM0hRiRZPtmkph4CSEe1x3Zl1HKCSCrsZDmqdwMrM5CanfloqBpWocfPICSq0eOvw4t36o+GHANGQygnDcAAAAASUVORK5CYII=",api:function(e){var t="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.url)+"&t="+e.title;return{url:t,wSize:{h:436,w:626}}}},twitter:{name:"Twitter",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAllBMVEUAAAAcmu98gIMdme58gINGjsBgh6MUnPceme1gh6Jkhp5phpgSnfoXnPURnfsXm/Qhmekjl+chl+hgiKNeiKRtg5Jlhpt3gogUnPgcmvAUnPgYnPMRnPsemewVnPUmluI1k9I7kcsplt8xlNg0ktJFj8E1kdFSi7Fhh6JFj8E9kMhWiq0dmu4cmvAXm/USnfobm/ENnv8KO1KbAAAALHRSTlMA/QP6BVIl/vhAHA/38e3iwpyRUDIVCQjy7+TZz8y0p5KEe3NsX05JRzksIGD09Y0AAACcSURBVBjTZY4HDsMwCEVxbGfv2b13sZ3e/3IlSdtE6pOQHh8JgB+iER+zqEYbsYsSoO7kRCMB51CH2/xBgffaVQBBhC6qxR1IlzrZexeNjLeHbo2/cVGbCJXiWvZBjJwjKsbQKSkQIBPOCErWor9dr1qmlGLcSBi4phwZc3U2tEHlH+cclcma4dNnHhvHmaVy8rRX3Gz4w5o68fU3RC4LI5L0wcgAAAAASUVORK5CYII=",api:function(e){var t="https://twitter.com/intent/tweet?url="+e.url+"&text="+e.title;return{url:t,wSize:{h:350,w:600}}}},pinterest:{name:"Pinterest",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAq1BMVEUAAADkABfmASPkAB7////kABTmBCbmASDkABv97O/nGjnnDy/lARv61tv60NfuU2rsNFHpHz3tFzfnCCrvAiTwASPiASH73uP5xs73ucLqPljqKkfoFjTmCyz+9ff2prH0k6LzkJzxc4fvZ3zsRF7mAB7jAAv++fv++fr97/H86Oz86Ov74uf62d72rrn2qbT1nqz0m6jygJPyfY7xe4ztTGXtSmLrPFfsLUuclYq1AAAAAXRSTlMAQObYZgAAAL1JREFUGNM9jteywjAQQ73FLXY6aSShw+29/v+X4UmA87SakVYSE8u8LPOluBEpDKjoqhcE4D0ALWZd1eZv3Tx3qa6ryU/mm5PtNuYPNEX4p+DAn1Ke/Ib3oIXIEboX2CU9OJsQZWJE87TRK/4FbG1JTiiE+A0fVgOppkHtQkTuOHrsQPb8DiGSoS6/fjgZh/a+N8epVp32HNs7m3oq5mF+bV2aDqauLtMhfpVSUph+oWgPUulj8N/4H102X2eAaAyI9S5e9gAAAABJRU5ErkJggg==",api:function(e){var t="https://pinterest.com/pin/create/button/?url="+e.url+"&media="+encodeURIComponent(e.pic)+"&description="+encodeURIComponent(e.title);return{url:t,wSize:{h:350,w:600}}}}},typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)==e});const Ne=new Map;if(!oe.firefox){const e=new Proxy(fe.CanvasRenderingContext2D.prototype.drawImage,{apply:function(i,a,l){let s=l[0];return s&&s.src&&(a.canvas.dataset.src=s.src),i.apply(a,l)}});fe.CanvasRenderingContext2D.prototype.drawImage=e;const t=new Proxy(fe.URL.createObjectURL,{apply:function(i,a,l){const s=l[0],n=i.apply(a,l);return Ne.set(n,s),n}});fe.URL.createObjectURL=t}function lt(e,t,i,a){be(e,(l,s)=>{if(l)try{saveAs(l,(c.saveNameAddTitle?u.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - ":"")+x(e,t,i,s))}catch{$(e,t,i),a&&a()}else $(e,t,i),a&&a()})}function Ct(e){return Ne.get(e)||null}function Rt(e,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(a){t(a.target.result)},i.onerror=function(a){t(null)}}async function At(e){let t=Ct(e);return t?new Promise(i=>{Rt(t,a=>{i(a)})}):""}var kt=u.createElement("span");kt.style&&(kt.style.visibility="hidden",kt.style.whiteSpace="nowrap");function Gt(e,t,i){if(!kt.style)return 230;kt.style.fontSize=t||"inherit",kt.style.fontFamily=i||"inherit",kt.innerText=e,Le(u).appendChild(kt);let a=kt.offsetWidth;return Le(u).removeChild(kt),a}function Ut(e){var t=e.toString();return t=t.substring(t.indexOf("/*")+3,t.lastIndexOf("*/")),t}function Tt(e,t){if(e){if(e instanceof RegExp)return e;if(t)return new RegExp(e,t);if(e instanceof Array)return new RegExp(e[0],e[1]);if(typeof e=="string")return e.indexOf("*")!=-1&&e.indexOf(".*")==-1&&(e=Wt(e)),new RegExp(e)}else return e}function Wt(e){if(e.source)return e.source;var t=e.replace(/[()\[\]{}|+.,^$?\\]/g,"\\$&").replace(/\*+/g,function(i){return i==="*"?".*":"[^/]*"});return"^"+t+"$"}function Et(e){return e.startsWith("./")||e.startsWith("//")||e.startsWith("id(")}function Bt(e,t,i){var a;if(!e||!t)return a;i=i||u;var l=typeof e;return l=="string"?Et(e)?a=ne(e,t,i):a=t.parentNode.querySelector(e):l=="function"&&(a=e(t,i)),a}function Ht(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function b(){u.exitFullscreen?u.exitFullscreen():u.msExitFullscreen?u.msExitFullscreen():u.mozCancelFullScreen?u.mozCancelFullScreen():u.webkitExitFullscreen&&u.webkitExitFullscreen()}function ce(){var e=0,t=G.screen,i=navigator.userAgent.toLowerCase();return G.devicePixelRatio!==void 0?e=G.devicePixelRatio:~i.indexOf("msie")?t.deviceXDPI&&t.logicalXDPI&&(e=t.deviceXDPI/t.logicalXDPI):G.outerWidth!==void 0&&G.innerWidth!==void 0&&(e=G.outerWidth/G.innerWidth),e&&(e=Math.round(e*100)),e}function me(e){var t=e.getBoundingClientRect(),i=fe.getComputedStyle(e),a=parseFloat,l=t.top+a(i.borderTopWidth),s=t.right-a(i.borderRightWidth),n=t.bottom-a(i.borderBottomWidth),d=t.left+a(i.borderLeftWidth);return{top:l,right:s,bottom:n,left:d,width:s-d,height:n-l}}function ke(){var e=u.documentElement,t=Le(u),i=u.compatMode=="BackCompat";return{h:i?t.clientHeight:e.clientHeight,w:i?t.clientWidth:e.clientWidth}}function F(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:"scrollX"in G?G.scrollX:"pageXOffset"in G?G.pageXOffset:u.documentElement.scrollLeft||Le(u).scrollLeft,y:"scrollY"in G?G.scrollY:"pageYOffset"in G?G.pageYOffset:u.documentElement.scrollTop||Le(u).scrollTop}}function ne(e,t,i){return i=i||u,t=t||i,i.evaluate(e,t,null,9,null).singleNodeValue}function h(e,t){t=t||u.createElement("div"),e="on"+e;var i=e in t;if(!i){t.setAttribute||(t=u.createElement("div"));var a;t.hasAttribute(e)||(a=!0,t.setAttribute(e,"return;")),i=typeof t[e]=="function",a&&t.removeAttribute(e)}return i}function he(e,t){var i=/^[A-Z]/.test(e)?["","WebKit-","O-","Moz-","MS-"]:["","webkit-","o-","moz-","ms-"],a=0,l,s;for(t=t||u.createElement("div");typeof(l=i[a++])<"u";)if(s=(l+e).replace(/-([A-z])/g,function(n,d){return d.toUpperCase()}),s in t)return s}function Oe(e,t,i){i!==!1&&(i=!0),e=e.toLowerCase();var a=["","-webkit-","-o-","-moz-","-ms-"];t=t||u.createElement("div");var l=t.style,s;try{for(var n=0,d=a.length;n<d;n++){var v=!0;if(s=(a[n]+e).replace(/-([a-z])/g,function(C,m){return m=m.toUpperCase(),v&&(v=!1,i||(m=m.toLowerCase())),m}),s in l)return s}}catch{}if(i)return Oe(e,t,!1)}function r(e,t,i){var a=["","-webkit-","-o-","-moz-","-ms-"];i=i||u.createElement("div");var l=i.style;if(!l)return!1;for(var s,n=0,d=a.length;n<d;n++)if(s=a[n]+t,l[e]=s,l[e]==s)return s}function D(e,t,i){function a(){return"data-"+t.replace(/[A-Z]/g,function(s){return"-"+s.toLowerCase()})}if(typeof i>"u"){if(e.dataset)i=e.dataset[t];else{var l=a();e.hasAttribute(l)&&(i=e.getAttribute(l))}return i}else e.setAttribute(a(),i)}function te(e){if(!(!floatBar.shown||floatBar.data.img!=e)){var t=u.createEvent("MouseEvent"),i=e.getBoundingClientRect();t.initMouseEvent("mouseover",!0,!0,G,0,i.left+10,i.top+10,i.left+10,i.top+10,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}!oe.firefox&&!oe.opera&&!oe.ie&&!pe.supportGM&&(function(){u.addEventListener("picViewer-return-unsafeWindow",function(t){fe=t.detail},!0);var e=u.createElement("script");e.textContent="("+(function(){var t=u.createEvent("CustomEvent");t.initCustomEvent("picViewer-return-unsafeWindow",!1,!1,G),u.dispatchEvent(t)}).toString()+")()",u.head.appendChild(e)})();function g(e){console&&console.error&&console.error(e.message+`

`+(e.stacktrace?e.stacktrace:"")+`

`,e)}function U(e,t){var i,a=Array.isArray(e)?[]:{};for(var l in e)e.hasOwnProperty(l)&&(i=e[l],!t||typeof i!="object"||i===null||i.nodeType?a[l]=i:a[l]=U(i,t));return a}function K(e,t){if(!D(e,"pvFlashing")&&e.offsetHeight!=0){D(e,"pvFlashing","1");var i=e.style.outline,a=e.style.outlineOffset,l=e.style.opacity,s=e.style[Ie.cssTransform],n=0,d=Date.now();t=t||1200;var v=setInterval(function(){var C="none",m=0,T=.3,M="";n%2==0?(C="5px dashed rgba(255,0,0,0.95)",T=.95,m="1px",M="scale(1.1)"):Date.now()-d>t&&(clearInterval(v),C=i,T=l,m=a,M=s,e.removeAttribute("data-pv-flashing")),e.style.outline=C,e.style.outlineOffset=m,e.style.opacity=T,e.style[Ie.cssTransform]=M,n++},80)}}var Ie={cssTransform:Oe("transform"),cssCursorValue:{zoomIn:r("cursor","zoom-in"),zoomOut:r("cursor","zoom-out"),grab:r("cursor","grab"),grabbing:r("cursor","grabbing")}},Me={Cubic:{easeInOut:function(e,t,i,a){return-i/2*(Math.cos(Math.PI*e/a)-1)+t}}},Ae=(function(){var e,t=[],i=[],a=18e4;function l(){for(var n=Date.now(),d=0,v=t.length,C;d<v;d++)C=t[d],C()&&(t.splice(d,1),i.splice(d,1),d--,v--);t.length==0&&(clearInterval(e),e=null)}var s=function(n,d){if(/NodeList|HTMLCollection/.test(Object.prototype.toString.call(n))||Array.isArray(n)){ue.forEach.call(n,function(st,It,pt){st instanceof HTMLImageElement&&s(st,d)});return}if(!(n instanceof HTMLImageElement)){var v=u.createElement("img");v.src=n,n=v,v=null}var C,m,T,M,p,I,E;C=d.ready,m=d.load,T=d.error,M=d.loadEnd,p=d.abort,I=d.timeout,E=typeof d.time=="number"?d.time:0,E&&setTimeout(function(){re||(w=!0,Re(),n.src=c.icons.brokenImg_small,I&&I.call(n,{target:n,type:"timeout"}),re=!0,M&&M.call(n,{target:n,type:"timeout"}))},E);var X=n.src,re;function Y(st,It){switch(st){case"load":Re(),Y("ready"),m&&m.call(n,It),re||(re=!0,M&&M.call(n,It)),t=t.filter(function(pt){return pt!==ye}),i=i.filter(function(pt){return pt!==X});break;case"ready":{if(!C||ye.done)return;ye.done=!0,C.call(n,{target:n,type:"ready"})}break;case"error":Re(),T&&T.call(n,It),re||(re=!0,M&&M.call(n,It));break}}var w,q={img:n,abort:function(){re||(t=t.filter(function(st){return st!==ye}),i=i.filter(function(st){return st!==X}),w=!0,Re(),n.src=c.icons.brokenImg_small,p&&p.call(n,{target:n,type:"abort"}),re=!0,M&&M.call(n,{target:n,type:"abort"}))}};function ye(){if(re||w)return!0;if(!(n.naturalWidth==0||n.naturalHeight==0))return Y("ready"),!0}function de(st){w||Y("load",st)}function Se(st){w||Y("error",st)}function Re(){n.removeEventListener("load",de,!0),n.removeEventListener("error",Se,!0)}if(n.complete)return/^data/.test(n.src)||typeof n.width=="number"&&n.width&&n.height?setTimeout(function(){w||Y("load",{type:"load",target:n})},0):setTimeout(function(){w||Y("error",{type:"error",target:n})},0),q;if(n.addEventListener("error",Se,!0),n.addEventListener("load",de,!0),C){var _e=i.indexOf(X);_e==-1?(i.push(X),ye.startTime=Date.now(),t.push(ye)):t[_e].startTime=Date.now(),e||(e=setInterval(l,66))}return q};return s})(),Pe=(function(){function e(){var i="DOMMouseScroll";return h("wheel")?i="wheel":h("mousewheel")&&(i="mousewheel"),i}var t;return function(i,a,l){t||(t=e()),i.addEventListener(t,function(s){var n=s.type,d;if(n!="wheel"){d={};for(var v in s)d[v]=s[v];d.type="wheel",d.deltaX=0,d.deltaY=0,d.deltaZ=0,d.deltaMode=1,d.preventDefault=s.preventDefault.bind(s),d.stopPropagation=s.stopPropagation.bind(s);var C=0,m=0;typeof s.axis=="number"?s.axis==2?m=s.detail:C=s.detail:typeof s.wheelDeltaY>"u"||s.wheelDeltaY!=0?m=-s.wheelDelta/40:C=-s.wheelDelta/40,d.deltaY=m,d.deltaX=C}a.call(this,d||s)},{passive:!1,capture:l||!1})}})(),Lt=(function(){function e(){return{mouseleave:h("mouseleave"),mouseenter:h("mouseenter")}}var t,i={mouseleave:"mouseout",mouseenter:"mouseover"};return function(a,l,s){t||(t=e()),t[a]&&!(a=="mouseenter"&&G.chrome)?l.addEventListener(a,s,!1):l.addEventListener(i[a],function(n){var d=n.relatedTarget;this.contains(d)||s.call(this,n)},!0)}})();function je(){this.init()}var we,vt;je.prototype={init:function(){this.addStyle();var e=u.createElement("span");this.gallery=e,e.className="pv-gallery-container",e.tabIndex=1,e.innerHTML=xe('<span class="pv-gallery-head"><span class="pv-gallery-head-float-left"><span title="'+o("picInfo")+'" class="pv-gallery-head-left-img-info"><span class="pv-gallery-head-left-img-info-resolution" title="'+o("resolution")+'">0 x 0</span><span class="pv-gallery-head-left-img-info-count" title="'+o("picNum")+'">\uFF081 / 1\uFF09</span><span class="pv-gallery-head-left-img-info-scaling" title="'+o("scaleRatio")+'">\uFF08100%\uFF09</span><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-head-left-img-info-description" title="'+o("picNote")+'"></span><div class="pv-gallery-range-box"><input type="range" id="minsizeW" min="0" max="100" value="0" title="Width" /> <span id="minsizeWSpan">0px</span> <input type="range" id="minsizeH" min="0" max="100" value="0" title="Height" /> <span id="minsizeHSpan">0px</span><select id="pinSize"><option value="" disabled selected>'+o("size")+'</option><option value="0">'+o("all")+'</option><option value="512x512">'+o("bigSize")+'</option><option value="0-256x0-256">'+o("iconSize")+'</option></select></div><span class="pv-gallery-head-left-lock-icon" title="'+o("lockSizeTip")+'"></span><span class="pv-gallery-head-left-filter-icon" title="'+o("urlFilterTip")+'"></span></span></span><span title="'+o("exitCollectionTip")+'" class="pv-gallery-head-command pv-gallery-head-command-exit-collection"><span class="pv-gallery-head-command"><span>'+o("exitCollection")+'</span></span><span class="pv-gallery-vertical-align-helper"></span></span><span title="'+o("loadAllTip")+'" class="pv-gallery-head-command pv-gallery-head-command-nextPage"><div class="pv-gallery-head-command"><span>'+o("loadAll")+'</span></div><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-container"><span class="pv-gallery-head-command pv-gallery-head-command-collect"><span class="pv-gallery-head-command-collect-icon"></span><span class="pv-gallery-head-command-collect-text"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-collect"><span title="'+o("collectDetailTip")+'" class="pv-gallery-head-command-drop-list-item pv-gallery-head-command-drop-list-item-collect-description"><span>'+o("collectDetail")+'\uFF1A</span><textarea data-prefs="description" cols="25" rows="5"></textarea></span></span></span><span class="pv-gallery-head-command-container"><span title="'+o("playSlide")+'" class="pv-gallery-head-command pv-gallery-head-command-slide-show"><span class="pv-gallery-head-command_overlayer"></span><span class="pv-gallery-head-command-slide-show-button"><span class="pv-gallery-head-command-slide-show-button-inner"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-slide-show-countdown" title="'+o("countDown")+'"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-slide-show"><span class="pv-gallery-head-command-drop-list-item" title="'+o("slideGapTip")+'"><input class="pv-gallery-head-command-drop-list-slide-show-interval" data-prefs="interval" step="1" min="1" type="number" value="5" /><span>'+o("slideGap")+'</span></span><span class="pv-gallery-head-command-drop-list-item"  title="'+o("slideBackTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-backward" data-prefs="backward" type="checkbox" /><label for="pv-gallery-head-command-drop-list-item-slide-show-backward">'+o("slideBack")+'\u3000\u3000\u3000</label></span><span class="pv-gallery-head-command-drop-list-item"><input id="pv-gallery-head-command-drop-list-item-slide-show-random" data-prefs="random" type="checkbox" /><label for="pv-gallery-head-command-drop-list-item-slide-show-random">'+o("slideRandom")+'\u3000\u3000\u3000</label></span><span class="pv-gallery-head-command-drop-list-item"  title="'+o("slideWaitTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-wait" data-prefs="wait" type="checkbox" checked="checked" /><label for="pv-gallery-head-command-drop-list-item-slide-show-wait">'+o("slideWait")+'</label></span><span class="pv-gallery-head-command-drop-list-item"  title="'+o("slideSkipErrorTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-skipErrorImg" data-prefs="skipErrorImg" type="checkbox" checked="checked" /><label for="pv-gallery-head-command-drop-list-item-slide-show-skipErrorImg">'+o("slideSkipError")+'</label></span></span></span><span class="pv-gallery-head-command-container"><span title="'+o("typeTip")+'" class="pv-gallery-head-command pv-gallery-head-command-category"><span>'+o("type")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-category"></span></span><span class="pv-gallery-head-command-container"><span title="'+o("commandTip")+'" class="pv-gallery-head-command pv-gallery-head-command-others"><span>'+o("command")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-others"><span class="pv-gallery-head-command-drop-list-item" data-command="enterCollection" title="'+o("viewCollectionTip")+'">'+o("viewCollection")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="psImage" title="'+o("onlineEditTip"," "+c.gallery.editSite+" ")+'">'+o("onlineEdit")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="downloadImage" title="'+o("downloadImageTip")+'">'+o("downloadImage")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="postImagesToAria2" title="'+o("post2Aria2")+'">'+o("post2Aria2")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="exportImages" title="'+o("exportImagesTip")+'">'+o("exportImages")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="copyImages" title="'+o("copyImagesUrlTip")+'">'+o("copyImagesUrl")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="cookie">Cookie</span><span class="pv-gallery-head-command-drop-list-item" data-command="scrollIntoView" title="'+o("findInPageTip")+'">'+o("findInPage")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openInNewWindow" title="'+o("openInNewWindowTip")+'">'+o("openInNewWindow")+'</span><span class="pv-gallery-head-command-drop-list-item">'+o("rotate")+' <select id="galleryRotate"><option value="0">0\xB0</option><option value="90">90\xB0</option><option value="180">180\xB0</option><option value="270">270\xB0</option></select></span><span class="pv-gallery-head-command-drop-list-item" title="'+o("autoRefreshTip")+'"><label data-command="scrollToEndAndReload">'+o("autoRefresh")+'</label><input type="checkbox"  data-command="scrollToEndAndReload"/></span><span class="pv-gallery-head-command-drop-list-item" data-command="urlFilter" title="'+o("urlFilterTip")+'">'+o("urlFilter")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="addImageUrls" title="'+o("addImageUrlsTips")+'">'+o("addImageUrls")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openImages" title="'+o("openImagesTips")+'">'+o("openImages")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="operate" title="'+o("fiddleTip")+'">'+o("fiddle")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="viewmore">'+o("viewmore")+'</span><span id="pv-gallery-fullscreenbtn" class="pv-gallery-head-command-drop-list-item" data-command="fullScreen">'+o("enterFullsc")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openPrefs">'+o("openConfig")+'</span></span></span><span class="pv-gallery-head-command-container"><span title="'+o("headSearchTip")+'" class="pv-gallery-head-command pv-gallery-head-command-search"><span>'+o("headSearchTip")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-search"><span class="pv-gallery-head-command-drop-list-item" id="headSearchAll" data-command="headSearchAll">'+o("headSearchAll")+'</span></span></span><span class="pv-gallery-head-command-container"><span title="'+o("share")+'" class="pv-gallery-head-command pv-gallery-head-command-share"><span>'+o("share")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-share"></span></span><span title="'+o("closeGallery")+'" class="pv-gallery-head-command pv-gallery-head-command-close"></span></span><span class="pv-gallery-body"><span class="pv-gallery-img-container"><span class="pv-gallery-img-content"><span class="pv-gallery-img-parent"><img title="'+o("refreshWhenError")+'" class="pv-gallery-img_broken" src="'+c.icons.brokenImg+'" /></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-img-controler pv-gallery-img-controler-pre"></span><span class="pv-gallery-img-controler pv-gallery-img-controler-next"></span><span class="pv-gallery-scrollbar-h pv-gallery-img-scrollbar-h"><span class="pv-gallery-scrollbar-h-track pv-gallery-img-scrollbar-h-track"><span class="pv-gallery-scrollbar-h-handle pv-gallery-img-scrollbar-h-handle"></span></span></span><span class="pv-gallery-scrollbar-v pv-gallery-img-scrollbar-v"><span class="pv-gallery-scrollbar-v-track pv-gallery-img-scrollbar-v-track"><span class="pv-gallery-scrollbar-v-handle pv-gallery-img-scrollbar-v-handle"></span></span></span><span class="pv-gallery-sidebar-toggle" title="'+o("switchSlide")+'"><span class="pv-gallery-sidebar-toggle-content">\u25BC</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-sidebar-viewmore" title="'+o("viewmore")+'"><span class="pv-gallery-sidebar-viewmore-content">\u271A</span><span class="pv-gallery-vertical-align-helper"></span></span></span><span class="pv-gallery-sidebar-container" unselectable="on"><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-content" ><span class="pv-gallery-sidebar-controler pv-gallery-sidebar-controler-pre"></span><span class="pv-gallery-sidebar-controler pv-gallery-sidebar-controler-next"></span><span class="pv-gallery-sidebar-thumbnails-container"></span><span class="pv-gallery-scrollbar-h pv-gallery-thumb-scrollbar-h"><span class="pv-gallery-scrollbar-h-track pv-gallery-thumb-scrollbar-h-track"><span class="pv-gallery-scrollbar-h-handle pv-gallery-thumb-scrollbar-h-handle"></span></span></span><span class="pv-gallery-scrollbar-v pv-gallery-thumb-scrollbar-v"><span class="pv-gallery-scrollbar-v-track pv-gallery-thumb-scrollbar-v-track"><span class="pv-gallery-scrollbar-v-handle pv-gallery-thumb-scrollbar-v-handle"></span></span></span></span></span><span class="pv-gallery-maximize-scroll"><span class="pv-gallery-maximize-container"></span></span><span class="pv-gallery-tipsWords"></span><span class="pv-gallery-urls-textarea"><textarea></textarea><span class="pv-gallery-urls-textarea-close"></span><span class="pv-gallery-urls-textarea-download">'+c.icons.downloadSvgBtn+"</span></span></span>"),u.documentElement.appendChild(e);let t=Bricks({container:".pv-gallery-maximize-container",packed:"data-packed",sizes:[{columns:2,gutter:10},{mq:"600px",columns:3,gutter:10},{mq:"800px",columns:4,gutter:10},{mq:"1000px",columns:5,gutter:10},{mq:"1130px",columns:6,gutter:12}]});this.bricksInstance=t,fe.bricksInstance=this.bricksInstance,this.hideScrollStyle=u.createElement("style"),this.hideScrollStyle.textContent="html {-ms-overflow-style: none; scrollbar-width: none;}html::-webkit-scrollbar { width: 0 !important; height: 0 !important; }",this.hideScrollStyle.type="text/css";var i=this,a=u.createElement("style");this.hideBodyStyle=a,a.textContent='body>*:not([class^="pv-"]) img,body>img{display:none}';var l=e.querySelector("#minsizeH"),s=e.querySelector("#minsizeW");this.sizeInputH=l,this.sizeInputW=s,s.oninput=function(){i.changeMinView()},l.oninput=function(){i.changeMinView()},e.querySelector("#minsizeWSpan").onclick=function(){var _=G.prompt("Width:",s.value);_&&(s.value=_,i.changeMinView())},e.querySelector("#minsizeHSpan").onclick=function(){var _=G.prompt("Height:",l.value);_&&(l.value=_,i.changeMinView())};var n=e.querySelector("#pinSize");n.addEventListener("change",function(_){let ee=_.target.value.split("x");if(ee.length!==2){i.lockMaxSize=null,l.value=0,s.value=0,i.changeMinView(),d.style.filter="",d.title=o("lockSizeTip");return}let se=ee[0].split("-"),Ee=ee[1].split("-"),Fe=parseInt(se[0]),Ye=parseInt(se[1]||0),Qe=parseInt(Ee[0]),Ve=parseInt(Ee[1]||0);l.value=Qe,s.value=Fe,Ye&&Ve?(i.lockMaxSize={w:Ye,h:Ve},d.style.filter="brightness(5)",d.title=Ye+" x "+Ve):(i.lockMaxSize=null,d.style.filter="",d.title=o("lockSizeTip")),i.changeMinView()}),this.pinSize=n,this.sizeMap={};var d=e.querySelector(".pv-gallery-head-left-lock-icon");d.onclick=function(){if(i.lockMaxSize)i.lockMaxSize=null,i.changeMinView(),d.style.filter="",d.title=o("lockSizeTip");else{var _,ee;_=G.prompt("Max Width:",s.max),_&&(ee=G.prompt("Max Height:",l.max)),ee&&(i.lockMaxSize={w:_,h:ee},i.changeMinView(),d.style.filter="brightness(5)",d.title=_+" x "+ee)}i.lockMaxSize?(pe.setListItem("maxSize",location.hostname,i.lockMaxSize),i.curDefaultSize={h:l.value,w:s.value}):(pe.setListItem("maxSize",location.hostname,""),i.curDefaultSize=""),pe.setListItem("minSize",location.hostname,i.curDefaultSize)};var v=u.createElement("span");this.maximizeTrigger=v,v.innerHTML=xe("-"+o("returnToGallery")+'-<span class="pv-gallery-maximize-trigger-close" title="'+o("closeGallery")+'"></span>'),v.className="pv-gallery-maximize-trigger",Le(u).appendChild(v),e.querySelector("#galleryRotate").addEventListener("focus",function(_){E["head-command-drop-list-others"].classList.add("focus")}),e.querySelector("#galleryRotate").addEventListener("blur",function(_){E["head-command-drop-list-others"].classList.remove("focus")}),e.querySelector("#galleryRotate").addEventListener("change",function(_){i.galleryRotate=_.target.value,i.fitToScreen()});var C=["top","right","bottom","left"],m=c.gallery.sidebarPosition;C.indexOf(m)==-1&&(m="bottom"),this.sBarPosition=m,this.selectedClassName="pv-gallery-sidebar-thumb_selected-"+m;var T="v",M=!1;(m=="top"||m=="bottom")&&(T="h",M=!0),this.sBarDirection=T,this.isHorizontal=M;var p="pv-gallery-",I=["head","head-left-img-info","head-left-img-info-description","head-left-img-info-resolution","head-left-img-info-count","head-left-img-info-scaling","head-command-close","head-command-nextPage","head-command-slide-show","head-command-slide-show-button-inner","head-command-slide-show-countdown","head-command-collect","head-command-exit-collection","head-command-urlFilter","head-command-drop-list-category","head-command-drop-list-others","head-command-drop-list-share","head-command-drop-list-slide-show","head-command-drop-list-slide-show-interval","head-command-drop-list-collect","head-command-drop-list-search","body","img-container","img-scrollbar-h","img-scrollbar-h-handle","img-scrollbar-h-track","img-scrollbar-v","img-scrollbar-v-handle","img-scrollbar-v-track","thumb-scrollbar-h","thumb-scrollbar-h-handle","thumb-scrollbar-h-track","thumb-scrollbar-v","thumb-scrollbar-v-handle","thumb-scrollbar-v-track","img-content","img-parent","img_broken","img-controler-pre","img-controler-next","sidebar-toggle","sidebar-toggle-content","sidebar-viewmore","sidebar-viewmore-content","maximize-container","tipsWords","sidebar-container","sidebar-content","sidebar-controler-pre","sidebar-controler-next","sidebar-thumbnails-container"],E={};this.eleMaps=E,I.forEach(function(_){E[_]=e.querySelector("."+p+_)});var X=["img-container","sidebar-toggle","sidebar-viewmore","sidebar-container","sidebar-thumbnails-container"];X.forEach(function(_){E[_].classList.add(p+_+"-"+m)});var re=["sidebar-toggle","sidebar-toggle-content","sidebar-viewmore","sidebar-viewmore-content","sidebar-container","sidebar-content","sidebar-controler-pre","sidebar-controler-next","sidebar-thumbnails-container"];re.forEach(function(_){E[_].classList.add(p+_+"-"+T)});var Y=new this.Scrollbar({bar:E["img-scrollbar-h"],handle:E["img-scrollbar-h-handle"],track:E["img-scrollbar-h-track"]},E["img-content"],!0);this.imgScrollbarH=Y;var w=new this.Scrollbar({bar:E["img-scrollbar-v"],handle:E["img-scrollbar-v-handle"],track:E["img-scrollbar-v-track"]},E["img-content"],!1);this.imgScrollbarV=w;var q;M?q=new this.Scrollbar({bar:E["thumb-scrollbar-h"],handle:E["thumb-scrollbar-h-handle"],track:E["thumb-scrollbar-h-track"]},E["sidebar-thumbnails-container"],!0):q=new this.Scrollbar({bar:E["thumb-scrollbar-v"],handle:E["thumb-scrollbar-v-handle"],track:E["thumb-scrollbar-v-track"]},E["sidebar-thumbnails-container"],!1),this.thumbScrollbar=q,i=this;var ye={rule:{shown:!0,count:0,description:o("advancedRulesTip"),name:o("advancedRules")},tpRule:{shown:!0,count:0,description:o("tpRulesTip"),name:o("tpRules")},scale:{shown:!0,count:0,description:o("scaleRulesTip"),name:o("scaleRules")},force:{shown:!0,count:0,description:o("noScaleRulesTip"),name:o("noScaleRules")},scaleSmall:{shown:c.gallery.showSmallSize,count:0,description:o("smallRulesTip",c.gallery.scaleSmallSize),name:o("smallRules")}};this.imgStatistics=ye;var de="",Se;for(var Re in ye)ye.hasOwnProperty(Re)&&(Se=ye[Re],de+='<span class="pv-gallery-head-command-drop-list-item" title="'+Se.description+'"><input type="checkbox" data-type="'+Re+'" id="pv-gallery-head-command-drop-list-item-category-'+Re+'" /><label for="pv-gallery-head-command-drop-list-item-category-'+Re+'">'+Se.name+"</label></span>");E["head-command-drop-list-category"].innerHTML=xe(de);var _e={getMatched:function(){let _=this.all||this.get();for(let ee=0;ee<_.length;ee++){let se=_[ee];if(se.src==i.src)return[se,ee]}return null},check:function(){var _=this.getMatched();this.favorite=_?_[0]:null,this.tAreaValue(),this.highLight()},tAreaValue:function(){this.textArea.value=this.favorite?this.favorite.description:i.eleMaps["head-left-img-info-description"].textContent},highLight:function(){E["head-command-collect"].classList[this.favorite?"add":"remove"]("pv-gallery-head-command-collect-favorite")},add:function(){this.favorite={src:i.src,thumbSrc:D(i.relatedThumb,"thumbSrc"),naturalSize:i.imgNaturalSize,description:this.textArea.value},this.get();var _=this.getMatched();_&&this.all.splice(_[1],1),this.all.unshift(this.favorite),this.highLight(),this.save()},remove:function(){this.get();var _=this.getMatched();_&&(this.all.splice(_[1],1),this.save()),this.favorite=null,this.highLight()},save:function(){pe.setItem("pv_collection",encodeURIComponent(JSON.stringify(this.all)))},get:function(){var _=pe.getItem("pv_collection")||"[]";try{_=JSON.parse(decodeURIComponent(_))}catch{_=[]}return this.all=_,_},enter:function(){if(this.all.length==0){i.showTips(o("noCollectionYet"));return}this.mMode=!0;var _=this.dropListButton;_.textContent=o("exitCollection"),D(_,"command","exitCollection"),this.headButton.style.display="inline-block",E["sidebar-thumbnails-container"].classList.add("pv-gallery-sidebar-thumbnails_hide-span");var ee=u.createElement("span");this.container=ee;for(var se,Ee="",Fe=0;se=this.all[Fe++];)Ee+='<span class="pv-gallery-sidebar-thumb-container" data-description="'+se.description+'" data-natural-size="'+JSON.stringify(se.naturalSize).replace(/"/g,"&quot;")+'" data-src="'+se.src+'" data-thumb-src="'+se.thumbSrc+'"><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-thumb-loading" title="'+o("loading")+'......"></span></span>';ee.innerHTML=xe(Ee),E["sidebar-thumbnails-container"].appendChild(ee),this.selected=i.selected,i.select(ee.children[0]),i.thumbScrollbar.reset(),i.loadThumb()},exit:function(){if(this.mMode){this.mMode=!1;var _=this.dropListButton;_.textContent=o("viewCollection"),D(_,"command","enterCollection"),this.headButton.style.display="none",E["sidebar-thumbnails-container"].removeChild(this.container),E["sidebar-thumbnails-container"].classList.remove("pv-gallery-sidebar-thumbnails_hide-span"),i.select(this.selected),i.thumbScrollbar.reset(),i.loadThumb()}},textArea:E["head-command-drop-list-collect"].querySelector("textarea"),dropListButton:E["head-command-drop-list-others"].querySelector('[data-command$="Collection"]'),headButton:E["head-command-exit-collection"]};this.collection=_e,this.collection.textArea.addEventListener("focus",function(_){E["head-command-drop-list-collect"].classList.add("focus")}),this.collection.textArea.addEventListener("blur",function(_){E["head-command-drop-list-collect"].classList.remove("focus")}),E["head-command-drop-list-collect"].addEventListener("input",function(_){var ee=_.target;_e.favorite&&(_e.favorite[D(ee,"prefs")]=ee.value,clearTimeout(_e.saveTimer),_e.saveTimer=setTimeout(function(){_e.save()},500))},!0),E["head-command-drop-list-collect"].addEventListener("keydown",function(_){_.stopPropagation()},!0);let st=e.querySelector(".pv-gallery-urls-textarea");this.urlsTextareaCon=st,this.urlsTextarea=st.querySelector("textarea"),e.querySelector(".pv-gallery-urls-textarea-close").addEventListener("click",function(_){st.style.display=""},!0),e.querySelector(".pv-gallery-urls-textarea-download").addEventListener("click",function(_){if(!i.urlsTextarea.value)return;let ee=new Blob([i.urlsTextarea.value],{type:"text/plain"});saveAs(ee,(u.title||"PicviewerCEPlus")+".txt")},!0);let It=pe.getItem("slideShowInterval")||5e3;var pt={opts:{interval:It,wait:!0,backward:!1,skipErrorImg:!0,run:!1,random:!1},run:function(_){if(this.opts.run){if(_!="loadEnd"&&this.stop(),(_=="click"||_=="select")&&!this.getEle()){this.exit();return}if(this.opts.skipErrorImg&&i.imgError&&!i.isLoading){i.select(this.getEle());return}this.opts.wait?_!="select"&&(_=="loadEnd"||!i.isLoading&&(i.img.complete||i.imgError))&&this.go():_!="loadEnd"&&this.go()}},getEle:function(){return i.getThumSpan(this.opts.backward,null,!0,this.opts.random)},go:function(){this.stop();var _=this.opts.interval,ee=this;this.timer=setTimeout(function(){ee.setCountdown(0),clearInterval(ee.countdownTimer),i.select(ee.getEle())},_);var se=Date.now();this.countdownTimer=setInterval(function(){ee.setCountdown(_-(Date.now()-se))},100),_&&_!==It&&(It=_,pe.setItem("slideShowInterval",_))},stop:function(){this.setCountdown(this.opts.interval),clearTimeout(this.timer),clearInterval(this.countdownTimer)},exit:function(){this.opts.run=!0,this.switchStatus(),this.stop()},setCountdown:function(_){E["head-command-slide-show-countdown"].textContent=(_/1e3).toFixed(2)},switchStatus:function(){this.opts.run=!this.opts.run,E["head-command-slide-show-button-inner"].classList[this.opts.run?"add":"remove"]("pv-gallery-head-command-slide-show-button-inner_stop")},check:function(){this.opts.run?this.run("click"):this.stop()}};pt.setCountdown(pt.opts.interval),this.slideShow=pt,E["head-command-drop-list-slide-show-interval"].value=parseInt(pt.opts.interval/1e3)||5;let zt=e.querySelector(".pv-gallery-head-left-filter-icon");function Jt(){let _=prompt(o("urlFilterTip"),i.urlFilter||location.hostname)||"";_!=i.urlFilter&&(i.urlFilter=_,pe.setListItem("urlFilter",location.hostname,_),i.urlFilter?(zt.title="Filter: "+i.urlFilter,zt.style.filter="brightness(5)"):(zt.title=o("urlFilterTip"),zt.style.filter=""),i.urlFilterReg=null,i.changeMinView())}zt.onclick=function(){Jt()},this.urlFilter="",this.lockMaxSize=!1;var aa=pe.getListItem("urlFilter",location.hostname)||!1,yi=pe.getListItem("maxSize",location.hostname)||!1;aa&&(i.urlFilter=aa,zt.title=i.urlFilter,zt.style.filter="brightness(5)"),yi&&(i.lockMaxSize=yi,d.style.filter="brightness(5)",d.title=yi.w+" x "+yi.h),i.curDefaultSize=pe.getListItem("minSize",location.hostname)||!1,E["head-command-drop-list-slide-show"].addEventListener("change",function(_){var ee=_.target,se,Ee=D(ee,"prefs");ee.type=="checkbox"?se=ee.checked:(se=parseFloat(ee.value),isNaN(se)&&(se=pt.opts[Ee]/1e3),se=se>0?se:1,ee.value=se,se*=1e3),pt.opts[Ee]=se,pt.run("change")},!0),E["head-command-drop-list-category"].addEventListener("change",function(_){var ee=_.target,se=D(ee,"type");i.iStatisCopy[se].shown=ee.checked,i.switchThumbVisible()},!0),c.gallery.scrollEndAndLoad=!!pe.getListItem("scrollEndAndLoad",location.hostname),E["head-command-drop-list-others"].querySelector('input[data-command="scrollToEndAndReload"]').checked=c.gallery.scrollEndAndLoad;let Ni,Bi=!1,bi;async function ra(){let _=i.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),ee=[],se=0;for(const Ee of _)if(fe.getComputedStyle(Ee).display!=="none"){se++;let Fe=D(Ee,"xhr")!=="stop"&&i.getPropBySpanMark(Ee,"xhr");Fe&&(i.showTips("Sending request..."),await new Promise(St=>{setTimeout(()=>{let xt=function(){D(Ee,"xhr","stop"),D(Ee,"src",D(Ee,"thumbSrc")),St()};gt.load({url:Ee.dataset.src,xhr:Fe,cb:function(Dt,Ra,ua){Dt?(D(Ee,"src",Dt),D(Ee,"xhr","stop"),ua&&D(Ee,"description",ua),St()):xt()},onerror:xt})},c.gallery.downloadGap||0)})),Ee.dataset.src.indexOf("data")===0?Ni="":Ni=Ee.dataset.src||"";let Ye=Ee.title.indexOf(`
`)!==-1?Ee.title.split(`
`)[0]:Ee.title;Ye=Ye.indexOf("http")===0||Ye.indexOf("data")===0?"":Ye,Ye=x(Ni,Ye,c.saveName);let Qe=(se<10?"00"+se:se<100?"0"+se:se)+(Ye?"-"+Ye:""),Ve=location.host.split("."),He=Ve[Ve.length-2];ee.push([Ee.dataset.src,Qe]),Ee.dataset.srcs&&Ee.dataset.srcs!=Ee.dataset.src&&Ee.dataset.srcs.split(",").forEach(St=>{ee.push([St,Qe])})}return ee}i.openImages=_=>{let ee=u.createElement("input");ee.type="file",ee.accept="image/*,video/*,audio/*",ee.setAttribute("multiple",""),_&&(_.ctrlKey||_.altKey||_.shiftKey||_.metaKey)&&(ee.setAttribute("directory",""),ee.setAttribute("webkitdirectory","")),ee.addEventListener("change",se=>{const Ee=se.target.files;if(Ee.length){for(var Fe=0;Fe<Ee.length;Fe++){let Qe=Ee.item(Fe);Qe=Ee[Fe];let Ve=URL.createObjectURL(Qe),He;if(Qe.type.indexOf("image")===0)He=u.createElement("img");else if(Qe.type.indexOf("audio")===0)He=u.createElement("audio"),Ve="audio:"+Ve;else if(Qe.type.indexOf("video")===0)He=ni(),Ve="video:"+Ve;else continue;He.title=Qe.name;var Ye={src:Ve,type:"force",imgSrc:Ve,noActual:!0,description:Qe.name,img:He};i.data.push(Ye),i._appendThumbSpans([Ye])}i.loadThumb(),i.changeSizeInputReset()}},!1),ee.click()},E["head-command-drop-list-others"].addEventListener("click",async function(_){if(_.button!=0)return;let ee=_.target,se=D(ee,"command");if(se)switch(se){case"openInNewWindow":y(i.src,{active:!0});break;case"psImage":{let He=qt[c.gallery.editSite];He||(He=qt[Object.keys(qt)[0]]),He&&He(i.src,!0)}break;case"scrollIntoView":{if(_e.mMode){i.showTips(o("inCollection"));return}let He=i.relatedThumb,St=ue.indexOf.call(i.imgSpans,He),xt=i.data[St].img;if(xt){if(!u.documentElement.contains(xt)||fe.getComputedStyle(xt).display=="none"){i.showTips(o("cantFind"));return}i.minimize(),setTimeout(function(){i.navigateToImg(xt),K(xt)},0)}else u.addEventListener("pv-navigateToImg",function(Dt){if(!Dt.detail){i.showTips(o("cantFind"));return}i.minimize(),setTimeout(function(){i.iframe&&i.navigateToImg(i.iframe)},0)},!0),G.postMessage({messageID:Pt,command:"navigateToImg",index:St,to:i.from},"*")}break;case"exportImages":i.exportImages();break;case"postImagesToAria2":if(!c.gallery.aria2Host){i.showTips("Configure aria2 first!",1e3);return}bi=await ra(),[].forEach.call(bi,function(He){A({method:"POST",url:c.gallery.aria2Host+"/jsonrpc",data:JSON.stringify({params:["token:"+(c.gallery.aria2Token||""),[He[0]],{out:He[1]}],jsonrpc:"2.0",method:"aria2.addUri",id:Math.random()}),onload:function(St){},onerror:function(St){i.showTips("Error! Check aria2 setting!",1e3)}})}),i.showTips("Completed!",1e3);break;case"downloadImage":if(Bi)break;Bi=!0,bi=await ra(),i.batchDownload(bi,()=>{Bi=!1,i.showTips("Completed!",1e3)});break;case"copyImages":i.copyImages(!0);break;case"cookie":le=prompt("Set Cookie",le||"");break;case"scrollToEndAndReload":var Ee=ee.parentNode.querySelector("input");ee.nodeName.toUpperCase()=="LABEL"&&(Ee.checked=!Ee.checked),c.gallery.scrollEndAndLoad=Ee.checked,pe.setListItem("scrollEndAndLoad",location.hostname,Ee.checked);break;case"fullScreen":if(ee.classList.contains("fullscreenbtn")){if(b())return;ee.textContent=o("enterFullsc"),ee.classList.remove("fullscreenbtn");return}if(Ht(u.documentElement))return;ee.classList.toggle("fullscreenbtn"),ee.textContent=o("exitFullsc"),ee.classList.add("fullscreenbtn");var Fe=i.eleMaps["sidebar-container"],Ye=Fe.style.visibility=="hidden";Ye||i.showHideBottom();break;case"openPrefs":vi();break;case"viewmore":i.maximizeSidebar();break;case"openImages":i.openImages(_);break;case"addImageUrls":let Qe=G.prompt(o("addImageUrls")+": White space to split multi-image, '[01-09]' to generate nine urls from 01 to 09, '$http://xxx' to fetch images from page","https://xxx.xxx/pic-[20-99].jpg https://xxx.xxx/pic-[01-10].png");if(!Qe)return;i.addImageUrls(Qe);break;case"operate":if(i.img===null||i.img.style.display==="none")return;let Ve;if(/img/i.test(i.img.nodeName))Ae(i.src,{ready:function(){i.img.style.display="none",Ve=new Be(this);let He=i.src;Ve.imgWindow.addEventListener("pv-removeImgWindow",St=>{i.img.style.display==="none"&&(i.img.style.display="")})}});else{let He=i.img,St=He.className;Ve=new Be(He),i.img=null;let xt=i.src;Ve.imgWindow.addEventListener("pv-removeImgWindow",Dt=>{i.img===null&&(He.style.width="",He.style.height="",He.style.opacity=1,E["img-parent"].appendChild(He),i.img=He,i.img.className=St)})}break;case"urlFilter":Jt();break;case"enterCollection":_e.enter();break;case"exitCollection":_e.exit();break}},!0);function Di(){if(!u.fullscreenElement&&!u.mozFullScreenElement&&!u.webkitFullscreenElement&&!u.msFullscreenElement){var _=u.getElementById("pv-gallery-fullscreenbtn");_&&(_.textContent=o("enterFullsc"),_.classList.remove("fullscreenbtn"))}}u.addEventListener("webkitfullscreenchange",Di,!1),u.addEventListener("mozfullscreenchange",Di,!1),u.addEventListener("fullscreenchange",Di,!1);var na="",ti;for(let _ in c.share)c.share.hasOwnProperty(_)&&(ti=c.share[_],!(ti.limitLang&&ti.limitLang.indexOf(j)==-1)&&(ti.disabled||(na+='<span class="pv-gallery-head-command-drop-list-item" data-site="'+_+`" style="                        background-image:url('`+ti.icon+`');                        background-position:4px center;                        background-repeat:no-repeat;                        padding-left:24px;">`+ti.name+"</span>")));E["head-command-drop-list-share"].innerHTML=xe(na),E["head-command-drop-list-share"].addEventListener("click",function(_){if(_.button==0){var ee=_.target,se=D(ee,"site");if(se){var Ee=c.share[se],Fe=Ee.api.call(i.img,{title:encodeURIComponent(u.title),pic:encodeURIComponent(i.src),url:encodeURIComponent(location.href)});Fe&&G.open(Fe.url,"_blank","height="+Fe.wSize.h+",width="+Fe.wSize.w+",left=30,top=30,location=no,status=no,toolbar=no,menubar=no,scrollbars=yes")}}},!0),(!c.gallery.searchData||z.indexOf(c.gallery.searchData)!=-1)&&(c.gallery.searchData=z);var Ta=c.gallery.searchData.split(`
`),la,oa=[],sa=E["head-command-drop-list-search"].querySelector("#headSearchAll");Ta.forEach(_=>{if(!la){var ee=_.match(/\s*{(.*)}\s*/);if(ee){la=ee[1];return}}let se=_.trim().split("|");if(se.length==2){var Ee=u.createElement("span");Ee.className="pv-gallery-head-command-drop-list-item",Ee.innerHTML=xe(se[0]),Ee.addEventListener("click",function(Fe){let Ye=encodeURIComponent(i.src),Qe=i.src.replace(/https?:\/\//i,"");G.open(se[1].replace("#b#",Qe).replace("#t#",Ye),"_blank","width=1024, height=768, toolbar=1")}),oa.push(Ee),E["head-command-drop-list-search"].insertBefore(Ee,sa)}}),sa.addEventListener("click",function(_){oa.forEach(ee=>{ee.click()})});let Ui=!1;E["sidebar-thumbnails-container"].addEventListener("scroll",function(_){Ui||(Ui=!0,setTimeout(function(){Ui=!1,i.loadThumb()},200))},!1),this.canScroll=!0;var ca=function(_){i.canScroll&&(c.gallery.transition&&(i.canScroll=!1,setTimeout(function(){i.canScroll=!0},200)),_?i.selectNext():i.selectPrevious())};Pe(E.body,function(_){if(!(_.deltaZ!=0||_.target.nodeName=="TEXTAREA")&&E["sidebar-toggle"].style.visibility!="hidden"){var ee=_.target;if(E["sidebar-container"].contains(ee)){if(_.deltaX===0&&_.deltaY===0)return;let se=i.thumbSpanOuterSize;(_.deltaY<0||_.deltaX<0)&&(se=-se),q.scrollBy(se)}else{let se=100;_.deltaY!=0?i.img&&i.img.classList.contains("pv-gallery-img_zoom-out")?(_.deltaY<0?se=-Math.max(se,-_.deltaY):se=Math.max(se,_.deltaY),E["img-scrollbar-h"].contains(ee)?Y.scrollBy(se):w.scrollBy(se)&&c.gallery.scrollEndToChange&&ca(_.deltaY>0)):ca(_.deltaY>0):(_.deltaX<0?se=-Math.max(se,-_.deltaX):se=Math.max(se,_.deltaX),Y.scrollBy(se))}}},!0);var ii=u.createElement("style");ii.type="text/css",u.head.appendChild(ii);let Oi=E.head;Pe(Oi,function(_){Oi.scrollLeft+=_.deltaY,ii.textContent="";let ee=Oi.scrollLeft;ee&&(ii.textContent=`.pv-gallery-head-command-drop-list{margin-left:${-ee}px}`,ii.parentNode||u.head.appendChild(ii))},!0),Lt("mouseenter",e,function(){this.focus()}),Lt("mouseleave",e,function(){this.blur()});var _i,Gi;const Ca=1e4,da=.5;function ha(_){let ee=_.changedTouches[0].clientX,se=_.changedTouches[0].clientY,Ee=ee-_i,Fe=se-Gi;if(Ee*Ee+Fe*Fe>Ca){_i=ee,Gi=se;let Qe="",Ve=Math.abs(Fe/Ee);switch(Ve>da?Fe>0?Qe="\u2193":Qe="\u2191":Ve<=1/da&&(Ee>0?Qe="\u2192":Qe="\u2190"),Qe){case"\u2190":i.selectNext();break;case"\u2192":i.selectPrevious();break;case"\u2191":i.eleMaps["sidebar-toggle"].style.visibility!="hidden"&&i.maximizeSidebar();break;default:break}}}i.eleMaps["img-content"].addEventListener("touchstart",function(_){_i=_.changedTouches[0].clientX,Gi=_.changedTouches[0].clientY,i.eleMaps["img-content"].addEventListener("touchmove",ha)},{passive:!1,capture:!1}),i.eleMaps["img-content"].addEventListener("touchend",function(_){i.eleMaps["img-content"].removeEventListener("touchmove",ha)},{passive:!1,capture:!1});var pa=[38,39,40,37,32,9],Wi;e.addEventListener("keydown",function(_){if(c.gallery.disableArrow)return;var ee=_.keyCode,se=pa.indexOf(ee);if(se==-1)return;var Ee=_.target;if(!e.contains(Ee)||(_.preventDefault(),_.stopPropagation(),ee==9))return;if(ee==32){w.scrollByPages(1);return}if(Wi)return;Wi=!0;var Fe;switch(se){case 0:case 3:i.selectPrevious(),Fe=i.simpleSlideShow(!0);break;case 1:case 2:i.selectNext(),Fe=i.simpleSlideShow();break}function Ye(Qe){Qe.keyCode==pa[se]&&(e.removeEventListener("keyup",Ye,!1),Wi=!1,Fe())}e.addEventListener("keyup",Ye,!1)});var ai;E["img-parent"].addEventListener("mousedown",function(_){var ee=_.target;if(!(_.button!=0||ee.nodeName.toUpperCase()!="IMG")){var se=ee.classList.contains("pv-gallery-img_zoom-out")||i.scaleByScreen,Ee={x:_.clientX,y:_.clientY},Fe={left:i.imgScrollbarH.getScrolled(),top:i.imgScrollbarV.getScrolled()},Ye=0,Qe=function(He){He.preventDefault(),He.stopPropagation(),Ye++,!(Ye<2)&&(ai=!0,se&&(ee.style.cursor=Ie.cssCursorValue.grabbing||"pointer",i.imgScrollbarV.scroll(Fe.top-(He.clientY-Ee.y)),i.imgScrollbarH.scroll(Fe.left-(He.clientX-Ee.x))))},Ve=function(){ee.style.cursor="",setTimeout(function(){ai=!1},0),u.removeEventListener("mousemove",Qe,!0),u.removeEventListener("mouseup",Ve,!0)};u.addEventListener("mousemove",Qe,!0),u.addEventListener("mouseup",Ve,!0)}},!0);function fa(_){if(i.img===null||i.img.style.display==="none")return;if(/^video$/i.test(_.nodeName)){let se=_.className,Ee=new Be(_);i.img=null,Ee.imgWindow.addEventListener("pv-removeImgWindow",Fe=>{i.img==null&&(_.style.width="",_.style.height="",_.style.opacity=1,E["img-parent"].appendChild(_),i.img=_,i.img.className=se)});return}let ee=se=>{var Ee=new Be(se);Ee.imgWindow.addEventListener("pv-removeImgWindow",Fe=>{i.img.style.display==="none"&&(i.img.style.display="")})};_.style.display="none",Ae(i.src,{ready:function(){ee(this)},error:function(se){var Ee=u.createElement("img");Ee.src=i.img.src,ee(Ee)}})}if(E["img-parent"].addEventListener("mousedown",function(_){_.preventDefault(),_.stopPropagation()},!0),E["img-parent"].addEventListener("mouseup",function(_){_.preventDefault(),_.stopPropagation()},!0),E["img-parent"].addEventListener("mousemove",function(_){_.preventDefault(),_.stopPropagation()},!0),E["img-parent"].addEventListener("click",function(_){_.preventDefault(),_.stopPropagation();var ee=_.target;if(!(_.button!=0||!/^(video|img)$/i.test(ee.nodeName))){if(ai){ai=!1;return}if(ee.classList.contains("pv-gallery-img_zoom-in")){i.fitContains=!1;var se=typeof _.offsetX>"u"?_.layerX:_.offsetX,Ee=typeof _.offsetY>"u"?_.layerY:_.offsetY,Fe=se/ee.offsetWidth,Ye=Ee/ee.offsetHeight;i.fitToScreen({x:Fe,y:Ye})}else ee.classList.contains("pv-gallery-img_zoom-out")?(i.fitContains=!0,i.fitToScreen()):fa(ee)}},!0),E["img-parent"].addEventListener("dblclick",function(_){_.preventDefault(),_.stopPropagation();var ee=_.target;if(!(_.button!=0||!/^(video|img)$/i.test(ee.nodeName))&&!(!ee.classList.contains("pv-gallery-img_zoom-in")&&!ee.classList.contains("pv-gallery-img_zoom-out"))){if(ai){ai=!1;return}fa(ee)}},!0),e.addEventListener("mousedown",function(_){if(_.button!=0)return;var ee=_.target;ee.nodeName.toUpperCase()=="IMG"&&_.preventDefault();var se=!0,Ee;switch(ee){case E["img-controler-pre"]:case E["sidebar-controler-pre"]:i.selectPrevious(),Ee=i.simpleSlideShow(!0);break;case E["img-controler-next"]:case E["sidebar-controler-next"]:i.selectNext(),Ee=i.simpleSlideShow();break;default:se=!1;break}function Fe(Ye){u.removeEventListener("mouseup",Fe,!0),Ee()}se&&(_.preventDefault(),u.addEventListener("mouseup",Fe,!0))},!1),E["sidebar-thumbnails-container"].addEventListener("click",function(_){if(_.button==0){var ee=_.target,se;!D(ee,"src")&&(se=ee.parentNode)&&!D(se,"src")||i.select(se||ee,!1,!0)}},!1),E.img_broken.addEventListener("click",function(_){i.isLoading?i.select(i.errorSpan):i.getImg(i.errorSpan)},!1),c.gallery.viewmoreEndless||c.gallery.scrollEndAndLoad){var Zi=!1;Pe(E["maximize-container"],function(_){Zi||(Zi=!0,setTimeout(()=>{Zi=!1;let ee=i.eleMaps["maximize-container"].parentNode;if(ee.scrollTop/(ee.scrollHeight-ee.clientHeight)>.8){if(c.gallery.scrollEndAndLoad&&i.scrollToEndAndReload(),!i.haveMorePage)return;var Ee=i.eleMaps["head-command-nextPage"].querySelector("span");if(Ee.innerHTML==o("loading"))return;Ee.innerHTML=xe(o("loading")),i.completePages=[],i.pageAllReady=!1,i.pageAction(!0,!0)}},100))})}i.batchDl=u.createElement("p");let wi=u.createElement("input"),li=u.createElement("input"),Ai=u.createElement("input"),oi=u.createElement("input"),si=u.createElement("input"),Mt,_t=E["maximize-container"];wi.value=o("download"),li.value=o("closeBtn"),Ai.value=o("selectAllBtn"),oi.value=o("invertBtn"),si.value=o("compareBtn"),wi.type="button",li.type="button",li.className="need-checked",Ai.type="button",oi.type="button",oi.className="need-checked",si.type="button",si.className="compareBtn",si.onclick=function(_){if(Mt=_t.querySelectorAll(".maximizeChild>input:checked"),Mt.length<2)return;let ee=[];if([].forEach.call(Mt,function(Fe){let Ye=Fe.parentNode;if(Ye.style.display=="none")return;let Qe=Ye.querySelector("img").src;ee.push(Qe)}),ee.length<2)return;let se=u.createElement("img");se.src=ee.shift(),new Be(se).compare(ee)},wi.onclick=async function(_){Mt=_t.querySelectorAll(".maximizeChild>input:checked"),Mt.length<1&&(Mt=_t.querySelectorAll(".maximizeChild>input"));var ee=[],se=0;for(const Fe of Mt){let Ye=Fe.parentNode;if(Ye.style.display=="none")return;se++,Ye.dataset.xhr&&await new Promise(St=>{let xt=Dt=>{Ye.removeEventListener("getxhrover",xt),St()};Ye.addEventListener("getxhrover",xt),Ye.dispatchEvent(new Event("getxhr"))});let Qe=Ye.querySelector("img").dataset.src||Ye.querySelector("img").src,Ve=Fe.nextElementSibling.title;Ve=Ve.indexOf(`
`)!==-1?Ve.split(`
`)[0]:Ve,Ve=Ve.indexOf("http")===0||Ve.indexOf("data")===0?"":Ve;let He;Qe.indexOf("data")===0?He="":He=Qe||"",Ve=x(He,Ve,c.saveName);var Ee=(se<10?"00"+se:se<100?"0"+se:se)+(!Ve||Ve==u.title?"":"-"+Ve);ee.push([Qe,Ee])}i.batchDownload(ee,()=>{i.showTips("Completed!",1e3)})},li.onclick=function(_){Mt=_t.querySelectorAll(".maximizeChild>input:checked"),[].forEach.call(Mt,ee=>{ee.checked=!1}),_t.classList.remove("checked")},oi.onclick=function(_){Mt=_t.querySelectorAll(".maximizeChild>input"),!(Mt.length<1)&&([].forEach.call(Mt,ee=>{ee.parentNode.style.display=="none"?ee.checked=!1:ee.checked=!ee.checked}),Mt=_t.querySelectorAll(".maximizeChild>input:checked"),Mt.length==0&&_t.classList.remove("checked"))},Ai.onclick=function(_){Mt=_t.querySelectorAll(".maximizeChild>input"),!(Mt.length<1)&&([].forEach.call(Mt,ee=>{ee.parentNode.style.display=="none"?ee.checked=!1:ee.checked=!0}),_t.classList.add("checked"))},i.batchDl.appendChild(wi),i.batchDl.appendChild(li),i.batchDl.appendChild(Ai),i.batchDl.appendChild(oi),i.batchDl.appendChild(si),_t.parentNode.appendChild(i.batchDl),E.head.addEventListener("click",function(_){if(_.button==0){var ee=_.target;if(E["head-command-close"]==ee)i.close();else if(E["head-command-nextPage"].contains(ee)){var se=E["head-command-nextPage"].querySelector("span");if(se.innerHTML==o("loading")){se.innerHTML=xe(o("loadAll"));return}se.innerHTML=xe(o("loading")),i.completePages=[],i.pageAllReady=!1,i.pageAction(!0)}else E["head-command-collect"].contains(ee)?_e.favorite?_e.remove():_e.add():E["head-command-exit-collection"].contains(ee)?_e.exit():E["head-command-slide-show"].contains(ee)&&(pt.switchStatus(),pt.check())}},!1),v.addEventListener("click",function(_){var ee=_.target;this.style.display="none",ee==this?(i.show(),i.resizeHandler()):i.minimized=!1},!0),this._resizeHandler=this.resizeHandler.bind(this),this._keyDownListener=this.keyDownListener.bind(this),this._keyUpListener=this.keyUpListener.bind(this),V(".pv-gallery-sidebar-thumb-container{"+((M?"width":"height")+":"+(M?fe.getComputedStyle(E["sidebar-thumbnails-container"]).height:fe.getComputedStyle(E["sidebar-thumbnails-container"]).width))+"}"),this.forceRepaintTimes=0,e.style.display="none";let Fi=new Map;e.addEventListener("drop",async _=>{_.preventDefault(),i.eleMaps["img-parent"].style.pointerEvents="",e.style.filter="";var ee=[..._.dataTransfer.items].map(se=>se.getAsFileSystemHandle());if(ee.length){async function se(Ee,Fe=""){for await(let Qe of Ee){let Ve=Qe.name,He=Fe+"/"+Ve;if(!Fi.has(He)){if(Qe.kind==="directory")Fi.set(He,!0),await se(Qe.values(),He);else if(Qe.kind==="file"){let St=await Qe.getFile();Fi.set(He,!0);let xt=URL.createObjectURL(St),Dt;if(St.type.indexOf("image")===0)Dt=u.createElement("img");else if(St.type.indexOf("audio")===0)Dt=u.createElement("audio"),xt="audio:"+xt;else if(St.type.indexOf("video")===0)Dt=ni(),xt="video:"+xt;else continue;Dt.src=xt,Dt.title=He;var Ye={src:xt,type:"force",imgSrc:xt,noActual:!0,description:He,img:Dt};i.data.push(Ye),i._appendThumbSpans([Ye])}}}}await se(ee),i.loadThumb()}}),e.addEventListener("dragover",_=>_.preventDefault()),e.addEventListener("dragenter",_=>{i.eleMaps["img-parent"].style.pointerEvents="none",e.style.filter="contrast(0.5)"}),e.addEventListener("dragleave",_=>{i.eleMaps["img-parent"].style.pointerEvents="",e.style.filter=""}),this.shown=!1,this.initToggleBar(),this.initZoom()},addImageUrls:function(e){let t=[],i=this;[].forEach.call(e.split(/\s+/),function(a){var l=/\[\d+\-\d+\]/.exec(a);if(l)l=l[0].trim();else{t.push(a);return}var s=/\[(\d+)/.exec(l)[1].trim(),n=/(\d+)\]/.exec(l)[1].trim(),d=parseInt(s),v=parseInt(n),C=s.length,m=s.charAt(0)=="0";if(!(d>=v))for(var T=d;T<=v;T++){var M=T.toString();if(m)for(;M.length<C;)M="0"+M;var p=a.replace(/\[\d+\-\d+\]/,M).trim();t.push(p)}}),t.forEach(a=>{if(a.indexOf("$")===0||a.indexOf("\uFFE5")===0){i.addPageImages(a.slice(1));return}let l=u.createElement("img");l.src=a;var s={src:l.src,type:"force",imgSrc:l.src,noActual:!0,description:"",img:l};i.data.push(s),i._appendThumbSpans([s])}),i.loadThumb(),i.changeSizeInputReset()},rotateBigImg:function(){this.img&&(this.img.style[Ie.cssTransform]="rotate("+(this.galleryRotate||0)+"deg)")},showTips:function(e,t){var i=this.eleMaps.tipsWords;if(!e){i.style.opacity=0,i.innerText="";return}i.style.opacity=.8,i.innerText=e,i.style.marginLeft=-i.offsetWidth/2+"px",clearTimeout(this.tipsTimeout),this.tipsTimeout=setTimeout(()=>{i.style.opacity=0},t||1500)},showCompressProgress:function(e){this.showTips(parseInt(e.percent)+"% Compress "+(e.currentFile||""),1e5)},batchDownload:function(e,t){var i=this;if(c.gallery.downloadWithZip){let C=function(m,T,M){let p=I=>{be(I,E=>{if(E&&E.size>58){let X=T.replace(/\//g,"");a.file(X,E)}else console.debug("error: "+I);l++,M&&M(),i.showTips("Downloading "+l+"/"+d,1e6),l==d&&(i.showTips(`Begin compress to ${n}...`,1e5),a.generateAsync({type:"blob"},X=>{i.showCompressProgress(X)}).then(function(X){X&&saveAs(X,n),t()}))})};H&&(/^data:/.test(m)||m.split("/")[2]==u.domain)?J(m,I=>{if(!I){p(m);return}i.showTips("Downloading "+(l+1)+"/"+d,1e6),a.file(T.replace(/^data:.*/,"img").replace(/\//g,""),I),l++,M&&M(),l==d&&(i.showTips(`Begin compress to ${n}...`,1e5),a.generateAsync({type:"blob"},E=>{i.showCompressProgress(E)}).then(function(E){E&&saveAs(E,n),t()}))}):p(m)};i.showTips(o("galleryDownloadWithZipAlert"),1e5);var a,l=0,s,n=u.title;fe.pvcepPackAddon?(n+="."+fe.pvcepPackAddon.ext,a=new fe.pvcepPackAddon.pack(n)):fe.pvcepimg2pdf?(n+=".pdf",a=new fe.pvcepimg2pdf(n)):(n+=".zip",a=new JSZip);var d=e.length;if(c.gallery.downloadGap>0){let m=()=>{setTimeout(()=>{let p=e&&e.shift();p?C(p[0],p[1],m):clearInterval(M)},c.gallery.downloadGap)},T=10,M=setInterval(()=>{if(T--===0){clearInterval(M);return}let p=e&&e.shift();p?C(p[0],p[1],m):clearInterval(M)},c.gallery.downloadGap)}else for(let m=0;m<d;m++)C(e[m][0],e[m][1]);return}let v=function(){for(let C=0;C<5;C++){let m=e.shift();if(m)lt(m[0],m[1],c.saveName);else{t();break}}e.length>0&&setTimeout(()=>{v()},1e3)};v()},changeMinView:function(){var e=this.sizeInputH,t=this.sizeInputW,i=this.gallery.querySelector("#minsizeHSpan"),a=this.gallery.querySelector("#minsizeWSpan");e.title="min height: "+e.value+"px",i.innerHTML=xe("H: "+Math.floor(e.value)+"px"),t.title="min width: "+t.value+"px",a.innerHTML=xe("W: "+Math.floor(t.value)+"px"),clearTimeout(this.saveDefaultSize);var l=this;this.saveDefaultSize=setTimeout(()=>{l.curDefaultSize={h:e.value,w:t.value},pe.setListItem("minSize",location.hostname,l.curDefaultSize)},1e3);var s=this.eleMaps["sidebar-toggle"].style.visibility=="hidden";if(s){var n=0,d=0,v=0,C=0;[].forEach.call(u.querySelectorAll(".maximizeChild>img"),function(m){var T=l._spanMarkPool[m.src];if(T&&!T.dataset.naturalSize&&m.naturalWidth&&m.naturalHeight){T.dataset.naturalSize=JSON.stringify({w:m.naturalWidth,h:m.naturalHeight});let M=m.naturalWidth+"x"+m.naturalHeight;if(l.sizeMap[M]=(l.sizeMap[M]||0)+1,l.sizeMap[M]===2){let p=u.createElement("option");p.innerText=M,p.value=m.naturalWidth+"-"+m.naturalWidth+"x"+m.naturalHeight+"-"+m.naturalHeight,l.pinSize.appendChild(p)}}l.filterImage(m.naturalWidth||m.sizeW,m.naturalHeight||m.sizeH,m.src)?(m.parentNode.style.display="",T&&(T.style.display="")):(m.parentNode.style.display="none",T&&(T.style.display="none")),m.naturalHeight&&m.naturalWidth&&(m.naturalHeight>n&&(n=m.naturalHeight),(m.naturalHeight<d||d==0)&&(d=m.naturalHeight),m.naturalWidth>v&&(v=m.naturalWidth),(m.naturalWidth<C||C==0)&&(C=m.naturalWidth))}),e.max=n,e.min=d,e.title="min height: "+e.value+"px",i.innerHTML=xe("H: "+Math.floor(e.value)+"px"),t.max=v,t.min=C,t.title="min width: "+t.value+"px",a.innerHTML=xe("W: "+Math.floor(t.value)+"px"),this.bricksInstance.pack()}else this.data.forEach(function(m){if(m){var T=l._spanMarkPool[m.src];if(T){var M=T.dataset.naturalSize,p=m.sizeW,I=m.sizeH;M?(M=JSON.parse(M),p=M.w,I=M.h,p>t.max&&(t.max=p),I>e.max&&(e.max=I)):m.noActual,l.filterImage(p,I,m.src)?T.style.display="":T.style.display="none"}}}),this.switchThumbVisible()},changeSizeInputReset:function(){var e=0,t=0,i=0,a=0,l=this.sizeInputH,s=this.sizeInputW;let n=this;this.data.forEach(function(C){if(C){var m=C.sizeW,T=C.sizeH,M=n._spanMarkPool[C.src];if(M){var p=M.dataset.naturalSize;p&&(p=JSON.parse(p),m=p.w,T=p.h)}T>e&&(e=T),(T>0&&T<t||t==0)&&(t=T),m>i&&(i=m),(m>0&&m<a||a==0)&&(a=m)}}),l.max=e,l.min=t,s.max=i,s.min=a,n.curDefaultSize?(l.value=n.curDefaultSize.h,s.value=n.curDefaultSize.w):(l.value=c.gallery.defaultSizeLimit.h,s.value=c.gallery.defaultSizeLimit.w),l.title="min height: "+l.value+"px";var d=this.gallery.querySelector("#minsizeHSpan");d.innerHTML=xe("H: "+Math.floor(l.value)+"px"),s.title="min width: "+s.value+"px";var v=this.gallery.querySelector("#minsizeWSpan");v.innerHTML=xe("W: "+Math.floor(s.value)+"px"),n.loadThumb()},initToggleBar:function(){if(c.gallery.sidebarToggle){var e=this.eleMaps["sidebar-toggle"];e.style.display="flex",e.style.height="12px",e.addEventListener("click",this.showHideBottom.bind(this),!1);var t=this.eleMaps["sidebar-viewmore"];switch(t.style.display="block",t.addEventListener("click",this.maximizeSidebar.bind(this),!1),c.gallery.sidebarPosition){case"bottom":e.style.borderRadius="8px 8px 0 0";break;case"top":e.style.borderRadius="0 0 8px 8px";break;case"left":e.style.height="60px",e.style.borderRadius="0 8px 8px 0";break;case"right":e.style.height="60px",e.style.borderRadius="8px 0 0 8px";break}}},closeViewMore:function(){var e=this.eleMaps["sidebar-toggle"],t=this.eleMaps["sidebar-toggle-content"],i=this.eleMaps["img-container"],a=this.eleMaps["sidebar-viewmore-content"],l=this.eleMaps["img-controler-pre"],s=this.eleMaps["img-controler-next"],n=e.style.visibility=="hidden";if(n){var d=this.eleMaps["sidebar-container"],v=this.eleMaps["maximize-container"],C=c.gallery.sidebarPosition,m=function(T){for(var M=T.split(" "),p=0;p<M.length;p++)M[p]=M[p].charAt(0).toUpperCase()+M[p].slice(1);return M.join(" ")};for(v.style.minHeight=0,v.parentNode.style.display="none",this.hideBodyStyle.parentNode&&this.hideBodyStyle.parentNode.removeChild(this.hideBodyStyle),l.style.visibility=s.style.visibility=e.style.visibility=d.style.visibility="visible",i.style["border"+m(C)]=c.gallery.sidebarSize+"px solid transparent",e.style[C]="-3px";v.firstChild;)v.removeChild(v.firstChild);a.innerHTML=xe("\u271A"),a.parentNode.classList.remove("showmore"),t.innerHTML=xe("\u25BC")}},selectViewmore:function(e,t){this.curImgSpan&&this.curImgSpan.classList.remove("selected"),e.classList.add("selected"),this.curImgSpan=e;var i=this._spanMarkPool[t];i&&this.select(i)},addDlSpan:function(e,t,i,a){var l=this.eleMaps["maximize-container"],s=u.createElement("p");s.className="pv-bottom-banner",s.innerHTML=xe(c.icons.downloadSvgBtn+" "+o("download")),s.src=i.dataset.src,s.title=i.title||u.title,s.onclick=a;var n=u.createElement("p");n.className="pv-top-banner",n.innerHTML=xe(e.naturalWidth+" x "+e.naturalHeight),n.title=s.title;var d=u.createElement("input");d.type="checkbox";let v=this;d.onclick=function(C){let m=l.querySelectorAll(".maximizeChild>input:checked");l.classList.remove("canCompare"),m.length>0?(l.classList.add("checked"),m.length>1&&l.classList.add("canCompare")):l.classList.remove("checked"),C.stopPropagation()},n.onclick=function(C){C.stopPropagation(),d.click()},t.appendChild(n),t.insertBefore(d,t.firstChild),t.appendChild(s)},addViewmoreItem:function(e){var t=this.eleMaps["sidebar-toggle"].style.visibility=="hidden";if(t){var i=this,a=this.eleMaps["maximize-container"];[].forEach.call(e,function(l){var s=fe.getComputedStyle(l);let n=l,d=u.createElement("span");s.display=="none"&&(d.style.display="none");let v=Y=>{let w=new Be(Y);if(c.imgWindow.overlayer.shown&&(w.blur(!0),i.curImgWin=w,i.curImgSpan=d,!i.scrollInit)){i.scrollInit=!0;let q=function(ye){if(i.canScroll&&i.curImgWin&&!i.curImgWin.removed&&!i.curImgWin.focused){i.canScroll=!1;let de=i.curImgSpan;for(;de&&(de=ye.deltaY<0?de.previousElementSibling:de.nextElementSibling,!(de&&de.style.display!="none"&&de.clientWidth>1)););if(de){let Se=de.querySelector("img");i.curImgWin.remove();let Re=u.createElement("img");Re.src=Se.dataset.src||Se.src;let _e=new Be(Re);_e.blur(!0),i.curImgWin=_e,i.selectViewmore(de,Se.src),de.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout(()=>{de.scrollIntoView({block:"center",inline:"nearest"})},300),i.canScroll=!0}else i.canScroll=!0}};Pe(Le(u),q,!0)}};d.className="maximizeChild";let C="",m=D(l,"thumbSrc");switch(ge.getMode(m)){case"video":let Y="";m.indexOf(".mkv")!==-1?Y='type="video/mp4"':m.indexOf(".m3u8")!==-1&&(Y='type="application/vnd.apple.mpegurl"'),C='<video data-src="'+D(l,"src")+'" muted controls loop src="'+m.replace(/^video:/,"")+'" '+Y+" ></video>";break;case"audio":C='<img data-src="'+D(l,"src")+'" src="'+c.icons.video+'" />';break;default:C='<img data-src="'+D(l,"src")+'" src="'+m+'" />';break}d.innerHTML=xe(C);let M=d.querySelector("img,video"),p=D(l,"xhr")!=="stop"&&i.getPropBySpanMark(l,"xhr"),I=async()=>{let Y=await new Promise(w=>{let q=function(){D(l,"xhr","stop"),D(l,"src",D(l,"thumbSrc")),w(null)};gt.load({url:n.dataset.src,xhr:p,cb:function(ye,de,Se){ye?(D(l,"src",ye),D(l,"xhr","stop"),Se&&D(l,"description",Se),M.dataset.src=ye,w(ye)):q()},onerror:q})});return d.removeEventListener("getxhr",E),delete d.dataset.xhr,d.dispatchEvent(new Event("getxhrover")),Y},E=Y=>{I()};p&&(d.dataset.xhr=!0,d.addEventListener("getxhr",E)),d.addEventListener("click",async function(Y){Y.preventDefault(),i.selectViewmore(d,n.dataset.src);let w=de=>{if(/^blob:/.test(media.src)){let Se=u.createElement("img");Se.src=n.dataset.thumbSrc,n.dataset.src=n.dataset.thumbSrc,v(Se)}else A({method:"GET",url:D(l,"src"),responseType:"blob",onload:function(Se){const Re=URL.createObjectURL(Se.response);let _e=u.createElement("img");_e.src=Re,n.dataset.src=n.dataset.thumbSrc,v(_e);const st=()=>URL.revokeObjectURL(Re);G.addEventListener("beforeunload",st)},onerror:function(){let Se=u.createElement("img");Se.src=n.dataset.thumbSrc,n.dataset.src=n.dataset.thumbSrc,v(Se)}})},q=async()=>{i.showTips("Loading image...");let de=D(l,"src"),Se=ge.getMode(de),Re,_e=function(){Re.play(),i.showTips(""),v(this||Re),Re.removeEventListener("loadeddata",_e)};switch(Se){case"video":if(Re=ni(),Re.style.width=0,Re.style.height=0,Re.controls=!0,Re.loop=!0,Re.autoplay=!0,Re.volume=ge.mute?0:1,de=de.replace(/^video:/,""),de.indexOf(".mkv")!==-1)Re.type="video/mp4";else if(de.indexOf(".m3u8")!==-1)try{_e(),await ie(Re,de),de=""}catch(st){console.error("Failed to load or initialize Video.js player:",st)}break;case"audio":Re=u.createElement("audio"),Re.controls=!0,Re.autoplay=!0,Re.volume=ge.mute?0:1,de=de.replace(/^audio:/,"");break;default:break}Re?de&&(Re.src=de,Re.addEventListener("loadeddata",_e),Re.load()):Ae(de,{ready:function(){i.showTips(""),v(this)},error:function(st){/^blob:/.test(de)?(i.showTips(""),w()):Se=="image"||Se==""?A({method:"GET",url:de,responseType:"blob",onload:function(It){const pt=URL.createObjectURL(It.response);i.showTips("");let zt=u.createElement("img");v(zt);const Jt=()=>URL.revokeObjectURL(pt);G.addEventListener("beforeunload",Jt)},onerror:function(){i.showTips(""),w()}}):(i.showTips(""),w())}})};if(D(l,"xhr")!=="stop"&&i.getPropBySpanMark(l,"xhr")){i.showTips("Sending request..."),await I()?q():w();return}else d.removeEventListener("getxhr",E),delete d.dataset.xhr;q()});let X=n.dataset.src,re=()=>{i.addDlSpan(M,d,n,Y=>(Y.stopPropagation(),lt(n.dataset.src,n.title,c.saveName),!0))};if(X.indexOf("data")===0)re();else{let Y=!M.complete;Ae(M,{ready:function(){Y&&i.bricksInstance.pack(),M.width>=88&&M.height>=88&&i.addDlSpan(M,d,n,w=>(w.stopPropagation(),lt(n.dataset.src,n.title,c.saveName),!0))}})}a.appendChild(d)})}},maximizeSidebar:function(){var e=this.eleMaps["sidebar-toggle"],t=this.eleMaps["img-container"],i=this.eleMaps["sidebar-viewmore-content"],a=this.eleMaps["img-controler-pre"],l=this.eleMaps["img-controler-next"],s=e.style.visibility=="hidden",n=this.eleMaps["sidebar-container"],d=n.style.visibility=="hidden";d&&this.showHideBottom();var v=this.eleMaps["maximize-container"],C=c.gallery.sidebarPosition,m=function(M){for(var p=M.split(" "),I=0;I<p.length;I++)p[I]=p[I].charAt(0).toUpperCase()+p[I].slice(1);return p.join(" ")};if(s)this.closeViewMore(),this.bricksInstance.resize(!1);else{this.img&&this.img.pause&&this.img.pause(),v.style.minHeight="100%",v.parentNode.style.display="block",u.head.appendChild(this.hideBodyStyle),a.style.visibility=l.style.visibility=e.style.visibility=n.style.visibility="hidden",t.style["border"+m(C)]="0",e.style[C]="0",v.innerHTML=xe(""),i.innerHTML=xe("\u2716"),i.parentNode.classList.add("showmore");var T=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)");this.addViewmoreItem(T),this.bricksInstance.pack(),this.bricksInstance.resize(!0)}},showHideBottom:function(){var e=this.eleMaps["sidebar-container"],t=e.style.visibility=="hidden";e.style.visibility=t?"visible":"hidden";var i=c.gallery.sidebarPosition,a=function(l){for(var s=l.split(" "),n=0;n<s.length;n++)s[n]=s[n].charAt(0).toUpperCase()+s[n].slice(1);return s.join(" ")};this.eleMaps["img-container"].style["border"+a(i)]=t?c.gallery.sidebarSize+"px solid transparent":"0",this.eleMaps["sidebar-toggle"].style[i]=t?"-3px":"0",t?this.gallery.classList.remove("pv-gallery-sidebar-toggle-hide"):this.gallery.classList.add("pv-gallery-sidebar-toggle-hide"),this.eleMaps["sidebar-toggle-content"].innerHTML=xe(t?"\u25BC":"\u25B2"),this.eleMaps["sidebar-viewmore"].style.visibility=t?"visible":"hidden"},initZoom:function(){if(c.gallery.autoZoom&&Le(u).style.zoom!=null){var e=ce();e>100&&(this.eleMaps.body.style.zoom=100/e)}},getThumSpan:function(e,t,i,a){var l,s=t||this.selected;if(s){if(a){if(s.clientWidth===0)return;let n=s.parentNode.children;for(;s=n[Math.floor(Math.random()*n.length)];)if(s.clientWidth!==0){l=s;break}}else{for(;s=e?s.previousElementSibling:s.nextElementSibling;)if(s.clientWidth!=0){l=s;break}if(i&&!l){for(s=(t||this.selected).parentNode,s=e?s.lastElementChild:s.firstElementChild;s=e?s.previousElementSibling:s.nextElementSibling;)if(s.clientWidth!=0){l=s;break}}}return l}},previous:!1,selectPrevious:function(){this.previous=!0,this.select(this.getThumSpan(!0))},selectNext:function(){this.select(this.getThumSpan(),!1,!0)},select:function(e,t,i){if(!(!e||this.selected==e)){this.selected&&(this.selected.classList.remove(this.selectedClassName),this.selected.classList.remove("pv-gallery-sidebar-thumb_selected")),e.classList.add(this.selectedClassName),e.classList.add("pv-gallery-sidebar-thumb_selected"),this.selected=e,this.arrowVisib(i);var a=this;clearTimeout(this.loadImgTimer),c.gallery.transition?this.loadImgTimer=setTimeout(function(){a.loadImg(e),a.selectedIntoView(t)},200):setTimeout(function(){a.loadImg(e),a.selectedIntoView(t)},1),this.selectedIntoView(t),this.forceRepaint(),this.slideShow.run("select")}},loadThumb:function(){if(this.selected)for(var e=this,t=e.isHorizontal?["scrollLeft","clientWidth","offsetLeft","offsetWidth"]:["scrollTop","clientHeight","offsetTop","offsetHeight"],i=e.eleMaps["sidebar-thumbnails-container"],a=i[t[0]],l=a+i[t[1]],s=e.selected.parentNode.children,n,d,v,C=0;n=s[C++];){if(n.clientWidth==0||(d=n[t[2]],d+n[t[3]]<=a))continue;if(d>=l)break;if(D(n,"thumbLoaded"))continue;v=u.createElement("img");let m=D(n,"thumbSrc")||D(n,"src")||c.icons.brokenImg_small;switch(ge.getMode(m)){case"video":v.src=c.icons.video;break;case"audio":v.src=c.icons.audio;break;default:v.src=m;break}v.className="pv-gallery-sidebar-thumb",D(n,"thumbLoaded","true"),n.appendChild(v),Ae(v,{error:function(M){this.src=c.icons.brokenImg_small}})}},selectedIntoView:function(e){var t=this.eleMaps["sidebar-thumbnails-container"],i=this.isHorizontal?["offsetLeft","clientWidth","offsetWidth"]:["offsetTop","clientHeight","offsetHeight"],a=this.selected[i[0]],l=t[i[1]],s=Math.max((l-this.selected[i[2]])/2,0);let n=this.thumbScrollbar;setTimeout(function(){n.scroll(a-s,!1,!e)},0)},getImg:async function(e){var t=this,i=D(e,"src");this.lastLoading=i,this.isLoading=!0;var a=e.querySelector(".pv-gallery-sidebar-thumb-loading");a&&a.style&&(a.style.display="block");var l=D(e,"xhr")!=="stop"&&this.getPropBySpanMark(e,"xhr");if(l){var s=function(){D(e,"xhr","stop"),D(e,"src",D(e,"thumbSrc")),t.getImg(e)};gt.load({url:i,xhr:l,cb:function(T,M,p,I){if(T){if(D(e,"src",T),D(e,"xhr","stop"),p&&D(e,"description",p),t.getImg(e),M&&M.length){let E=0;M.forEach(X=>{if(X==T)return;let re=u.createElement("img");re.src=X;let Y=I&&I[E]?I[E]:p;Ae(re,{ready:function(){let w=wt(re);Y&&(w.description=Y),t.data.push(w),t._appendThumbSpans([w]),t.loadThumb()}}),E++})}}else s()},onerror:s});return}var n=this.allLoading;if(n.indexOf(i)!=-1)return;n.push(i);var d=this.imgReady;if(d&&this.img&&d.img.src!=this.src&&(d.abort(),d.removeLI()),!i)return;let v,C=i,m=function(){var T=n.indexOf(i);T!=-1&&n.splice(T,1),i==t.lastLoading&&(a&&a.style&&(a.style.display=""),d&&d.abort(),t.loadImg(v,e),v.removeEventListener("loadeddata",m))};if(Yi(i)){if(v=ni(),v.style.width=0,v.style.height=0,v.controls=!0,v.loop=!0,v.autoplay=!0,v.volume=ge.mute?0:1,C=C.replace(/^video:/,""),i.indexOf(".mkv")!==-1)v.type="video/mp4";else if(i.indexOf(".m3u8")!==-1)try{m(),await ie(v,C),v.onload=T=>{t.imgNaturalSize={h:v.naturalHeight||100,w:v.naturalWidth||100},t.fitToScreen({x:0,y:0})},C=""}catch(T){console.error("Failed to load or initialize Video.js player:",T)}}else Pi(i)&&(v=u.createElement("audio"),v.controls=!0,v.autoplay=!0,v.volume=ge.mute?0:1,C=C.replace(/^audio:/,""));if(v){this.eleMaps["sidebar-toggle"].style.visibility=="hidden"&&(v.autoplay=!1),C&&(v.src=C,Ft=v,v.addEventListener("loadeddata",m),v.load());return}this.imgReady=Ae(i,{ready:function(){var T=n.indexOf(i);T!=-1&&n.splice(T,1),i==t.lastLoading&&(a&&a.style&&(a.style.display=""),d&&d.abort(),t.loadImg(this,e))},loadEnd:function(T){var M=n.indexOf(i);M!=-1&&n.splice(M,1),i==t.lastLoading&&(T.type=="error"&&(a&&a.style&&(a.style.display=""),/^blob:/.test(i)?(t.errorSpan=e,d&&d.abort(),t.loadImg(this,e,!0)):A({method:"GET",url:i,responseType:"blob",onload:function(p){const I=URL.createObjectURL(p.response);t.slideShow.run("loadEnd");let E=u.createElement("img");E.src=I,Ae(I,{ready:function(){t.loadImg(E,e,!1),t.slideShow.run("loadEnd")}});const X=()=>URL.revokeObjectURL(I);G.addEventListener("beforeunload",X)},onerror:function(){t.errorSpan=e,d&&d.abort(),t.loadImg(this,e,!0)}})),t.slideShow.run("loadEnd"),c.gallery.preload&&(t.preloading&&t.preloading.abort(),t.preloading=new t.Preload(e,t),t.preloading.preload()))}}),this.imgReady.removeLI=function(){a&&a.style&&(a.style.display="")}},loadImg:function(e,t,i){if([].forEach.call(this.eleMaps["img-parent"].querySelectorAll("[id^=vjs_video]"),p=>{p.parentNode.removeChild(p)}),!/^(img|video|audio)$/i.test(e.nodeName)){this.getImg(e);return}this.img&&this.img.parentNode&&this.img.parentNode.removeChild(this.img);var a;/^video$/i.test(e.nodeName)?a={h:e.videoHeight||1080,w:e.videoWidth||1920}:/^audio$/i.test(e.nodeName)?a={h:50,w:350}:a={h:e.naturalHeight||100,w:e.naturalWidth||100},this.imgNaturalSize=a,this.eleMaps["head-left-img-info-resolution"].textContent=a.w+" x "+a.h;var l=this.eleMaps["sidebar-thumbnails-container"].childNodes,s=0;for(l=Array.prototype.slice.call(l).filter(function(p){return p.style.display!="none"});l[s]!=t&&s<l.length;)s++;s<l.length&&(this.eleMaps["head-left-img-info-count"].textContent="\uFF08"+(s+1)+" / "+l.length+"\uFF09");var n=decodeURIComponent(D(t,"description")),d=c.gallery.descriptionLength;this.eleMaps["head-left-img-info-description"].title=n,this.eleMaps["head-left-img-info-description"].textContent=n.length>d?n.slice(0,d)+"...":n,this.img=e,this.src=e.src,this.isLoading=!1,this.relatedThumb=t,e.className="pv-gallery-img";var v=D(t,"thumbSrc");v&&(e.style.backgroundImage=`url(${v})`);var C=this;if(i){let p=t.querySelector("img");if(!p)return;if(p.src==this.img.src)this.imgError=!0,this.img.style.display="none",this.eleMaps.img_broken.style.display="inline-block",D(t,"naturalSize",JSON.stringify({w:0,h:0}));else{var m=D(t,"srcs");if(m&&m.length>0&&(m=m.split(",")),this.img.onload=function(){a={h:this.naturalHeight,w:this.naturalWidth},C.imgNaturalSize=a,C.eleMaps["head-left-img-info-resolution"].textContent=a.w+" x "+a.h,D(t,"naturalSize",JSON.stringify(a));let I=a.w+"x"+a.h;if(C.sizeMap[I]=(C.sizeMap[I]||0)+1,C.sizeMap[I]===2){let E=u.createElement("option");E.innerText=I,E.value=a.w+"-"+a.w+"x"+a.h+"-"+a.h,C.pinSize.appendChild(E)}C.fitToScreen()},m&&m.length>0){var T=m.shift();D(t,"srcs",m.join(",")),T&&(D(t,"src",T),this.img.src=T)}else this.img.src=p.src}}else if(this.imgError=!1,this.eleMaps.img_broken.style.display="",!D(t,"naturalSize")){D(t,"naturalSize",JSON.stringify(a));let p=a.w+"x"+a.h;if(C.sizeMap[p]=(C.sizeMap[p]||0)+1,C.sizeMap[p]===2){let I=u.createElement("option");I.innerText=p,I.value=a.w+"-"+a.w+"x"+a.h+"-"+a.h,C.pinSize.appendChild(I)}}function M(){e.style.opacity=1}c.gallery.transition?setTimeout(M,0):M(),this.eleMaps["img-parent"].appendChild(e),this.fitContains=c.gallery.fitToScreen,this.fitToScreen({x:0,y:0}),this.previous&&(this.previous=!1,this.imgScrollbarV.scrollBy(999999)),this.collection.check()},fitToScreen:function(e){this.rotateBigImg();var t=this.eleMaps["img-content"],i={h:t.clientHeight,w:t.clientWidth},a=this.img;if(!a||!a.classList||!a.parentNode)return;a.classList.remove("pv-gallery-img_zoom-in"),a.classList.remove("pv-gallery-img_zoom-out");var l=a.style;l.width="",l.height="";var s=a.parentNode.style;s.width="",s.height="",s=this.eleMaps["img-parent"].style;let n=this.galleryRotate==90||this.galleryRotate==270,d=n?{w:this.imgNaturalSize.h,h:this.imgNaturalSize.w}:this.imgNaturalSize;var v={h:t.scrollHeight,w:t.scrollWidth},C=v.h>i.h||v.w>i.w;n&&C&&d.h<i.h&&d.w<i.w&&(C=!1);var m="100%",T=!1;if(this.fitContains&&!(e&&e.x==0&&e.y==0&&d.h/d.w>2.5)){if(this.scaleByScreen=!1,this.imgScrollbarV.hide(),this.imgScrollbarH.hide(),C){if(a.classList.add("pv-gallery-img_zoom-in"),v.h/v.w>=i.h/i.w){let p=i.h-10;n?(l.width=p+"px",l.setProperty("width",p+"px","important")):(l.height=p+"px",l.setProperty("height",p+"px","important")),s.height=p+"px",s.setProperty("height",p+"px","important"),m=p/d.h}else{let p=i.w-10;n?(l.height=p+"px",l.setProperty("height",p+"px","important")):(l.width=p+"px",l.setProperty("width",p+"px","important")),s.width=p+"px",s.setProperty("width",p+"px","important"),m=p/d.w}m=(m*100).toFixed(2)+"%"}else if(c.gallery.fitToScreenSmall){if(d.h/d.w>=i.h/i.w){let p=v.h-10;p=p<0?v.h:p,n?(l.width=p+"px",l.setProperty("width",p+"px","important")):(l.height=p+"px",l.setProperty("height",p+"px","important")),s.height=p+"px",s.setProperty("height",p+"px","important"),m=p/d.h}else{let p=v.w-10;p=p<0?v.w:p,n?(l.height=p+"px",l.setProperty("height",p+"px","important")):(l.width=p+"px",l.setProperty("width",p+"px","important")),s.width=p+"px",s.setProperty("width",p+"px","important"),m=p/d.w}m=(m*100).toFixed(2)+"%"}}else T=!0;if(l.width==""&&l.height==""&&this.imgNaturalSize.h&&this.imgNaturalSize.w){let p=this.imgNaturalSize.w+"px",I=this.imgNaturalSize.h+"px",E=d.w+"px",X=d.h+"px";if(i.h<d.h&&i.w<d.w)if(this.scaleByScreen)this.scaleByScreen=!1;else if(this.scaleByScreen=!0,a.classList.add("pv-gallery-img_zoom-in"),d.h/d.w>=i.h/i.w){let re=i.w-10,Y=d.h/d.w*re;n?(I=re+"px",p=Y+"px",E=I,X=p):(p=re+"px",I=Y+"px",E=p,X=I)}else{let re=i.h-10,Y=d.w/d.h*re;n?(p=re+"px",I=Y+"px",E=I,X=p):(I=re+"px",p=Y+"px",E=p,X=I)}l.width=p,l.height=I,s.width=E,s.height=X}T&&(this.imgScrollbarV.reset(),this.imgScrollbarH.reset(),C&&(this.scaleByScreen||a.classList.add("pv-gallery-img_zoom-out"),e&&(this.imgScrollbarH.scroll(t.scrollWidth*e.x-i.w/2),this.imgScrollbarV.scroll(t.scrollHeight*e.y-i.h/2))));var M=this.eleMaps["head-left-img-info-scaling"];M.textContent="\uFF08"+m+"\uFF09",m!="100%"?M.style.color="#E9CCCC":M.style.color=""},_dataCache:{},_spanMarkPool:{},filterImage:function(e,t,i){if(!e||!t)return!0;if(e<this.sizeInputW.value||t<this.sizeInputH.value)return!1;if(this.urlFilter&&i){if(i=i.replace(/^(data:[^;]*;).*/,"$1"),!this.urlFilterReg)try{this.urlFilterReg=new RegExp(this.urlFilter)}catch{}if(this.urlFilterReg&&!this.urlFilterReg.test(i))return!1}return!(this.lockMaxSize&&(e>this.lockMaxSize.w||t>this.lockMaxSize.h))},getSrcBySpanMark:function(e){let t=this._spanMarkPool;return Object.keys(t).find(i=>t[i]===e)},getPropBySpanMark:function(e,t){let i=this.getSrcBySpanMark(e);if(i){for(let a=0;a<this.data.length;a++)if(this.data[a].src==i)return this.data[a][t]}},_appendThumbSpans:function(e,t){var i=this.iStatisCopy;typeof t>"u"&&(this.selected?t=Array.prototype.slice.call(this.imgSpans).indexOf(this.selected):t=0);var a=this.sizeInputH,l=this.sizeInputW,s=this.eleMaps["sidebar-thumbnails-container"],n,d;if(t!=-1&&(n=this.data[t]),!e){if(n){let w=this._spanMarkPool[n.src];if(n.sizeW<l.value){var v=this.gallery.querySelector("#minsizeWSpan");l.value=n.sizeW,l.title="min width: "+l.value+"px",v.innerHTML=xe("W: "+Math.floor(l.value)+"px")}if(n.sizeH<a.value){var C=this.gallery.querySelector("#minsizeHSpan");a.value=n.sizeH,a.title="min height: "+a.value+"px",C.innerHTML=xe("H: "+Math.floor(a.value)+"px")}}s.innerHTML=xe(""),this._dataCache={},this.eleMaps["maximize-container"].innerHTML=xe("")}var T=this,m=w=>{var q=T._spanMarkPool[w.src];if(!q){q=u.createElement("span");try{if(w.noActual&&w.img&&w.img.naturalHeight&&w.img.naturalWidth){q.dataset.naturalSize=JSON.stringify({h:w.img.naturalHeight,w:w.img.naturalWidth});let Se=w.img.naturalWidth+"x"+w.img.naturalHeight;if(T.sizeMap[Se]=(T.sizeMap[Se]||0)+1,T.sizeMap[Se]===2){let Re=u.createElement("option");Re.innerText=Se,Re.value=w.img.naturalWidth+"-"+w.img.naturalWidth+"x"+w.img.naturalHeight+"-"+w.img.naturalHeight,T.pinSize.appendChild(Re)}}q.className="pv-gallery-sidebar-thumb-container",q.dataset.index=t,q.dataset.type=w.type,q.dataset.src=w.src,q.dataset.srcs=w.srcs?w.srcs.join(","):"",q.dataset.description=encodeURIComponent(w.description||w.img&&(w.img.title||w.img.alt)||""),q.dataset.thumbSrc=w.img&&(w.img.currentSrc||w.img.src)||w.imgSrc;let ye=w.img?(w.img.title||w.img.alt||"").slice(-200):"";ye&&(ye.indexOf("http")===0||ye.indexOf("data")===0?ye="":ye+=`
`);let de=w.src.replace(/^blob:.*/,"").replace(/^(data[^;]+).*/,"$1...");q.title=ye+(de.length>150?de.slice(0,110)+" ... "+de.slice(-30):de),q.innerHTML=xe('<span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-thumb-loading" title="'+o("loading")+'......"></span>'),q.addEventListener("contextmenu",function(Se){if(Se.preventDefault(),Se.stopPropagation(),q.classList.toggle("ignore"),(Se.altKey||Se.ctrlKey||Se.metaKey||Se.shiftKey)&&T.lastMark&&T.lastMark!==q&&T.lastMark.parentNode===q.parentNode){const Re=Array.from(s.children);let _e;for(Re.indexOf(T.lastMark)<Re.indexOf(q)?_e=T.lastMark.nextElementSibling:_e=q.nextElementSibling;_e!==null&&_e!==T.lastMark&&_e!==q;)_e.classList.toggle("ignore"),_e=_e.nextElementSibling}T.lastMark=q})}catch{}T._spanMarkPool[w.src]=q}if(q.dataset.naturalSize){let ye=JSON.parse(q.dataset.naturalSize);w.sizeW=ye.w,w.sizeH=ye.h}w.sizeW==0&&w.sizeH==0&&w.img.complete?q.style.display="none":this.filterImage(w.sizeW,w.sizeH,w.src)?q.style.display="":q.style.display="none",s.appendChild(q),T.addViewmoreItem([q]),!d&&n&&(w.src==n.src||w.img&&w.img==n.img)&&(d=q,T.select(d,!0))},T=this;(e||this.data).forEach(function(w){!w||!w.type||(i[w.type].count++,m(w))}),(e||this.data).forEach(function(w){w&&(T._dataCache[w.src]=!0)});var M=this.gallery,p,I,E;for(var X in i)i.hasOwnProperty(X)&&(E=i[X],p=M.querySelector("#pv-gallery-head-command-drop-list-item-category-"+X),p.checked=E.shown,E.count==0?(p.disabled=!0,p.parentNode.classList.add("pv-gallery-head-command-drop-list-item_disabled")):(p.disabled=!1,p.parentNode.classList.remove("pv-gallery-head-command-drop-list-item_disabled")),I=M.querySelector('label[for="pv-gallery-head-command-drop-list-item-category-'+X+'"]'),I.textContent=I.textContent.replace(/.*/i,"")+"\uFF08"+E.count+"\uFF09");if(this.imgSpans=s.children,this.thumbScrollbar.reset(),this.bricksInstance.pack(),!e&&(!d||d.style.display=="none"&&!n)){for(var re in this.imgSpans)if(this.imgSpans.hasOwnProperty(re)){var Y=this.imgSpans[re];if(Y.style.display!="none"){this.select(Y,!0);return}}!d&&this.imgSpans.length&&(d=this.imgSpans[0])}this.select(d,!0)},load:function(e,t,i){if(this.shown||this.minimized){t&&G.postMessage({messageID:Pt,command:"sendFail",to:t},"*"),this.minimized&&(W(o("closeFirst")),K(this.maximizeTrigger));return}var a=this;t&&(G.postMessage({messageID:Pt,command:"getIframeObject",windowId:t},"*"),u.addEventListener("pv-getIframeObject",function(m){a.iframe=m.detail},!0));var l=!!e.target,s=this.unique(e);e=s.data;var n=l?s.index:-1;if(!(i&&this.data.length>=e.length)){if(this.clear(),this.data=e,this.show(i),this.from=t,this._appendThumbSpans(null,n),this.urlFilter){var d=this.eleMaps["sidebar-thumbnails-container"].childNodes;d=Array.prototype.slice.call(d).filter(function(m){return m.style.display!="none"}),d.length===0&&this.showTips("No images match the filter")}this.runOnce(),this.switchThumbVisible();var v=this.getPage(),C=this.eleMaps["head-command-nextPage"].querySelector("span");this.haveMorePage=!!v.pre||!!v.next,this.haveMorePage?(C.style.color="#e9cccc",C.parentNode.parentNode.style.display="inline-block"):(C.style.color="",C.parentNode.parentNode.style.display="none")}},haveMorePage:!1,clear:function(){this._dataCache={},this.allLoading=[],this.iStatisCopy=U(this.imgStatistics,!0),this.selected&&(this.selected.classList.remove(this.selectedClassName),this.selected.classList.remove("pv-gallery-sidebar-thumb_selected")),this.selected=null,this.img&&(this.img.style.display="none",this.img=null),this.eleMaps.img_broken.style.display="",this.eleMaps["sidebar-thumbnails-container"].innerHTML=xe(""),this.eleMaps["head-left-img-info-resolution"].textContent="0 x 0",this.eleMaps["head-left-img-info-count"].textContent="\uFF081 / 1\uFF09",this.eleMaps["head-left-img-info-scaling"].textContent="\uFF08100%\uFF09",this.imgScrollbarV.hide(),this.imgScrollbarH.hide(),this.thumbScrollbar.hide(),this.thumbVisibleStyle.textContent=""},unique:function(e){var t;e.target&&(t=e.target.src);for(var i,a,l=[],s,n=0,d=e.length;n<d;n++){if(i=e[n],a=i.src,n+1<d&&i.img&&i.img.nodeName!="IMG"&&a==e[n+1].src){e.splice(n,1),n--,d--;continue}if(l.indexOf(a)!=-1){e.splice(n,1),n--,d--;continue}l.push(a),t==a&&(s=n)}return typeof s>"u"&&(s=0,e.target&&e.unshift(e.target)),delete e.target,{data:e,index:s}},keyDownListener:function(e){switch(e.keyCode){case 27:c.imgWindow.close.escKey&&this.close();break}},keyUpListener:function(e){if(e.ctrlKey||e.metaKey||e.altKey)return;const t=e.key||String.fromCharCode(e.keyCode);if(e.target==this.gallery)switch(t.toLowerCase()){case"r":var i=this.img,a=i.style[Ie.cssTransform],l=a.replace(/rotate\([^)]*\)/i,""),s=a.indexOf("rotate")!=-1?a.replace(/.*rotate\(([-\d\.]+).*/i,"$1"):0,n=Math.PI,d=parseFloat(s)+(e.shiftKey?-90:90)*n/180;(d>=2*n||d<=-2*n||-.1<d&&d<.1)&&(d=0),i.style[Ie.cssTransform]=" rotate("+d+"rad) "+l;break;case c.floatBar.keys.actual:case c.floatBar.keys.current:if(e.shiftKey)return;Ae(this.src,{ready:function(){new Be(this)}});break;case c.floatBar.keys.download:if(e.shiftKey)return;lt(this.img.src,this.selected.title,c.saveName);break}},show:function(e){if(this.shown=!0,this.addStyle(),vt=!0,!e){var t=u.documentElement.style;this.deOverflow={x:t.overflowX,y:t.overflowY},t.overflow="hidden",this.gallery.style.display="",this.gallery.focus(),G.addEventListener("resize",this._resizeHandler,!0)}u.addEventListener("keydown",this._keyDownListener,!0),u.addEventListener("keyup",this._keyUpListener,!0),c.gallery.loadMore&&this.eleMaps["head-command-nextPage"].click(),this.changeSizeInputReset();var i=this;if(c.gallery.autoOpenViewmore){var a=this.eleMaps["sidebar-toggle"];setTimeout(function(){var l=a.style.visibility=="hidden";l||i.maximizeSidebar()},1)}},close:function(e){if(!this.lockGallery&&(this.img&&this.img.parentNode&&this.img.parentNode.removeChild(this.img),this.hideBodyStyle.parentNode&&this.hideBodyStyle.parentNode.removeChild(this.hideBodyStyle),u.removeEventListener("keydown",this._keyDownListener,!0),u.removeEventListener("keyup",this._keyUpListener,!0),this.shown=!1,this.minimized=!1,!e)){vt=!1,this.gallery.blur(),this.gallery.style.display="none";var t=u.documentElement.style;this.deOverflow&&(t.overflowX=this.deOverflow.x,t.overflowY=this.deOverflow.y),this.slideShow.exit(),this.collection.exit(),G.removeEventListener("resize",this._resizeHandler,!0);var i=u.getElementById("pv-gallery-fullscreenbtn");i.classList.contains("fullscreenbtn")&&(b(),i.textContent=o("enterFullsc"),i.classList.remove("fullscreenbtn"))}},curPage:u,getPage:function(){let e=0,t="",i="",a=this.href.match(/(.*[a-zA-Z0-9\/][\-_](?:p|page)?)(\d+)(\.html?$|\/?$)/i),l=this.href.match(/(.*[\?&]p(?:age)?=)(\d+)($|[#&\/].*)/i);a?(t=a[1],e=a[2],i=a[3]):l?(t=l[1],e=l[2],i=l[3]):this.href=this.href.replace(/\/$/,"");var s=this.curPage;let n=s.querySelector("a.prev")||s.querySelector("a#prev")||s.querySelector("a#leftFix")||s.querySelector("a.prev_page")||s.querySelector(".prev-page>a")||s.querySelector(".prev>a"),d=s.querySelector("a.next")||s.querySelector("a#next")||s.querySelector("a#rightFix")||s.querySelector("a.next_page")||s.querySelector(".next-page>a")||s.querySelector(".next>a");if(!n&&!d){let v=s.querySelector("div.wp-pagenavi");if(v){let C=v.querySelector("span.current");n=C.previousSibling,d=C.nextSibling}else{let C=s.querySelector("div.article-paging>span");C&&(n=C.previousElementSibling,d=C.nextElementSibling)}}if(n&&(!n.href||/javascript:/.test(n.href.trim()))&&(n=null),d&&(!d.href||/javascript:/.test(d.href.trim()))&&(d=null),!n||!d){let v=s.querySelectorAll("a");if(!n){let C,m,T;for(let M=0;M<v.length;M++){let p=v[M];if(!(!p.href||/javascript:/.test(p.href.trim()))){if(C&&m&&T)break;C||/(\s|^)[1]?[]|^previous( page)?\s*$|/i.test(p.innerHTML)&&(C=p),m||p.innerHTML=="&lt;"&&(m=p),T||(p.innerHTML=="\xAB"?T=p:e==1?p.href.indexOf(this.href.replace(/.*\/([^\/]+)$/,"$1").replace(/[_-]\d+/,""))!=-1&&(T=p):p.href.replace(t,"").replace(i,"")==e-1&&(T=p))}}n=C||m||T}if(!d){let C,m,T;for(let M=0;M<v.length;M++){let p=v[M];if(!(!p.href||/^\s*javascript:/.test(p.href.trim()))){if(C&&m&&T)break;if(C||/(\s|^)[1]?[]|^next( page)?\s*$|/i.test(p.innerHTML)&&(C=p),m||p.innerHTML=="&gt;"&&(m=p),!T)if(p.innerHTML=="\xBB")T=p;else if(p.href.replace(t,"").replace(i,"")==parseInt(e)+1)T=p;else if(p.href.indexOf(this.href)!=-1&&/^[\/\?&]?[_-]?(p|page)?=?[12]\/?(\?|&|$)/i.test(p.href.replace(this.href,"")))T=p;else{let I=p.previousElementSibling;I&&(I.nodeName=="B"||I.nodeName=="SPAN")&&/^\d+$/.test(p.innerText)&&parseInt(p.innerText)==parseInt(I.innerText)+1&&(T=p)}}}d=C||m||T}}return n||(n=s.querySelector('[rel="prev"],[rel="previous"]')),d||(d=s.querySelector('[rel="next"]')),{pre:n,next:d}},completePages:[location.href],href:location.href,pageAllReady:!1,loadingImgNum:0,loadingImgs:[],pageImgReady:function(){var e=this.eleMaps["head-command-nextPage"].querySelector("span");clearTimeout(this.readyTimeout),this.readyTimeout=setTimeout(()=>{this.pageAllReady&&this.loadingImgNum<=0&&(e.innerHTML=xe("<font color='red'>"+o("loadedAll")+"</font>"),setTimeout(function(){e.innerHTML=xe(o("loadAll"))},1500))},1100)},pageAction:function(e,t){var i=this.getPage(),a=this,l=this.eleMaps["head-command-nextPage"].querySelector("span");if(l.innerHTML==o("loading")){var s=function(){!e||!c.gallery.loadAll||t?(a.pageAllReady=!0,a.pageImgReady()):(a.curPage=u,a.href=location.href,a.pageAction(!1))};if(e&&!i.next||!e&&!i.pre){s();return}var n=e?i.next:i.pre;if(n.nodeName!="A"){var d=n.querySelector("a");if(d)n=d;else{for(;(n=n.parentElement)&&n.nodeName.toUpperCase()!="A";);if(!n)return}}var v=n.getAttribute("href");if(a.completePages.indexOf(v)!=-1){s();return}else a.completePages.push(v);a.href=O(v),a.addPageImages(a.href,C=>{C&&(a.curPage=C),c.gallery.loadAll&&!t?setTimeout(()=>{a.pageAction(e)},1):s()},!0)}},addPageImages:function(e,t,i){let a=this;A({method:"GET",url:e,headers:{Referer:+e},cookie:le,overrideMimeType:"text/html;charset="+u.charset,onload:function(l){let s=u.implementation.createHTMLDocument("");s.documentElement.innerHTML=l.responseText;let n=s.querySelectorAll("img"),d=u.querySelector(".pv-gallery-container"),v=u.querySelector(".pv-gallery-preloaded-img-container"),C=s.querySelector("base"),m=C?C.href:null;n=Array.prototype.slice.call(n).filter(function(M){if(d.contains(M)||v&&v.contains(M))return!1;if(M.getAttribute&&M.getAttribute("src")){let E=M.getAttribute("src");E.indexOf("http")!==0&&(E=O(E,e,m),M.setAttribute("src",E))}if(Nt(M,!0),!M.src||M.getAttribute&&!M.getAttribute("src"))return!1;var p=M.src.trim();if(!p)return!1;var I=wt(M);return I&&I.src?a._dataCache[I.src]?!1:(a._dataCache[I.src]=!0,!0):!1});function T(M){M.onerror=null;var p=wt(M);i&&a.loadingImgNum++,p.xhr?gt.load({url:p.src,xhr:p.xhr,cb:function(I,E,X,re){if(I){if(Ae(M,{ready:function(){p=wt(M),p.src=I,X&&(p.description=X),i&&a.loadingImgNum--,a.data.push(p),a._appendThumbSpans([p]),a.loadThumb(),i&&a.pageImgReady()},error:function(){i&&a.loadingImgNum--,i&&a.pageImgReady()}}),E&&E.length){let Y=0;E.forEach(w=>{if(w==I)return;let q=u.createElement("img");q.src=w;let ye=re&&re[Y]?re[Y]:X;Ae(q,{ready:function(){let de=wt(q);ye&&(de.description=ye),a.data.push(de),a._appendThumbSpans([de]),a.loadThumb()}}),Y++})}}else i&&a.loadingImgNum--,i&&a.pageImgReady()},onerror:()=>{i&&a.loadingImgNum--,i&&a.pageImgReady()}}):(M.src=p.src,setTimeout(()=>{Ae(M,{ready:function(){p=wt(M),i&&a.loadingImgNum--,a.data.push(p),a._appendThumbSpans([p]),a.loadThumb(),i&&a.pageImgReady()},error:function(){i&&a.loadingImgNum--,i&&a.pageImgReady()}})},0)),v||(v=u.querySelector(".pv-gallery-preloaded-img-container")),v&&v.appendChild(M)}c.gallery.downloadGap>0?(a.loadingImgs=a.loadingImgs.concat(n),a.loadIntv||(a.loadIntv=setInterval(()=>{let M=a.loadingImgs.shift();M?T(M):(clearInterval(a.loadIntv),a.loadIntv=null,a.changeSizeInputReset())},c.gallery.downloadGap))):n.forEach(function(M){T(M)}),t&&t(s)},onerror:function(l){t&&t(null)}})},runOnce:function(){if(this.selected){var e=fe.getComputedStyle(this.selected);this.thumbSpanOuterSize=this.isHorizontal?this.selected.offsetWidth+parseFloat(e.marginLeft)+parseFloat(e.marginRight):this.selected.offsetHeight+parseFloat(e.marginTop)+parseFloat(e.marginBottom),this.runOnce=function(){}}},minimize:function(){this.close(),this.maximizeTrigger.style.display="block",this.minimized=!0},navigateToImg:function(e){e.scrollIntoView();var t=me(e),i=ke();G.scrollBy(t.left-(i.w-t.width)/2,t.top-(i.h-t.height)/2)},switchThumbVisible:function(){var e=this.thumbVisibleStyle,t=0,i=[],a=this.iStatisCopy,l;for(var s in a)a.hasOwnProperty(s)&&(l=a[s],l.shown?t+=l.count:i.push('.pv-gallery-sidebar-thumb-container[data-type="'+s+'"]'));e.textContent=i.join(",")+"{display:none !important;}",this.thumbScrollbar.reset(),this.arrowVisib(),this.loadThumb()},forceRepaint:function(){clearTimeout(this.forceRepaintTimer);var e=this;this.forceRepaintTimer=setTimeout(function(){oe.opera&&(e.forceRepaintTimes%2==0?G.scrollBy(0,1):G.scrollBy(0,-1),e.forceRepaintTimes++)},333)},resizeHandler:function(){this.thumbScrollbar.reset(),this.fitToScreen(),this.loadThumb()},_isLastSpan:function(e){if(this.selected.clientWidth==0)return!1;if(!e)return!0;var t=this.eleMaps["sidebar-thumbnails-container"].children,i=[];[].forEach.call(t,function(s){fe.getComputedStyle(s).display!="none"&&i.push(s)});var a=Array.prototype.slice.call(i).indexOf(e);if(a!=-1){var l=i.length;if(l-a<c.gallery.scrollEndAndLoad_num)return!0}},arrowVisib:function(e){var t=this.eleMaps["img-controler-pre"].style,i=this.eleMaps["img-controler-next"].style,a=this.eleMaps["sidebar-controler-pre"].style,l=this.eleMaps["sidebar-controler-next"].style,s=this.getThumSpan();s?(i.display="",l.display=""):(i.display="none",l.display="none"),c.gallery.scrollEndAndLoad&&e&&(!s||this._isLastSpan(s))&&this.scrollToEndAndReload(),this.getThumSpan(!0)?(t.display="",a.display=""):(t.display="none",a.display="none")},simpleSlideShow:function(e,t){clearInterval(this.slideShowInterval);var i=this,a=setInterval(function(){var s=i.selected;e?i.selectPrevious():i.selectNext(),s==i.selected&&l()},t||800);this.slideShowInterval=a;function l(){clearInterval(a)}return l},reload:async function(){var e=await this.getAllValidImgs();e.target={src:this.selected.dataset.src},this.close(!0),this.load(e,null,!0)},reloadNew:async function(){var e=!0,t=await this.getAllValidImgs(e);t.length&&this._appendThumbSpans(t)},getAllValidImgs:async function(e,t){var i=[],a=u.querySelector(".pv-gallery-container"),l=u.querySelector(".pv-gallery-preloaded-img-container"),s=/.*?url\(\s*["']?([^ad\s'"#].+?)["']?\s*\)([^'"]|$)/i,n=Le(u),d=[];function v(M,p){if(/^iframe$/i.test(p.nodeName)){if(p.name=="pagetual-iframe")return M;if(!p.src||p.src&&(p.src=="about:blank"||p.src.replace(/\/[^\/]*$/,"").indexOf(location.hostname)!=-1))try{ue.forEach.call(p.contentWindow.document.querySelectorAll("*"),function(I){M=v(M,I)})}catch(I){ae(I.toString())}return M}else if(/^img$/i.test(p.nodeName))M.push(p);else if(/^svg$/i.test(p.nodeName)){if(p.clientHeight!=0&&(!p.classList||!p.classList.contains("pagetual")))try{let I=p.querySelectorAll("image");if(I.length)ue.forEach.call(I,function(E){let X=E.href&&E.href.baseVal;X&&(E.src=O(X,E.ownerDocument.URL,E.ownerDocument.baseURI),M.push(E))});else{const E=new XMLSerializer().serializeToString(p),X=`data:image/svg+xml;base64,${G.btoa(unescape(encodeURIComponent(E)))}`;p.src=X,M.push(p)}}catch(I){ae(I)}}else if(/^canvas$/i.test(p.nodeName)){if(p.clientHeight!=0)try{p.src||(p.src=p.toDataURL("image/png"))}catch{}!p.src&&p.dataset.src&&(p.src=p.dataset.src),p.src&&M.push(p)}else if(/^a$/i.test(p.nodeName)&&nt.test(p.href)){let I=p.href;if(/[&\?]url\=/.test(I)){I=I.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{I=decodeURIComponent(I)}catch{}}else if(/[&\?]https?:/.test(I)){I=I.replace(/.*[&\?](https?:)/,"$1");try{I=decodeURIComponent(I)}catch{}}p.src=I,d.push(p)}if(p.shadowRoot){let I=p.shadowRoot.querySelectorAll("*");for(let E=0;E<I.length;E++)M=v(M,I[E])}if(t&&!c.floatBar.listenBg)return M;if(!p.className||!p.className.indexOf||p.className.indexOf("pv-")==-1){let I=getComputedStyle(p).backgroundImage,E=/^(audio|embed|iframe|img|input|script|source|track|video|svg|canvas)$/i.test(p.nodeName);if(I!="none"){let re=s.exec(I);if(re){if(!E){let Y=re[1].replace(/\\"/g,'"');p.src=Y,M.push(p),E=!0,I=I.replace(s,"$2"),re=s.exec(I)}for(;re;){let Y=re[1].replace(/\\"/g,'"');p=u.createElement("img"),p.src=Y,M.push(p),I=I.replace(s,"$2"),re=s.exec(I)}}}if(I=getComputedStyle(p,"::before").backgroundImage,I!="none"){let re=s.exec(I);if(re){if(!E){let Y=re[1].replace(/\\"/g,'"');p.src=Y,M.push(p),E=!0,I=I.replace(s,"$2"),re=s.exec(I)}for(;re;){let Y=re[1].replace(/\\"/g,'"');p=u.createElement("img"),p.src=Y,M.push(p),I=I.replace(s,"$2"),re=s.exec(I)}}}if(I=getComputedStyle(p,"::after").backgroundImage,I!="none"){let re=s.exec(I);if(re){if(!E){let Y=re[1].replace(/\\"/g,'"');p.src=Y,M.push(p),E=!0,I=I.replace(s,"$2"),re=s.exec(I)}for(;re;){let Y=re[1].replace(/\\"/g,'"');p=u.createElement("img"),p.src=Y,M.push(p),I=I.replace(s,"$2"),re=s.exec(I)}}}let X=getComputedStyle(p,"::before");if(I=X.content,(!I||I==="none")&&(X=getComputedStyle(p,"::after"),I=X.content),I&&I!=="none"&&(I=I.replace(/[ '"]/g,""),I&&I.length==1)){let re=f(p,I,X);re&&re!="data:,"&&(p=u.createElement("img"),p.src=re,M.push(p))}}return M}var C;ge.gallery?C=ge.gallery():(C=Array.from(n.querySelectorAll("*")).concat([n]).reduceRight((M,p)=>v(M,p),[]),[].forEach.call(u.head.querySelectorAll("link[rel*='icon']"),M=>{nt.test(M.href)&&(M.src=M.href,d.push(M))}),[].forEach.call(u.head.querySelectorAll('meta[itemprop="image"]'),M=>{nt.test(M.content)&&(M.src=M.content,d.push(M))}),C=C.reverse().sort((M,p)=>M.offsetParent&&!p.offsetParent?-1:!M.offsetParent&&p.offsetParent?1:0).concat(d.reverse()),C=C.filter(function(M){if(M.parentNode){if(M.parentNode.id=="icons"||M.parentNode.id=="pagetual-preload")return!1;if(M.parentNode.classList&&M.parentNode.classList.contains("search-jumper-btn"))return!1;if(M.classList&&M.classList.contains("pagetual"))return!1}return!(a.contains(M)||l&&l.contains(M))})),await gi(0);var m=this;for(const M of C){let p=/^IMG$/i.test(M.nodeName);if(p&&Nt(M),!(!M.src||p&&M.getAttribute&&!M.getAttribute("src"))&&!(e&&m._dataCache[M.src])){var T=wt(M);if(T){if(T.src==="data:,")continue;T.imgSrc.indexOf("blob:")===0&&(T.src==T.imgSrc?(T.imgSrc=await At(T.imgSrc),T.src=T.imgSrc,T.srcs=[T.imgSrc]):(T.imgSrc=await At(T.imgSrc),T.srcs=[T.imgSrc])),T.sizeH==0&&T.sizeW==0&&(T.sizeH=M.naturalHeight,T.sizeW=M.naturalWidth),i.push(T),m.data.push(T)}m._dataCache[M.src]=!0}}return i},scrollToEndAndReload:function(){if(!this.isScrollToEndAndReloading){this.isScrollToEndAndReloading=!0;var e;if(u.documentElement.scrollTop||u.documentElement.scrollHeight-u.documentElement.clientHeight>100)e=u.documentElement;else if(Le(u).scrollTop)e=Le(u);else if(this.data&&this.data.length){let i;for(let a=0;a<this.data.length&&(i=this.data[a].img,!(i&&i.parentNode));a++);if(i)for(;i&&(i.scrollHeight-i.clientHeight<10||fe.getComputedStyle(i).overflowY==="hidden");)i=i.parentNode;i&&(e=i)}e=e||u.documentElement;var t=this;setTimeout(()=>{t.isScrollToEndAndReloading=!1;var i=u.documentElement.style;i.overflow="",u.head.appendChild(t.hideScrollStyle);let a=setInterval(function(){let l=e.scrollTop;e.scrollTop+=500,l===e.scrollTop?(clearInterval(a),setTimeout(()=>{i.overflow="hidden",u.head.removeChild(t.hideScrollStyle)},0),clearTimeout(t.reloadTimeout),t.reloadTimeout=setTimeout(function(){t.reloadNew(),t.loadThumb()},1e3)):t.reloadNew()},1)},300)}},exportImages:function(){var e=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),t,i=[];for(t=0;t<e.length;++t)fe.getComputedStyle(e[t]).display=="none"?i.push(""):i.push('<div><img src="'+e[t].dataset.src+'" /><p></p></div>');var a=u.title,l="                 <head>                 <title>Picviewer CE+ "+o("exportImages")+" "+a+'</title>                 <style>                 .toTop{width:28px;height:28px;border-radius:14px;position: fixed;right:2px;bottom: 2px;cursor: pointer;background-color:#000;opacity:.3;padding:0em!important;border:0px!important;z-index:1}                 .toTop:hover{opacity:1}                 .toTop>span{height:28px;line-height:28px;display:block;color:#FFF;text-align:center;font-size:20px;}                 .grid{-moz-column-count:4;-webkit-column-count:4;column-count:4;-moz-column-gap: 1em;-webkit-column-gap: 1em;column-gap: 1em;}                 .grid>div{padding: 1em;margin: 0 0 1em 0;-moz-page-break-inside: avoid;-webkit-column-break-inside: avoid;break-inside: avoid;}                 .grid>div>img{width: 100%;}                 .list>div {text-align:center;}                 .list>div>img { max-width: 100%; }                 .gridBig{margin: 0px;}                 .gridBig>div { float: left;margin: 0px 0px 1px 1px;}                 .gridBig>div>img { max-width: 100%; }                 .select{border: 5px solid red!important;}                 body>div{border: 5px solid black;margin: 1px; overflow: hidden;}                 .select>img{transform: scale3d(1.1, 1.1, 1.1);}                 body>div>img{transition: transform .3s ease 0s;}                 body>div:hover{border: 5px solid #dbdbdb; background: #80808020;}                 body>div{position: relative; cursor: pointer}                 body>div>p{position: absolute; margin: 0; background: #ffffff80; top: 0;}                 </style>                 </head>                 <span class="toTop">                    <span>\uFFEA</span>                 </span>                 <body class="'+c.gallery.exportType+'">                 <p style="width:100vw;display:flex;flex-direction:column;">                 <img id="bigImg" style="pointer-events:none;position:fixed;z-index:999;width:100vw;top:0px;align-self:center;" /></p>                 <p>\u3010'+o("picTitle")+"\u3011\uFF1A"+a+"</p>                 <p>\u3010"+o("picNum")+"\u3011\uFF1A"+e.length+' <select onchange="document.body.className=this.options[this.options.selectedIndex].value"><option value="grid" '+(c.gallery.exportType=="grid"?"selected='selected'":"")+">"+o("grid")+'</option><option value="gridBig" '+(c.gallery.exportType=="gridBig"?"selected='selected'":"")+">"+o("gridBig")+'</option><option value="list" '+(c.gallery.exportType=="list"?"selected='selected'":"")+">"+o("list")+'</option> </select>                  <input type="button" value="'+o("exportImagesUrl")+`" onclick="var imgStr='',selList=document.querySelectorAll('.select>img');if(selList.length==0)[].forEach.call(document.querySelectorAll('img'),function(i){imgStr+=i.src+' \\n'});else{[].forEach.call(selList,function(i){imgStr+=i.src+' \\n'});}window.prompt('`+o("exportImagesUrlPop")+`',imgStr);" />                  (`+o("picTips")+")</p><p>"+o("savePageTips")+"</p>";if(l+=i.join(`
`)+'<script type="text/javascript">                 document.querySelector(".toTop").addEventListener("click", function(){                 document.body.scrollIntoView();                 });                 var bigImg=document.querySelector("#bigImg"),body=document.body;                 [].forEach.call(document.querySelectorAll("div>img"),function(i){                 if(i.naturalWidth&&i.naturalHeight)i.nextElementSibling.innerText=i.naturalWidth+" x "+i.naturalHeight;                 i.onerror=function(e){i.style.display="none";i.parentNode.title="Reload"};                 i.onload=function(e){i.style.display="";i.parentNode.title="";if(i.naturalWidth&&i.naturalHeight)i.nextElementSibling.innerText=i.naturalWidth+" x "+i.naturalHeight};                 i.onmouseover=i.onmousemove=function(e){bigImg.style.top=(this.width/this.height>body.clientWidth/body.clientHeight?10+(body.clientHeight*0.95-body.clientWidth*this.height/this.width)*e.offsetY/this.height:10-(body.clientWidth*this.height/this.width-body.clientHeight*0.95)*e.offsetY/this.height);bigImg.src=e.ctrlKey?this.src:"";bigImg.style.display=e.ctrlKey?"":"none";};                 });                 [].forEach.call(document.querySelectorAll("body>div"),function(i){                 i.onclick=function(e){if(i.firstChild.style.display=="none"){i.firstChild.style.display="";i.firstChild.src=i.firstChild.src;return;}if(e.ctrlKey&&i.firstChild.src){window.open(i.firstChild.src,"_blank")}else{this.classList.toggle("select")}}                 });                 <\/script></body>',navigator.userAgent.indexOf("Firefox")!=-1){let s=fe.open("","_blank");s.document.write(l),s.document.close()}else y("data:text/html;charset=utf-8,"+encodeURIComponent(l),{active:!0})},copyImages:function(e){var t=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),i=[];[].forEach.call(t,function(l){fe.getComputedStyle(l).display!="none"&&i.push(l.dataset.src)});let a=i.join(`
`);B(a),this.urlsTextarea.value=a,this.urlsTextareaCon.style.display="block",e&&this.showTips(o("copySuccess",i.length))},Preload:function(e,t){this.ele=e,this.oriThis=t,this.init()},Scrollbar:function(e,t,i){this.scrollbar=e,this.container=t,this.isHorizontal=i,this.init()},addStyle:function(){if(je.style){je.style.parentNode||(je.style=V(je.style.innerText),this.globalSSheet=je.style.sheet);return}je.style=V("                 /*\u6700\u5916\u5C42\u5BB9\u5668*/                    .pv-gallery-container {                    position: fixed;                    top: 0;                    left: 0;                    width: 100%;                    height: 100%;                    min-width:unset;                    min-height:unset;                    padding: 0;                    margin: 0;                    border: none;                    z-index:"+(c.imgWindow.zIndex-1)+';                    background-color: transparent;                    display: initial;                    }                    /*\u5168\u5C40border-box*/                    .pv-gallery-container span{                    -moz-box-sizing: border-box;                    box-sizing: border-box;                    line-height: 1.6;                    text-overflow: unset;                    background-image: initial;                    float: initial;                    }                    .pv-gallery-container * {                    font-size: 14px;                    display: initial;                    flex-direction: row;                    user-select: none;                    }                    /*\u70B9\u51FB\u8FD8\u539F\u7684\u5DE5\u5177\u6761*/                    span.pv-gallery-maximize-trigger{                    position:fixed;                    bottom:15px;                    left:15px;                    display:none;                    background:#000;                    opacity:0.6;                    padding-left:10px;                    font-size:16px;                    line-height:0;                    color:white;                    cursor:pointer;                    box-shadow:3px 3px 0 0 #333;                    z-index:899999998;                    }                    .pv-gallery-maximize-trigger:hover{                    opacity:0.9;                    }                    span.pv-gallery-maximize-trigger-close{                    display:inline-block;                    padding-left:10px;                    vertical-align:middle;                    height:30px;                    padding:10px 0;                    width:24px;                    background:url("'+c.icons.loadingCancle+'") center no-repeat;                    }                    .pv-gallery-maximize-trigger-close:hover{                    background-color:#333;                    }                    span.pv-gallery-head-command-close{                    position:absolute;                    top:0;                    width:40px;                    border-left: 1px solid #333333;                    background:transparent no-repeat center;                    background-image:url("'+c.icons.loadingCancle+'");                    }                    .pv-gallery-maximize-container+p{                    position: fixed;                    width: 100%;                    z-index: 2;                    text-align: center;                    pointer-events: none;                    margin-bottom: 45px;                    left: 0;                    bottom: 0;                    opacity: 0;                    transition: all .3s ease;                    }                    @media only screen and (max-width: 600px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(50vw - 5px);                     }                    }                    @media only screen and (min-width: 600px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(33vw - 5px);                     }                    }                    @media only screen and (min-width: 800px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(25vw - 5px);                     }                    }                    @media only screen and (min-width: 1000px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(20vw - 5px);                     }                    }                    @media only screen and (min-width: 1130px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(16.6vw - 6px);                     }                    }                    @media only screen and (max-width: 799px) {                     .pv-gallery-range-box>input {                     display: none;                     }                     .pv-gallery-head-command-drop-list {                     right: 10px;                     }                     span.pv-gallery-head {                     white-space: nowrap;                     }                     span.pv-gallery-sidebar-toggle-content {                     font-size: 25px!important;                     }                     span.pv-gallery-sidebar-toggle {                     height: 25px!important;                     opacity: 0.6;                     border-radius: 0!important;                     }                     .pv-gallery-sidebar-viewmore:not(.showmore) {                     opacity: 0!important;                     }                     .pv-gallery-maximize-container{                     margin-top: 30px;                     }                     .pv-gallery-sidebar-viewmore.showmore{                     transform: scale(1.5);                     bottom: 10px;                     }                     .pv-gallery-maximize-container span>p{                     opacity: 0.3;                     }                     .pv-gallery-maximize-container+p{                     opacity: 0.2;                     }                     span.pv-gallery-head-command-close {                     position: fixed!important;                     right: 0!important;                     height: 29px!important;                     background-color: black;                     }                    }                    @media only screen and (min-width: 799px) {                     .pv-gallery-maximize-container{                     margin-top: 30px;                     }                     .pv-gallery-maximize-container span>p{                     opacity: 0;                     }                    }                    span.pv-gallery-tipsWords{                    font-size: 50px;                    font-weight: bold;                    font-family: "\u9ED1\u4F53", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",                      "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",                      "Segoe UI Emoji", "Segoe UI Symbol";                    color: #ffffff;                    height: 70px;                    line-height: 70px;                    position: fixed;                    left: 50%;                    top: 10%;                    margin-left: -150px;                    padding: 0 10px;                    z-index: 999999999;                    background-color: #000;                    border: 1px solid black;                    border-radius: 10px;                    opacity: 0;                    filter: alpha(opacity=65);                    box-shadow: 5px 5px 20px 0px #000;                    -moz-transition:opacity 0.3s ease-in-out 0s;                    -webkit-transition:opacity 0.3s ease-in-out 0s;                    transition:opacity 0.3s ease-in-out 0s;                    pointer-events: none;                    overflow: hidden;                    text-overflow: ellipsis;                    white-space: nowrap;                    max-width: 65%;                    }                    /*\u9876\u680F*/                    span.pv-gallery-head {                    position: absolute;                    top: 0;                    left: 0;                    width: 100%;                    min-height: 30px;                    height: auto;                    z-index:1;                    background-color:rgb(0,0,0);                    border:none;                    border-bottom:1px solid #333333;                    text-align:right;                    line-height:0;                    font-size: 14px;                    color:#757575;                    padding-right:42px;                    display: block;                    overflow-x: visible;                    overflow-y: auto;                    scrollbar-width: none;                    -ms-overflow-style: none;                    }                    span.pv-gallery-head::-webkit-scrollbar {                    width: 0 !important;                    height: 0 !important;                    }                    .pv-gallery-head > span{                    vertical-align:middle;                    }                    /*\u9876\u680F\u5DE6\u8FB9*/                    span.pv-gallery-head-float-left{                    float:left;                    height:100%;                    text-align:left;                    padding-left:5px;                    display: table;                    }                    .pv-gallery-head-float-left > span{                    display:inline-block;                    height:100%;                    vertical-align:middle;                    }                    .pv-gallery-head-float-left > span > *{                    vertical-align:middle;                    }                    .pv-gallery-head-left-img-info{                    cursor:help;                    }                    .pv-gallery-head-left-img-info-description {                    margin-left: 10px;                    margin-right: 10px;                    overflow: hidden;                    text-overflow: ellipsis;                    white-space: nowrap;                    max-width: 6em;                    display: inherit;                    }                    .pv-gallery-range-box{                    display: inline-flex;                    justify-content: center;                    align-items: center;                    }                    .pv-gallery-range-box>#pinSize{                    margin: 0 5px;                    padding: 0px;                    }                    .pv-gallery-range-box>span{                    padding: 0 5px 0 5px;                    white-space: nowrap;                    }                    .pv-gallery-range-box>input{                    background: white;                    min-height: auto;                    padding: 0;                    -webkit-appearance: auto;                    }                    /*\u9876\u680F\u91CC\u9762\u7684\u6309\u94AE\u6837\u5F0F-\u5F00\u59CB*/                    .pv-gallery-head-command{                    display:inline-block;                    cursor:pointer;                    height:100%;                    padding:0 8px;                    text-align:center;                    position:relative;                    z-index:1;                    vertical-align:middle;                    -o-user-select: none;                    -ms-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    /*\u8F85\u52A9\u70B9\u51FB\u4E8B\u4EF6\u7684\u751F\u6210\uFF0Ccountdown*/                    .pv-gallery-head-command_overlayer{                    top:0;                    left:0;                    right:0;                    bottom:0;                    position:absolute;                    opacity:0;                    }                    .pv-gallery-head-command > *{                    vertical-align:middle;                    }                    .pv-gallery-head-command-slide-show-countdown{                    font-size:0.8em;                    }                    span.pv-gallery-head-command-slide-show-button{                    border-radius:36px;                    display:inline-block;                    width:18px;                    height:18px;                    border:2px solid #757575;                    margin-right:3px;                    line-height:0;                    }                    .pv-gallery-head-command-slide-show-button-inner{                    display:inline-block;                    border:none;                    border-top:4px solid transparent;                    border-bottom:4px solid transparent;                    border-left:8px solid #757575;                    vertical-align:middle;                    margin-left: 1px;                    }                    .pv-gallery-head-command-slide-show-button-inner_stop{                    border-color:#757575;                    margin-left: 0px;                    }                    span.pv-gallery-head-command-collect-icon{                    display:inline-block;                    height:20px;                    width:20px;                    background:transparent url("'+c.icons.fivePointedStar+'") 0 0 no-repeat;                    }                    span.pv-gallery-head-left-lock-icon{                    display:inline-block;                    height:20px;                    width:20px;                    cursor:pointer;                    background:transparent url("'+c.icons.lock+'") 0 0 no-repeat;                    }                    span.pv-gallery-head-left-filter-icon{                    display:inline-block;                    height:20px;                    width:20px;                    cursor:pointer;                    background:transparent url("'+c.icons.filter+'") 0 0 no-repeat;                    }                    .pv-gallery-head-command-collect-icon ~ .pv-gallery-head-command-collect-text::after{                    content:"'+o("collect")+'";                    }                    .pv-gallery-head-command-collect-favorite > .pv-gallery-head-command-collect-icon{                    background-position:-40px 0 !important;                    }                    .pv-gallery-head-command-collect-favorite > .pv-gallery-head-command-collect-text::after{                    content:"'+o("collected")+'";                    }                    .pv-gallery-head-command-exit-collection{                    color:#939300 !important;                    display:none;                    }                    .pv-gallery-head-command-urlFilter{                    color:#e9cccc !important;                    display:none;                    }                    .pv-gallery-head-command:hover{                    background-color:#272727;                    color:#ccc;                    }                    /*droplist*/                    .pv-gallery-head-command-drop-list{                    position:fixed;                    display:none;                    box-shadow:0 0 3px #808080;                    background-color:#272727;                    line-height: 1.6;                    text-align:left;                    padding:10px;                    color:#ccc;                    margin-top:-1px;                    z-index:9;                    }                    .pv-gallery-head-command-drop-list-item{                    display:block;                    padding:2px 5px;                    cursor:pointer;                    white-space:nowrap;                    }                    .pv-gallery-head-command-drop-list-item-collect-description{                    cursor:default;                    }                    .pv-gallery-head-command-drop-list-item-collect-description > textarea{                    resize:both;                    width:auto;                    height:auto;                    background: white;                    }                    .pv-gallery-head-command-drop-list-item_disabled{                    color:#757575;                    }                    .pv-gallery-head-command-drop-list-item input + *{                    padding-left:3px;                    }                    .pv-gallery-head-command-drop-list-item input[type=number]{                    text-align:left;                    max-width:50px;                    height:20px;                    background: white;                    color: black;                    box-sizing: border-box;                    display: initial;                    margin: 0 5px;                    padding: 0 5px;                    }                    .pv-gallery-head-command-drop-list-item input[type=checkbox]{                    width:20px;                    box-sizing: border-box;                    display: initial;                    margin: 0 5px;                    opacity: 1;                    position: initial;                    }                    .pv-gallery-head-command-drop-list-item > * {                    vertical-align:middle;                    width: auto;                    opacity: 1;                    height: auto;                    padding: 0;                    margin: 0;                    }                    .pv-gallery-head-command-drop-list-item label {                    font-weight: normal;                    display:inline;                    font-size:unset;                    line-height: initial;                    color: inherit;                    }                    .pv-gallery-head-command-drop-list-item label:after {                    display:none;                    }                    .pv-gallery-head-command-drop-list-item:hover{                    background-color:#404040;                    }                    /*container*/                    .pv-gallery-head-command-container{                    display:inline-block;                    height:100%;                    position:relative;                    }                    /* after\u4F2A\u7C7B\u751F\u6210\u6807\u8BC6\u4E0B\u62C9\u83DC\u5355\u7684\u4E09\u89D2\u56FE\u6807*/                    .pv-gallery-head-command-container > .pv-gallery-head-command::after{                    content:"";                    display:inline-block;                    vertical-align:middle;                    border:none;                    border-top:7px solid #757575;                    border-left:5px solid transparent;                    border-right:5px solid transparent;                    margin-left:5px;                    -moz-transition:all 0.3s ease-in-out 0s;                    -webkit-transition:all 0.3s ease-in-out 0s;                    transition:all 0.3s ease-in-out 0s;                    }                    .pv-gallery-head-command-container:hover{                    box-shadow:0 0 3px #808080;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command{                    background-color:#272727;                    color:#ccc;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command::after{                    -webkit-transform:rotate(180deg);                    -moz-transform:rotate(180deg);                    transform:rotate(180deg);                    border-top:7px solid #ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-collect-icon{                    background-position:-20px 0;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button{                    border-color:#ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button-inner{                    border-left-color:#ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button-inner_stop{                    border-color:#ccc;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command-drop-list,.pv-gallery-head-command-container > .pv-gallery-head-command-drop-list.focus{                    display:block;                    }                    /*\u9876\u680F\u91CC\u9762\u7684\u6309\u94AE\u6837\u5F0F-\u7ED3\u675F*/                    .pv-gallery-body {                    display: block;                    height: 100%;                    width: 100%;                    margin: 0;                    padding: 0;                    border: none;                    border-top: 30px solid transparent;                    position: relative;                    background-clip: padding-box;                    z-index:0;                    }                    .pv-gallery-img-container {                    display: block;                    padding: 0;                    margin: 0;                    border: none;                    height: 100%;                    width: 100%;                    background-clip: padding-box;                    background-color: '+(c.gallery.backgroundColor||"rgba(20,20,20,0.75)")+";                    position:relative;                    transition: background-color .3s ease;                    }                    .pv-gallery-img-container-top {                    border-top: "+c.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-right {                    border-right: "+c.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-bottom {                    border-bottom: "+c.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-left {                    border-left: "+c.gallery.sidebarSize+'px solid transparent;                    }                    /*\u5927\u56FE\u533A\u57DF\u7684\u5207\u6362\u63A7\u5236\u6309\u94AE*/                    .pv-gallery-img-controler{                    position:absolute;                    top:50%;                    height:60px;                    width:50px;                    margin-top:-30px;                    cursor:pointer;                    opacity:0.3;                    z-index:1;                    transition: opacity .5s ease;                    }                    .pv-gallery-sidebar-toggle-hide .pv-gallery-img-controler{                    opacity:0;                    }                    span.pv-gallery-img-controler-pre{                    background:rgba(70,70,70,0.8) url("'+c.icons.arrowLeft+'") no-repeat center;                    left:10px;                    }                    span.pv-gallery-img-controler-next{                    background:rgba(70,70,70,0.8) url("'+c.icons.arrowRight+'") no-repeat center;                    right:10px;                    }                    .pv-gallery-img-controler:hover{                    background-color:rgba(140,140,140,0.8);                    opacity:0.9;                    z-index:2;                    }                    /*\u6EDA\u52A8\u6761\u6837\u5F0F--\u5F00\u59CB*/                    .pv-gallery-scrollbar-h,                    .pv-gallery-scrollbar-v{                    display:none;                    z-index:1;                    position:absolute;                    margin:0;                    padding:0;                    border:none;                    }                    .pv-gallery-scrollbar-h{                    bottom:10px;                    left:0;                    right:0;                    height:10px;                    margin:0 2px;                    }                    .pv-gallery-scrollbar-v{                    top:0;                    bottom:0;                    right:10px;                    width:10px;                    margin:2px 0;                    }                    .pv-gallery-scrollbar-h:hover{                    height:25px;                    bottom:0;                    }                    .pv-gallery-scrollbar-v:hover{                    width:25px;                    }                    .pv-gallery-scrollbar-h:hover,                    .pv-gallery-scrollbar-v:hover{                    background-color:rgba(100,100,100,0.9);                    z-index:2;                    }                    .pv-gallery-scrollbar-h-track,                    .pv-gallery-scrollbar-v-track{                    position:absolute;                    top:0;                    left:0;                    right:0;                    bottom:0;                    background-color:rgba(100,100,100,0.3);                    border:2px solid transparent;                    }                    .pv-gallery-scrollbar-h-handle,                    .pv-gallery-scrollbar-v-handle{                    position:absolute;                    background-color:rgba(0,0,0,0.5);                    }                    .pv-gallery-scrollbar-h-handle{                    height:100%;                    }                    .pv-gallery-scrollbar-v-handle{                    width:100%;                    right: 0;                    }                    .pv-gallery-scrollbar-h-handle:hover,                    .pv-gallery-scrollbar-v-handle:hover{                    background-color:rgba(80,33,33,1);                    border: 2px solid #585757;                    }                    .pv-gallery-scrollbar-h-handle:active,                    .pv-gallery-scrollbar-v-handle:active{                    background-color:rgba(57,26,26,1);                    border: 2px solid #878484;                    }                    /*\u6EDA\u52A8\u6761\u6837\u5F0F--\u7ED3\u675F*/                    .pv-gallery-img-content{                    display:block;                    width:100%;                    height:100%;                    overflow:hidden;                    text-align:center;                    padding:0;                    border:none;                    margin:0;                    line-height:0;                    font-size:0;                    white-space:nowrap;                    }                    .pv-gallery-img-parent{                    display:inline-flex;                    align-items: center;                    vertical-align: middle;                    justify-content: center;                    line-height:0;                    }                    .pv-gallery-img-parent video, .pv-gallery-img-parent>div{                    background-size: cover;                    }                    .pv-gallery-img_broken{                    display:none;                    cursor:pointer;                    }                    .pv-gallery-img{                    position:relative;/*\u8F85\u52A9e.layerX,layerY*/                    display:inline-block;                    vertical-align:middle;                    width:auto;                    height:auto;                    padding:0;                    border:5px solid #313131;                    margin:1px;                    opacity:0.3;                    box-sizing: content-box;                    background-color: #282828cc;                    background-position: center 0;                    background-repeat: no-repeat;                    background-size: cover;                    -webkit-background-size: cover;                    -o-background-size: cover;                    '+(c.gallery.transition?"                    -webkit-transition: opacity 0.5s ease;                    -moz-transition: opacity 0.5s ease;                    transition: opacity 0.5s ease;                    ":"")+"                    }                    .pv-gallery-img_zoom-out{                    cursor:"+Ie.cssCursorValue.zoomOut+";                    }                    .pv-gallery-img_zoom-in{                    cursor:"+Ie.cssCursorValue.zoomIn+";                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img{                    border:0px;                    }                    span.pv-gallery-sidebar-toggle{                    position:absolute;                    line-height:12px;                    text-align:center;                    background-color:rgb(0,0,0);                    color:#757575;                    white-space:nowrap;                    cursor:pointer;                    z-index:2;                    transition: background-color .3s ease, opacity .3s ease;                    justify-content: center;                    display:none;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container>span.pv-gallery-sidebar-toggle{                    opacity: 0.6;                    padding: 35px;                    background-color:#00000000;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container>span.pv-gallery-sidebar-toggle:hover{                    opacity: 1;                    background-color:rgb(0 0 0 / 50%);                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body{                    border-top: 0px solid transparent;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head{                    opacity: 0.1;                    transition: opacity .3s ease;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container{                    background-color: black;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover{                    opacity: 1;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img-parent,                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img{                    cursor: none;                    }                    .pv-gallery-sidebar-viewmore{                    position:absolute;                    line-height:0;                    text-align:center;                    background-color:#00000030;                    color:#a1a1a1;                    white-space:nowrap;                    cursor:pointer;                    z-index: 2;                    display:none;                    height: 30px;                    width:30px;                    border-radius: 15px;                    line-height: 2 !important;                    font-family: auto;                    transition: background-color .3s ease;                    }                    .pv-gallery-sidebar-viewmore:hover{                    opacity: 1;                    background-color:#000000;                    }                    .pv-gallery-maximize-container+p:hover,.pv-gallery-maximize-container.checked+p:hover{                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked+p{                    opacity: 0.8;                    }                    .pv-gallery-maximize-container+p>.need-checked{                    display: none;                    }                    .pv-gallery-maximize-container.checked+p>.need-checked{                    display: inline-block;                    }                    .pv-gallery-maximize-container+p>input{                    pointer-events: all;                    color: white;                    background-color: black;                    border: 0;                    opacity: 0.8;                    padding: 5px 10px;                    cursor: pointer;                    margin: 1px;                    font-size: 20px;                    }                    .pv-gallery-maximize-container+p>input:hover{                    color: red;                    }                    .pv-gallery-maximize-container{                    min-width: 100%;                    display: block;                    background: black;                    margin-left: 3px;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize{                    column-count: unset;                    -moz-column-count: unset;                    -webkit-column-count: unset;                    display: flex;                    flex-flow: wrap;                    justify-content: center;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize span{                    width: 18.5%;                    height: 30vh;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize img{                    position: relative;                    width: unset;                    max-height: 100%;                    max-width: 100%;                    top: 50%;                    transform: translateY(-50%) scale3d(1, 1, 1);                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize img:hover {                    transform: translateY(-50%) scale3d(1.1, 1.1, 1.1);                    }                    .pv-gallery-maximize-container span{                    -moz-page-break-inside: avoid;                    -webkit-column-break-inside: avoid;                    break-inside: avoid;                    float: left;                    margin-bottom: 15px;                    margin-right: 15px;                    overflow: hidden;                    position: relative;                    }                    .pv-gallery-maximize-container>.maximizeChild{                    display: inline-block;                    vertical-align: middle;                    text-align: center;                    background-color: rgba(40, 40, 40, 0.5);                    border: 5px solid #000000;                    font-size: 0px;                    }                    .pv-gallery-maximize-container>.maximizeChild:hover{                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    }                    .pv-gallery-maximize-container>.maximizeChild.selected{                    border: 5px solid #ff000050;                    }                    .pv-gallery-maximize-container img{                    max-width: 100%;                    transition: transform .3s ease 0s;                    transform: scale3d(1, 1, 1);                    cursor: zoom-in;                    min-height: 88px;                    border-radius: 20px;                    }                    .pv-gallery-maximize-container>.maximizeChild:hover img {                    transform: scale3d(1.1, 1.1, 1.1);                    filter: brightness(1.1) !important;                    opacity: 1;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize>.maximizeChild:hover img {                    transform: translateY(-50%) scale3d(1.1, 1.1, 1.1);                    }                    .pv-gallery-maximize-container span>p{                    position: absolute;                    width: 100%;                    max-height: 40%;                    font-size: 18px;                    text-align: center;                    background: #00000080;                    color: #fff;                    left: 0;                    user-select: none;                    word-break: break-all;                    display: inline;                    margin: 0 auto;                    transition:all 0.2s;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner{                    bottom: 0;                    height: 35px;                    cursor: pointer;                    line-height: 40px;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner>svg{                    width: 20px;                    height: 20px;                    vertical-align: middle;                    fill: currentColor;                    overflow: hidden;                    }                    .pv-gallery-maximize-container span>p.pv-top-banner{                    top: 0;                    height: 25px;                    cursor: pointer;                    }                    .pv-gallery-maximize-container span:hover>p{                    opacity: 1!important;                    }                    .pv-gallery-maximize-container span>p:hover{                    background: #000000cc;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner:hover{                    color:red;                    font-weight:bold;                    }                    .pv-gallery-maximize-container span>input{                    position: absolute;                    top: 2px;                    z-index:1;                    width: 20px;                    height: 20px;                    opacity: 0;                    left: 0;                    display: inline;                    cursor: pointer;                    }                    .pv-gallery-maximize-container.checked img,                    .pv-gallery-maximize-container.checked p{                    opacity: 0.3;                    }                    .pv-gallery-maximize-container.checked input:checked+img {                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked span>input{                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked span>.pv-top-banner{                    opacity: 0.6;                    }                    .pv-gallery-maximize-container+p>input.compareBtn{                    display: none;                    }                    .pv-gallery-maximize-container.canCompare+p>input.compareBtn{                    display: inline;                    }                    .pv-gallery-maximize-container span:hover>input{                    opacity: 1;                    }                    .pv-gallery-maximize-scroll{                    overflow-y: scroll;                    overflow-x: hidden;                    height: 100%;                    width: 100%;                    position: absolute;                    display: none;                    top: 0;                    left: 0;                    background: black;                    }                    .pv-gallery-sidebar-toggle:hover,.pv-gallery-sidebar-viewmore:hover{                    color:#ccc;                    }                    .pv-gallery-sidebar-toggle-h{                    width:80px;                    margin-left:-40px;                    left:50%;                    }                    .pv-gallery-sidebar-viewmore-h{                    margin-left:-15px;                    left:50%;                    }                    .pv-gallery-sidebar-toggle-v{                    height:80px;                    margin-top:-40px;                    top:50%;                    }                    .pv-gallery-sidebar-viewmore-v{                    height:30px;                    top:6%;                    top: calc(50% - 25px);                    }                    .pv-gallery-sidebar-toggle-top{                    top:-3px;                    }                    .pv-gallery-sidebar-viewmore-top{                    top:15px;                    }                    .pv-gallery-sidebar-toggle-right{                    right:-3px;                    }                    .pv-gallery-sidebar-viewmore-right{                    right:18px;                    }                    .pv-gallery-sidebar-toggle-bottom{                    bottom:-3px;                    }                    .pv-gallery-sidebar-viewmore-bottom{                    display: block;                    bottom:15px;                    }                    .pv-gallery-sidebar-viewmore-bottom.showmore{                    background-color: rgb(42, 42, 42);                    opacity: 1;                    }                    .pv-gallery-sidebar-toggle-left{                    left:-3px;                    }                    .pv-gallery-sidebar-viewmore-left{                    left:18px;                    }                    span.pv-gallery-sidebar-toggle-content{                    display:inline-block;                    vertical-align:middle;                    white-space:normal;                    word-wrap:break-word;                    overflow-wrap:break-word;                    line-height:16px;                    font-size:18px;                    text-align:center;                    margin-bottom:8px;                    }                    span.pv-gallery-sidebar-viewmore-content{                    display:inline-block;                    vertical-align:middle;                    white-space:normal;                    word-wrap:break-word;                    overflow-wrap:break-word;                    line-height:1;                    font-size:16px;                    text-align:center;                    }                    .pv-gallery-sidebar-toggle-content-v,.pv-gallery-sidebar-viewmore-content-v{                    width:1.1em;                    }                    span.pv-gallery-sidebar-toggle-content-v{                    line-height: 60px !important;                    }                    /*\u4FA7\u8FB9\u680F\u5F00\u59CB*/                    .pv-gallery-sidebar-container {                    position: absolute;                    background-color:rgb(0,0,0);                    padding:5px;                    border:none;                    margin:0;                    text-align:center;                    line-height:0;                    white-space:nowrap;                    -o-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    .pv-gallery-sidebar-container-h {                    height: "+c.gallery.sidebarSize+"px;                    width: 100%;                    }                    .pv-gallery-sidebar-container-v {                    width: "+c.gallery.sidebarSize+'px;                    height: 100%;                    }                    .pv-gallery-sidebar-container-top {                    top: 0;                    left: 0;                    border-bottom:1px solid #333333;                    }                    .pv-gallery-sidebar-container-right {                    top: 0;                    right: 0;                    border-left:1px solid #333333;                    }                    .pv-gallery-sidebar-container-bottom {                    bottom: 0;                    left: 0;                    border-top:1px solid #333333;                    }                    .pv-gallery-sidebar-container-left {                    top: 0;                    left: 0;                    border-right:1px solid #333333;                    }                    .pv-gallery-sidebar-content {                    display: inline-block;                    margin: 0;                    padding: 0;                    border: none;                    background-clip: padding-box;                    vertical-align:middle;                    position:relative;                    text-align:left;                    }                    .pv-gallery-sidebar-content-h {                    height: 100%;                    width: 90%;                    border-left: 40px solid transparent;                    border-right: 40px solid transparent;                    }                    .pv-gallery-sidebar-content-v {                    height: 90%;                    width: 100%;                    border-top: 40px solid transparent;                    border-bottom: 40px solid transparent;                    }                    span.pv-gallery-sidebar-controler{                    cursor:pointer;                    position:absolute;                    background:rgba(255,255,255,0.1) no-repeat center;                    }                    .pv-gallery-sidebar-controler:hover{                    background-color:rgba(255,255,255,0.3);                    }                    .pv-gallery-sidebar-controler-pre-h,                    .pv-gallery-sidebar-controler-next-h{                    top:0;                    width:36px;                    height:100%;                    }                    .pv-gallery-sidebar-controler-pre-v,                    .pv-gallery-sidebar-controler-next-v{                    left:0;                    width:100%;                    height:36px;                    }                    span.pv-gallery-sidebar-controler-pre-h {                    left: -40px;                    background-image: url("'+c.icons.arrowLeft+'");                    }                    span.pv-gallery-sidebar-controler-next-h {                    right: -40px;                    background-image: url("'+c.icons.arrowRight+'");                    }                    span.pv-gallery-sidebar-controler-pre-v {                    top: -40px;                    background-image: url("'+c.icons.arrowTop+'");                    }                    span.pv-gallery-sidebar-controler-next-v {                    bottom: -40px;                    background-image: url("'+c.icons.arrowBottom+'");                    }                    .pv-gallery-sidebar-thumbnails-container {                    display: block;                    overflow: hidden;                    height: 100%;                    width: 100%;                    margin:0;                    border:none;                    padding:0;                    line-height:0;                    position:relative;                    }                    .pv-gallery-sidebar-thumbnails-container span{                    vertical-align:middle;                    }                    .pv-gallery-sidebar-thumbnails-container-h{                    border-left:1px solid #464646;                    border-right:1px solid #464646;                    white-space:nowrap;                    }                    .pv-gallery-sidebar-thumbnails-container-v{                    border-top:1px solid #464646;                    border-bottom:1px solid #464646;                    white-space:normal;                    }                    .pv-gallery-sidebar-thumbnails-container-top {                    padding-bottom:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-right {                    padding-left:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-bottom {                    padding-top:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-left {                    padding-right:5px;                    }                    span.pv-gallery-sidebar-thumb-container {                    display:inline-block;                    text-align: center;                    border:2px solid rgb(52,52,52);                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    cursor:pointer;                    position:relative;                    padding:2px;                    font-size:0;                    line-height:0;                    white-space:nowrap;                    vertical-align: middle;                    top:0;                    left:0;                    -webkit-transition:all 0.2s ease-in-out;                    transition:all 0.2s ease-in-out;                    }                    span.pv-gallery-sidebar-thumb-container.ignore {                    opacity: 0.5;                    }                    .pv-gallery-sidebar-thumbnails-container-h  .pv-gallery-sidebar-thumb-container {                    margin:0 2px;                    height:100%;                    }                    .pv-gallery-sidebar-thumbnails-container-v  .pv-gallery-sidebar-thumb-container {                    margin:2px 0;                    width:100%;                    }                    .pv-gallery-sidebar-thumbnails_hide-span > .pv-gallery-sidebar-thumb-container {                    display:none;                    }                    .pv-gallery-sidebar-thumb-container:hover {                    border:2px solid rgb(57,149,211);                    }                    span.pv-gallery-sidebar-thumb_selected {                    border:2px solid rgb(229,59,62);                    }                    .pv-gallery-sidebar-thumb_selected-top {                    top:5px;                    }                    .pv-gallery-sidebar-thumb_selected-right {                    left:-5px;                    }                    .pv-gallery-sidebar-thumb_selected-bottom {                    top:-5px;                    }                    .pv-gallery-sidebar-thumb_selected-left {                    left:5px;                    }                    span.pv-gallery-sidebar-thumb-loading{                    position:absolute;                    top:0;                    left:0;                    text-align:center;                    width:100%;                    height:100%;                    display:none;                    opacity:0.6;                    background:black url("'+c.icons.loading+'") no-repeat center ;                    }                    .pv-gallery-sidebar-thumb-loading:hover{                    opacity:0.8;                    }                    .pv-gallery-sidebar-thumb {                    display: inline-block;                    vertical-align: middle;                    max-width: 100% !important;                    max-height: 100% !important;                    height: auto !important;                    width: auto !important;                    min-width: 10%;                    min-height: 10%;                    }                    .pv-gallery-urls-textarea {                    display: none;                    position: fixed;                    top: 10vh;                    left: 10vw;                    z-index: 100;                    }                    .pv-gallery-urls-textarea>textarea {                    width: 80vw;                    height: 80vh;                    border: 10px solid #272727;                    background: #ffffffee;                    color: black;                    text-wrap: nowrap;                    }                    span.pv-gallery-urls-textarea-close,                    span.pv-gallery-urls-textarea-download{                    height: 40px;                    top: -25px;                    background: #272727 no-repeat center;                    color: white;                    border-radius: 50%;                    cursor: pointer;                    }                    span.pv-gallery-urls-textarea-close:hover,                    span.pv-gallery-urls-textarea-download:hover {                    background-color: black;                    }                    span.pv-gallery-urls-textarea-close {                    position:absolute;                    right: -25px;                    width:40px;                    background-image:url("'+c.icons.loadingCancle+'");                    }                    span.pv-gallery-urls-textarea-download {                    position: absolute;                    left: -25px;                    width: 40px;                    display: flex;                    align-items: center;                    justify-content: center;                    }                    span.pv-gallery-urls-textarea-download>svg {                    height: 15px;                    width: 15px;                    fill: white;                    }                    .pv-gallery-vertical-align-helper{                    display:inline-block;                    vertical-align:middle;                    width:0;                    height:100%;                    margin:0;                    border:0;                    padding:0;                    visibility:hidden;                    white-space:nowrap;                    background-color:red;                    }                    '),this.globalSSheet=je.style.sheet;var e=u.head,t=u.createElement("style");this.thumbVisibleStyle=t,t.type="text/css",e.appendChild(t)}},je.prototype.Preload.prototype={init:function(){if(!this.container){var e=u.createElement("div");e.className="pv-gallery-preloaded-img-container",e.style.display="none",Le(u).appendChild(e),je.prototype.Preload.prototype.container=e}this.max=c.gallery.max,this.nextNumber=0,this.nextEle=this.ele,this.preNumber=0,this.preEle=this.ele,this.direction="pre"},preload:function(){var e=this.getPreloadEle();e&&this.waitForReady(e)},waitForReady:function(e){var t=this,i=()=>{t.imgReady=Ae(D(e,"src"),{loadEnd:function(s){if(!t.aborted){if(s.type=="error"){var n=D(e,"srcs");if(n&&(n=n.split(",")),n&&n.length>0){var d=n.shift();if(D(e,"srcs",n.join(",")),d){D(e,"src",d),t.waitForReady(e);return}}}if(D(e,"preloaded","true"),!D(e,"naturalSize")&&this.naturalHeight&&this.naturalWidth){D(e,"naturalSize",JSON.stringify({h:this.naturalHeight,w:this.naturalWidth}));let v=this.naturalWidth+"x"+this.naturalHeight;if(t.oriThis.sizeMap[v]=(t.oriThis.sizeMap[v]||0)+1,t.oriThis.sizeMap[v]===2){let C=u.createElement("option");C.innerText=v,C.value=this.naturalWidth+"-"+this.naturalWidth+"x"+this.naturalHeight+"-"+this.naturalHeight,t.oriThis.pinSize.appendChild(C)}}t.container.appendChild(this),t.preload()}},time:60*1e3})},a=D(e,"xhr")!=="stop"&&this.oriThis.getPropBySpanMark(e,"xhr");if(a){var l=function(){D(e,"xhr","stop"),D(e,"src",D(e,"thumbSrc")),i()};gt.load({url:D(e,"src"),xhr:a,cb:function(s,n,d,v){if(s){if(D(e,"src",s),D(e,"xhr","stop"),d&&D(e,"description",d),i(),n&&n.length){let C=0;n.forEach(m=>{if(m==s)return;let T=u.createElement("img");T.src=m;let M=v&&v[C]?v[C]:d;Ae(T,{ready:function(){let p=wt(T);M&&(p.description=M),t.oriThis.data.push(p),t.oriThis._appendThumbSpans([p]),t.oriThis.loadThumb()}}),C++})}}else l()},onerror:l})}else i()},getPreloadEle:function(){if(!(this.max<=this.nextNumber&&this.max<=this.preNumber||!this.nextEle&&!this.preEle)){var e=this.direction=="pre"?this.getNext():this.getPrevious();return e&&!D(e,"preloaded")?e:this.getPreloadEle()}},getNext:function(){if(this.nextNumber++,this.direction="next",!!this.nextEle)return this.nextEle=this.oriThis.getThumSpan(!1,this.nextEle)},getPrevious:function(){if(this.preNumber++,this.direction="pre",!!this.preEle)return this.preEle=this.oriThis.getThumSpan(!0,this.preEle)},abort:function(){this.aborted=!0,this.imgReady&&this.imgReady.abort()}},je.prototype.Scrollbar.prototype={init:function(){var e=this.scrollbar.bar;this.shown=e.offsetWidth!=0;var t=this;e.addEventListener("mousedown",function(i){i.preventDefault();var a=i.target,l=t.scrollbar.handle,s=t.scrollbar.track;switch(a){case l:{let Y=t.isHorizontal?["left","clientX"]:["top","clientY"];var n=parseFloat(l.style[Y[0]]),d=i[Y[1]],v=function(q){t.scroll(n+q[Y[1]]-d,!0)};let w=function(){u.removeEventListener("mousemove",v,!0),u.removeEventListener("mouseup",w,!0)};u.addEventListener("mousemove",v,!0),u.addEventListener("mouseup",w,!0)}break;case s:{let Y=t.isHorizontal?["left","offsetX","layerX","clientWidth","offsetWidth"]:["top","offsetY","layerY","clientHeight","offsetHeight"];var C=typeof i[Y[1]]>"u"?i[Y[2]]:i[Y[1]],m=parseFloat(l.style[Y[0]]),T=l[Y[4]],M=C>m,p=t.container[Y[3]],I=function(){t.scrollBy(M?p-10:-p+10)};I();var E=function(){var q=parseFloat(l.style[Y[0]]);C>=q&&C<=q+T&&(clearTimeout(re),clearInterval(X))},X,re=setTimeout(function(){I(),X=setInterval(function(){I(),E()},120),E()},300);E();let w=function(){clearTimeout(re),clearInterval(X),u.removeEventListener("mouseup",w,!0)};u.addEventListener("mouseup",w,!0)}break}},!0)},reset:function(){var e=this.isHorizontal?["scrollWidth","clientWidth","width"]:["scrollHeight","clientHeight","height"],t=this.container[e[0]],i=this.container[e[1]],a=t-i;if(this.scrollMax=a,a>0){this.show();var l=this.scrollbar.track[e[1]];this.trackSize=l;var s=Math.floor(i/t*l);s=Math.max(20,s),this.handleSize=s,this.one=(l-s)/a,this.scrollbar.handle.style[e[2]]=s+"px",this.scroll(this.getScrolled())}else this.hide()},show:function(){this.shown||(this.shown=!0,this.scrollbar.bar.style.display="block")},hide:function(){this.shown&&(this.shown=!1,this.scrollbar.bar.style.display="none")},scrollBy:function(e,t){return this.scroll(this.getScrolled()+(t?e/this.one:e))},scrollByPages:function(e){this.scroll(this.getScrolled()+(this.container[this.isHorizontal?"clientWidth":"clientHeight"]-10)*e)},scroll:function(e,t,i){if(this.shown){var a=e;a=t?e/this.one:e,a=Math.max(0,a),a=Math.min(a,this.scrollMax);var l=this.isHorizontal?["left","scrollLeft"]:["top","scrollTop"];e=t?e:this.one*e,e=Math.max(0,e),e=Math.min(e,this.trackSize-this.handleSize);var s=this.scrollbar.handle.style,n=this.container;if(i){clearInterval(this.transitionInterval);var d=0,v=10,C=this.getScrolled(),m=a-C,T=parseFloat(s[l[0]]),M=e-T,p=setInterval(function(){var E=Me.Cubic.easeInOut(d,C,m,v),X=Me.Cubic.easeInOut(d,T,M,v);n[l[1]]=E,s[l[0]]=X+"px",d++,d>=v&&clearInterval(p)},35);this.transitionInterval=p;return}var I=s[l[0]].replace(/(\.\d*)?\s*px/,"")==Math.floor(e);return s[l[0]]=e+"px",n[l[1]]=a,I}},getScrolled:function(){return this.container[this.isHorizontal?"scrollLeft":"scrollTop"]}};function et(e,t){this.img=e,this.data=t,this.init()}et.all=[],et.styleZIndex=9e8,et.prototype={init:function(){et.zoomRange=c.magnifier.wheelZoom.range.slice(0).sort((M,p)=>M-p),et.zoomRangeR=et.zoomRange.slice(0).reverse(),this.addStyle(),et.all.push(this);var e=u.createElement("span");e.className="pv-magnifier-container",Le(u).appendChild(e),this.magnifier=e;var t={h:this.img.naturalHeight,w:this.img.naturalWidth};this.imgNaturalSize=t;var i=e.style;i.zIndex=et.styleZIndex++;var a=Math.ceil(Math.sqrt(Math.pow(1/2*t.w,2)+Math.pow(1/2*t.h,2))*2);this.maxDia=a;var l=c.magnifier.radius;l=Math.min(a/2,l),this.radius=l;var s=l*2;this.diameter=s,i.width=s+"px",i.height=s+"px",i.borderRadius=l+1+"px",i.backgroundImage='url("'+this.img.src+'")',i.marginLeft=-l+"px",i.marginTop=-l+"px";var n=me(this.data.img),d=F(),v={x:[n.left+d.x,n.right+d.x],y:[n.top+d.y,n.bottom+d.y]},C=v.x[1]-v.x[0],m=v.y[1]-v.y[0],T=60;C<T&&(v.x[1]+=(T-C)/2,v.x[0]-=(T-C)/2,C=T),m<T&&(v.y[1]+=(T-m)/2,v.y[0]-=(T-m)/2,m=T),this.imgSize={w:C,h:m},this.imgRange=v,this.setMouseRange(),this.move({pageX:v.x[0],pageY:v.y[0]}),this._focus=this.focus.bind(this),this._blur=this.blur.bind(this),this._move=this.move.bind(this),this._remove=this.remove.bind(this),this._pause=this.pause.bind(this),this._zoom=this.zoom.bind(this),this._clickOut=this.clickOut.bind(this),this._keydown=this.keydown.bind(this),(c.magnifier.wheelZoom.enabled||c.magnifier.wheelZoom.scaleImage!==!1)&&(this.zoomLevel=1,this.defaultDia=s,Pe(e,this._zoom,!1)),e.addEventListener("mouseover",this._focus,!1),e.addEventListener("mouseout",this._blur,!1),e.addEventListener("dblclick",this._remove,!1),e.addEventListener("click",this._pause,!1),u.addEventListener("keydown",this._keydown,!0),u.addEventListener("mousemove",this._move,!0),u.addEventListener("mouseup",this._clickOut,!0)},addStyle:function(){if(et.style){et.style.parentNode||(et.style=V(et.style.innerText));return}et.style=V("                    .pv-magnifier-container{                    position:absolute;                    padding:0;                    margin:0;                    background-origin:border-box;                    -moz-box-sizing:border-box;                    box-sizing:border-box;                    border:3px solid #CCCCCC;                    background:rgba(40, 40, 40, 0.9) no-repeat;                    }                    .pv-magnifier-container_focus{                    box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.7);                    }                    .pv-magnifier-container_pause{                    border-color:red;                    }                    ")},clickOut:function(e){this.magnifier.classList.contains("pv-magnifier-container_focus")||this.remove(e)},focus:function(){this.magnifier.classList.add("pv-magnifier-container_focus"),this.magnifier.style.zIndex=et.styleZIndex++},blur:function(){this.magnifier.classList.remove("pv-magnifier-container_focus")},move:function(e){var t={x:e.pageX,y:e.pageY},i=this.mouseRange,a=this.imgRange;if(t.x>=i.x[0]&&t.x<=i.x[1]&&t.y>=i.y[0]&&t.y<=i.y[1]){t.x>a.x[1]?t.x=a.x[1]:t.x<a.x[0]&&(t.x=a.x[0]),t.y>a.y[1]?t.y=a.y[1]:t.y<a.y[0]&&(t.y=a.y[0]);var l=this.magnifier.style;l.top=t.y+"px",l.left=t.x+"px";var s=this.radius,n=this.imgSize,d=this.imgNaturalSize,v=-((t.x-a.x[0])/n.w*d.w)+s+"px",C=-((t.y-a.y[0])/n.h*d.h)+s+"px";l.backgroundPosition=v+" "+C}},getNextZoomLevel:function(){var e,t=this;return this.zoomOut?et.zoomRangeR.find(function(a){if(a<t.zoomLevel)return e=a,!0})||(e=t.zoomLevel*.9):et.zoomRange.find(function(a){if(a>t.zoomLevel)return e=a,!0})||(e=t.zoomLevel*1.1),e},zoom:function(e){if(!(e.metaKey!=!!c.magnifier.wheelZoom.meta||e.altKey!=!!c.magnifier.wheelZoom.alt||e.ctrlKey!=!!c.magnifier.wheelZoom.ctrl||e.shiftKey!=!!c.magnifier.wheelZoom.shift)&&e.deltaY!==0){var t=this.magnifier.style;if(c.magnifier.wheelZoom.pauseFirst&&!this.paused){if(c.magnifier.wheelZoom.scaleImage!==!1){let d=t.transform.match(/[\d\.]+/);d?d=parseFloat(d[0]):d=1,e.deltaY<0?d+=.1:d-=.1,d<.5&&(d=.5),t.transform=`scale(${d})`,e.preventDefault()}return}if(c.magnifier.wheelZoom.enabled){if(e.preventDefault(),e.deltaY<0){if(this.diameter>=this.maxDia)return;this.zoomOut=!1}else this.zoomOut=!0;var i=this.getNextZoomLevel();if(i){this.zoomLevel=i;var a=this.defaultDia*i;a>this.maxDia&&(a=this.maxDia);var l=a/2;this.diameter=a;var s=this.radius;this.radius=l,this.setMouseRange(),t.width=a+"px",t.height=a+"px",t.borderRadius=l+1+"px",t.marginLeft=-l+"px",t.marginTop=-l+"px";var n=t.backgroundPosition.split(" ");t.backgroundPosition=parseFloat(n[0])+(l-s)+"px "+(parseFloat(n[1])+(l-s)+"px")}}}},pause:function(){this.paused?(this.magnifier.classList.remove("pv-magnifier-container_pause"),u.addEventListener("mousemove",this._move,!0)):(this.magnifier.classList.add("pv-magnifier-container_pause"),u.removeEventListener("mousemove",this._move,!0)),this.paused=!this.paused},setMouseRange:function(){var e=this.imgRange,t=this.radius;this.mouseRange={x:[e.x[0]-t,e.x[1]+t],y:[e.y[0]-t,e.y[1]+t]}},keydown:function(e){e&&(e.preventDefault(),e.stopPropagation(),e.keyCode==27&&this.remove())},remove:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.magnifier.parentNode&&(this.magnifier.parentNode.removeChild(this.magnifier),et.all.splice(et.all.indexOf(this),1)),u.removeEventListener("mousemove",this._move,!0),u.removeEventListener("mouseup",this._clickOut,!0),u.removeEventListener("keydown",this._keydown,!0)}};function Be(e,t,i,a,l){this.loaded=!1,this.img=e,this.actual=!!i,this.src=t?t.src:e.src,this.data=t||wt(e),this.initPos=a||!1,this.preview=!!l,this.isImg=this.img.nodeName.toUpperCase()=="IMG",this.init(),t&&this.isImg&&(this.img.src=location.protocol=="https"?t.src.replace(/^http:/,"https:"):t.src)}Be.all=[],Be.overlayer=null,Be.prototype={init:function(){Be.showing=!0,Be.zoomRange=c.imgWindow.zoom.range.slice(0).sort((w,q)=>w-q),Be.zoomRangeR=Be.zoomRange.slice(0).reverse();var e=this;if(Ce&&!Ce.removed&&Ce.remove(),!this.preview&&Be.all.find(function(w){if(w.src==e.src)return w.firstOpen(),!0}))return;this.addStyle();var t=this.img;t.className="pv-pic-window-pic pv-pic-ignored",t.style.cssText="                 top:0px;                 left:0px;                 ";var i={h:t.naturalHeight,w:t.naturalWidth};this.imgNaturalSize=i,this.following=!1;var a=u.createElement("span");a.style.cssText='                 cursor:pointer;                 top:0px;                 left:0px;                 opacity:0;                 background:black url("'+c.icons.loading+'") center no-repeat;                 ',a.className="pv-pic-window-container",a.innerHTML=xe('<span class="pv-pic-window-imgbox transition-transform"></span><span class="pv-pic-window-rotate-indicator"><span class="pv-pic-window-rotate-indicator-pointer"></span></span><span class="pv-pic-window-rotate-overlayer"></span><span class="pv-pic-window-toolbar" unselectable="on"><span class="pv-pic-window-tb-hand pv-pic-window-tb-tool" title="'+o("hand")+'"></span><span class="pv-pic-window-tb-tool-badge-container pv-pic-window-tb-tool-extend-menu-container"><span class="pv-pic-window-tb-rotate pv-pic-window-tb-tool" title="'+o("rotate")+'(r)"></span><span class="pv-pic-window-tb-tool-badge">0</span><span class="pv-pic-window-tb-tool-extend-menu pv-pic-window-tb-tool-extend-menu-rotate"><span class="pv-pic-window-tb-tool-extend-menu-item" title="+90"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4332"><path d="M435.2 362.666667l179.2-179.2L435.2 0 375.466667 59.733333l76.8 76.8H341.333333c-119.466667 0-213.333333 93.866667-213.333333 213.333334v170.666666h85.333333v-170.666666c0-72.533333 55.466667-128 128-128h115.2L375.466667 302.933333l59.733333 59.733334zM853.333333 384H426.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h426.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V426.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666666 426.666667h-341.333334v-341.333334h341.333334v341.333334z" p-id="4333"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="-90"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4595"><path d="M682.666667 136.533333h-115.2l76.8-76.8L588.8 0 405.333333 179.2l179.2 179.2L644.266667 298.666667l-76.8-76.8H682.666667c72.533333 0 128 55.466667 128 128v170.666666h85.333333v-170.666666c0-115.2-93.866667-213.333333-213.333333-213.333334zM597.333333 384H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h426.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V426.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666666 426.666667H213.333333v-341.333334h341.333334v341.333334z" p-id="4596"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="0"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3716"><path d="M867.89 574.16a30.73 30.73 0 0 0-37.52 21.92c-38 144.83-169.31 246-319.25 246a330.71 330.71 0 0 1-306.27-206.82h60.29l-92.78-123.5-91.82 123.5h58.88q1.23 3.72 2.53 7.4A391.65 391.65 0 0 0 511.12 903.5c177.86 0 333.58-120 378.69-291.82a30.73 30.73 0 0 0-21.92-37.52zM153.88 452.57a30.69 30.69 0 0 0 37.35-22.2A329.68 329.68 0 0 1 511.12 182c136.8 0 256.58 82 306.4 207h-60.66l92.78 123.5L941.46 389h-58.58a391.63 391.63 0 0 0-751.2 26.24 30.73 30.73 0 0 0 22.2 37.33z" p-id="3717"></path></svg></span></span></span><span class="pv-pic-window-tb-tool-badge-container pv-pic-window-tb-tool-extend-menu-container"><span class="pv-pic-window-tb-zoom pv-pic-window-tb-tool" title="'+o("scale")+'(z)"></span><span class="pv-pic-window-tb-tool-badge">0</span><span class="pv-pic-window-tb-tool-extend-menu pv-pic-window-tb-tool-extend-menu-zoom"><span id="pv-pic-zoom-in" class="pv-pic-window-tb-tool-extend-menu-item" title="+0.1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3134"><path d="M754.2 151.5h-89.5v42.7h89.5c59.5 0 108 48.4 108 108v67.6h42.7v-67.6c0-83.1-67.6-150.7-150.7-150.7zM862.2 737.3c0 59.5-48.4 108-108 108h-89.5V888h89.5c83.1 0 150.7-67.6 150.7-150.7v-67.6h-42.7v67.6zM166.3 737.8v-67.6h-42.7v67.6c0 83.1 67.6 150.7 150.7 150.7h89.5v-42.7h-89.5c-59.5 0-108-48.4-108-108zM416.3 261.8h-42.8v126H247.6v42.7h125.9V556h42.8V430.5h125.4v-42.7H416.3zM773.6 789.4l30.2-30.2-190.1-190.6c32.7-44.8 52-99.9 52-159.5 0-149.7-121.6-271.3-271.3-271.3-149.3 0-271.3 121.6-271.3 271.3 0 149.3 121.5 271.3 271.3 271.3 74.5 0 142.3-30.3 191.4-79.3l187.8 188.3zM394.4 637.7c-126 0-228.6-102.5-228.6-228.6s102.5-228.6 228.6-228.6S623 283.1 623 409.2 520.5 637.7 394.4 637.7z" p-id="3135"></path></svg></span><span id="pv-pic-zoom-out" class="pv-pic-window-tb-tool-extend-menu-item" title="-0.1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2674"><path d="M754.2 151.5h-89.5v42.7h89.5c59.5 0 108 48.4 108 108v67.6h42.7v-67.6c0-83.1-67.6-150.7-150.7-150.7zM862.2 737.3c0 59.5-48.4 108-108 108h-89.5V888h89.5c83.1 0 150.7-67.6 150.7-150.7v-67.6h-42.7v67.6zM166.3 737.8v-67.6h-42.7v67.6c0 83.1 67.6 150.7 150.7 150.7h89.5v-42.7h-89.5c-59.5 0-108-48.4-108-108zM247.6 387.8h294.2v42.7H247.6zM773.6 789.4l30.2-30.2-190.1-190.6c32.7-44.8 52-99.9 52-159.5 0-149.7-121.6-271.3-271.3-271.3-149.3 0-271.3 121.6-271.3 271.3 0 149.3 121.6 271.3 271.3 271.3 74.5 0 142.3-30.3 191.4-79.3l187.8 188.3zM394.4 637.7c-126 0-228.6-102.5-228.6-228.6s102.5-228.6 228.6-228.6S623 283.1 623 409.2 520.5 637.7 394.4 637.7z" p-id="2675"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3716"><path d="M867.89 574.16a30.73 30.73 0 0 0-37.52 21.92c-38 144.83-169.31 246-319.25 246a330.71 330.71 0 0 1-306.27-206.82h60.29l-92.78-123.5-91.82 123.5h58.88q1.23 3.72 2.53 7.4A391.65 391.65 0 0 0 511.12 903.5c177.86 0 333.58-120 378.69-291.82a30.73 30.73 0 0 0-21.92-37.52zM153.88 452.57a30.69 30.69 0 0 0 37.35-22.2A329.68 329.68 0 0 1 511.12 182c136.8 0 256.58 82 306.4 207h-60.66l92.78 123.5L941.46 389h-58.58a391.63 391.63 0 0 0-751.2 26.24 30.73 30.73 0 0 0 22.2 37.33z" p-id="3717"></path></svg></span></span></span><span class="pv-pic-window-tb-flip-horizontal pv-pic-window-tb-command" title="'+o("horizontalFlip")+'"></span><span class="pv-pic-window-tb-flip-vertical pv-pic-window-tb-command" title="'+o("verticalFlip")+'"></span><span class="pv-pic-window-tb-compare pv-pic-window-tb-command" title="'+o("compareBtn")+'"></span></span><span class="pv-pic-window-max"  title="'+o("gallery")+'(g)"></span><span class="pv-pic-window-close"></span><svg class="pv-pic-window-scrollSign" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><ellipse ry="501.5" rx="331.5" cy="510.78408" cx="514.68283" stroke="#000" fill="#fff"/><path d="M512 212.468019m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM512 383.400936m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM512 554.333853m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM609.447738 651.781591L512 749.229329l-97.447738-97.447738c-17.572543-17.572543-43.132605-17.572543-59.107644 0s-17.572543 43.132605 0 59.107645l127.800312 127.800312c7.98752 7.98752 20.767551 12.780031 30.352574 12.780031s20.767551-4.792512 30.352574-12.780031l127.800312-127.800312c17.572543-17.572543 17.572543-43.132605 0-59.107645-19.170047-17.572543-44.730109-17.572543-62.302652 0zM555.132605 0h-84.667706C302.726989 0 171.731669 132.592824 171.731669 298.733229v426.533542c0 166.140406 132.592824 298.733229 298.73323 298.733229h84.667706c166.140406 0 298.733229-132.592824 298.73323-298.733229V298.733229C852.268331 132.592824 721.273011 0 555.132605 0zM767.600624 723.669267c0 119.812793-94.25273 212.468019-212.468019 212.468018h-84.667706c-119.812793 0-212.468019-94.25273-212.468019-212.468018V298.733229c0-119.812793 94.25273-212.468019 212.468019-212.468018h84.667706c119.812793 0 212.468019 94.25273 212.468019 212.468018v424.936038z"></path></svg><span class="pv-pic-window-range"></span><span class="pv-pic-window-description"></span><span class="pv-pic-window-pre"></span><span class="pv-pic-window-next"></span><span class="pv-pic-search-state"><span></span>'+c.icons.downloadSvgBtn+"</span>");let l=a.firstChild;l.appendChild(t),this.imgbox=l,this.imgWindow=a;var s={hand:a.querySelector(".pv-pic-window-tb-hand"),rotate:a.querySelector(".pv-pic-window-tb-rotate"),zoom:a.querySelector(".pv-pic-window-tb-zoom"),fh:a.querySelector(".pv-pic-window-tb-flip-horizontal"),fv:a.querySelector(".pv-pic-window-tb-flip-vertical"),compare:a.querySelector(".pv-pic-window-tb-compare")};this.toolMap=s;var n=a.querySelector(".pv-pic-window-pre");n.addEventListener("click",function(w){w.preventDefault(),w.stopPropagation(),e.switchImage(!1)},!1);var d=a.querySelector(".pv-pic-window-next");d.addEventListener("click",function(w){w.preventDefault(),w.stopPropagation(),e.switchImage(!0)},!1),we&&(we.shown||we.minimized)&&(n.style.display="none",d.style.display="none"),this.imgStateBox=a.querySelector(".pv-pic-search-state"),this.imgState=a.querySelector(".pv-pic-search-state>span"),this.preButton=a.querySelector(".pv-pic-window-pre"),this.nextButton=a.querySelector(".pv-pic-window-next");let v=a.querySelector(".pv-pic-search-state>svg");v&&v.addEventListener("click",function(w){if(!e.data||!e.img){ae(e);return}w.preventDefault(),w.stopPropagation(),w.altKey||w.ctrlKey||w.metaKey||w.shiftKey?y(e.img.src,{active:!1}):lt(e.img.src,e.data.img.title||e.data.img.alt,c.saveName)},!0);var C=a.querySelector(".pv-pic-window-close");C.style.cssText="top: -22px;right: 0px;",this.closeButton=C,C.addEventListener("click",function(w){e.remove()},!1);var m=a.querySelector(".pv-pic-window-max");m.style.cssText="top: -22px;right: 46px;",this.maxButton=m,m.addEventListener("click",async function(w){we||(we=new je,we.data=[]);var q=await we.getAllValidImgs();q.target=e.data,we.data=q,we.load(we.data),e.remove()},!1);var T,M;if(t.onerror=function(w){if(!(e.removed||!e.isImg)&&(console.info(t.src+" "+o("loadError")),!!e.data)){var q;if(e.data.srcs&&(q=e.data.srcs.shift()),q)t.src=q;else{t.src!=e.data.imgSrc&&(t.src=e.data.imgSrc);return}}},this.curIndex=-1,this.data&&this.data.all&&this.data.all.length>1){for(let w=0;w<this.data.all.length;w++)if(this.data.src.indexOf(this.data.all[w].replace(/^(video|audio):/,""))!==-1){this.curIndex=w;break}}if(t.onload=function(w){if(!e.removed){if(e.loaded=!0,a.style.background="",e.preview&&t.naturalHeight==1&&t.naturalWidth==1){e.remove();return}e.imgWindow.style.display="",e.imgNaturalSize={h:t.naturalHeight,w:t.naturalWidth},e.setToolBadge("zoom",e.zoomLevel),e==Ce&&c.floatBar.globalkeys.previewFollowMouse?e.followPos(Xt,Kt):e.zoomed||(e.imgWindow.classList.contains("pv-pic-window-scroll")||(e.zoomLevel=0,e.zoom(1)),e==Ce&&e.initMaxSize(),c.imgWindow.fitToScreen&&e.fitToScreen(),e.initPos?(e.imgWindow.style.left=e.initPos.left,e.imgWindow.style.top=e.initPos.top):e.center(!0,!0)),e.imgWindow.style.opacity=1,e.keepScreenInside();var q=ke();q.h-=16,q.w-=16,e.isLongImg=e.imgNaturalSize.h>=q.h&&e.imgNaturalSize.h/e.imgNaturalSize.w>2.5}},i.h&&i.w&&(a.style.background="",Ue(`<strong>${t.naturalWidth} x ${t.naturalHeight}</strong>`,e.imgState)),this.isImg||(/^video$/i.test(t.nodeName)?(t.naturalHeight=t.videoHeight||1080,t.naturalWidth=t.videoWidth||1920):/^audio$/i.test(t.nodeName)&&(t.naturalHeight=50,t.naturalWidth=350),setTimeout(()=>{t.onload()},0)),this.data){var p=a.querySelector(".pv-pic-window-description");let w=this.data.description||"";if(Array.isArray(this.data.description)&&Array.isArray(this.data.all)){let q;for(q=0;q<this.data.all.length&&this.data.src.indexOf(this.data.all[q].replace(/^(video|audio):/,""))===-1;q++);w=w[q]||w[0]||""}p.textContent=w.trim(),this.imgStateBox.title=w,p.style.display=w?"inline":"none",this.descriptionSpan=p}var I=a.querySelector(".pv-pic-window-toolbar");I.style.cssText="                top: 0px;                left: -42px;                ",this.toolbar=I,this.selectedToolClass="pv-pic-window-tb-tool-selected",this.viewRange=a.querySelector(".pv-pic-window-range"),this.rotateIndicator=a.querySelector(".pv-pic-window-rotate-indicator"),this.rotateIPointer=a.querySelector(".pv-pic-window-rotate-indicator-pointer"),this.rotateOverlayer=a.querySelector(".pv-pic-window-rotate-overlayer"),this.hKeyUp=!0,this.rKeyUp=!0,this.zKeyUp=!0,this.spaceKeyUp=!0,this.ctrlKeyUp=!0,this.altKeyUp=!0,this.shiftKeyUp=!0,this.moving=!1,a.querySelector(".pv-pic-window-tb-tool-extend-menu-zoom").addEventListener("click",function(w){var q=w.target,ye=q.title,de;switch(ye){case"1":de=1;break;case"+0.1":de=e.zoomLevel+.1;break;case"-0.1":de=e.zoomLevel-.1;break}typeof de<"u"&&e.zoom(de,{x:0,y:0})},!0),a.querySelector(".pv-pic-window-tb-tool-extend-menu-rotate").addEventListener("click",function(w){var q=w.target,ye=q.title,de;function Se(_e){return _e*Math.PI/180}switch(ye){case"0":de=0;break;case"+90":de=e.rotatedRadians+Se(90);break;case"-90":de=e.rotatedRadians-Se(90);break}var Re=Math.PI;typeof de<"u"&&(de>=2*Re?de-=2*Re:de<0&&(de+=2*Re),e.rotate(de,!0))},!0),I.addEventListener("mousedown",function(w){e.toolbarEventHandler(w)},!1),I.addEventListener("click",function(w){w.preventDefault(),w.stopPropagation()},!1),I.addEventListener("dblclick",function(w){e.toolbarEventHandler(w)},!1),t.addEventListener("mousedown",function(w){w.preventDefault()},!1);let E=setTimeout(()=>{this!==Ce&&a.classList.add("hideToolbar")},800);if(l.addEventListener("mousemove",function(w){w.preventDefault(),clearTimeout(E),a.classList.remove("hideToolbar"),E=setTimeout(()=>{a.classList.add("hideToolbar")},800)},!1),l.addEventListener("mouseleave",function(w){w.preventDefault(),clearTimeout(E),a.classList.remove("hideToolbar")},!1),a.addEventListener("mousedown",function(w){e.imgWindowEventHandler(w)},!1),a.addEventListener("touchstart",function(w){e.imgWindowEventHandler(w)},{passive:!0,capture:!1}),a.addEventListener("click",function(w){e.imgWindowEventHandler(w)},!1),c.imgWindow.zoom.mouseWheelZoom&&Pe(a,function(w){if(w.target&&(w.target.className=="pv-pic-window-next"||w.target.className=="pv-pic-window-pre")){w.preventDefault&&w.preventDefault();return}e.imgWindowEventHandler(w),clearTimeout(E),a.classList.remove("hideToolbar"),E=setTimeout(()=>{a.classList.add("hideToolbar")},800)},!1),c.imgWindow.overlayer.shown&&c.imgWindow.close.clickOutside){var X=function(w){var q=w.target;a.contains(q)||(e.remove(),u.removeEventListener(c.imgWindow.close.clickOutside,X,!0))};this.clickOutside=X,u.addEventListener(c.imgWindow.close.clickOutside,X,!0)}if(c.imgWindow.close.dblClickImgWindow){var re=function(w){var q=w.target;(q==a||q==t||q==e.imgState||q==e.rotateOverlayer)&&(e.remove(),w.stopPropagation()),w.preventDefault()};a.addEventListener("dblclick",re,!0)}if(this.preview||Be.all.push(this),this._blur=this.blur.bind(this),this._focusedKeydown=this.focusedKeydown.bind(this),this._focusedKeyup=this.focusedKeyup.bind(this),c.imgWindow.overlayer.shown){var Y=Be.overlayer;Y||(Y=u.createElement("span"),Be.overlayer=Y,Y.className="pv-pic-window-overlayer"),Y.style.backgroundColor=c.imgWindow.overlayer.color,Le(u).appendChild(Y),Y.style.display="block"}c.imgWindow.backgroundColor&&(this.imgWindow.style.backgroundColor=c.imgWindow.backgroundColor),we&&we.shown?u.documentElement.appendChild(a):Le(u).appendChild(a),this.rotatedRadians=0,this.zoomLevel=0,this.zoom(1),this.setToolBadge("zoom",1),this.firstOpen(),this.imgWindow.style.opacity=1,this.selectTool(c.imgWindow.defaultTool)},geneCompareImg:function(e,t){let i=u.createElement("div"),a=u.createElement("div");a.className="compareImgCon";let l=u.createElement("img"),s=u.createElement("div");s.className="compareSlider",s.title="Right mouse to bottom, hold to top",a.style.width=t+"%",s.style.left=t+"%";let n=u.createElement("button"),d=this,v,C,m=M=>{if(v&&Math.abs(C-M.pageX)>10&&(clearTimeout(v),v=null),n.style.display==""){u.removeEventListener("mousemove",m),u.removeEventListener("touchmove",m);return}M=M.changedTouches?M.changedTouches[0]:M;let p=d.img.getBoundingClientRect(),I=M.pageX-p.left;I=I-G.pageXOffset,I<0&&(I=0),I>p.width&&(I=p.width),a.style.width=I/p.width*100+"%",s.style.left=I/p.width*100+"%"},T=M=>{n.style.display="none",C=M.pageX,clearTimeout(v),v=setTimeout(()=>{d.compareBox.appendChild(i)},1e3),u.addEventListener("mousemove",m),u.addEventListener("touchmove",m),M.preventDefault(),M.stopPropagation();let p=I=>{clearTimeout(v),n.style.display="",u.removeEventListener("mousemove",m)};u.addEventListener("mouseup",p),u.addEventListener("touchend",p)};return s.addEventListener("mousedown",T),s.addEventListener("contextmenu",M=>{d.compareBox.insertBefore(i,d.compareBox.firstChild),M.preventDefault(),M.stopPropagation()}),s.addEventListener("touchstart",T),s.appendChild(n),l.src=e,a.appendChild(l),i.appendChild(a),i.appendChild(s),i},compare:function(e){if(!e||e.length===0)return;if(!this.compareBox){let s=u.createElement("div");s.className="compareBox",this.compareBox=s,this.img.parentNode.appendChild(s),this.imgWindow.classList.add("compare")}this.compareBox.innerHTML=xe("");let t=this,i=0,a=[],l;e.forEach(s=>{i++;let n=100-i*(100/(e.length+1)),d=t.geneCompareImg(s,n);t.compareBox.appendChild(d),a.unshift(d.children[0])}),this.img.addEventListener("mousedown",s=>{l=null;let n=s.offsetX/t.img.clientWidth*100;for(let d=0;d<a.length;d++){let v=a[d],C=parseInt(v.style.width);if(n<C){l=v,l.style.opacity=0;break}}l==null&&(t.img.style.opacity=0,a[a.length-1].style.overflow="visible")}),this.img.addEventListener("mouseup",s=>{l?l.style.opacity="":(t.img.style.opacity="",a[a.length-1].style.overflow="")}),this.preButton.style.display="none",this.nextButton.style.display="none"},switchImage:async function(e){if(this.data&&this.data.all&&this.data.all.length>1){let a=c.imgWindow.switchStoreLoc?{left:this.imgWindow.style.left,top:this.imgWindow.style.top}:!1;this.remove();let l=this.data,s;for(s=0;s<this.data.all.length&&this.data.src.indexOf(this.data.all[s].replace(/^(video|audio):/,""))===-1;s++);e?(s++,s==this.data.all.length&&(s=0)):(s--,s==-1&&(s=this.data.all.length-1)),l.xhr=null,l.src=this.data.all[s];let n="actual";Ce&&Ce==this&&(Ce=null,n="popup"),new ht(l,n,!1,!0,a);return}if(we||(we=new je,we.data=[]),we.shown||we.minimized)return;var t=await we.getAllValidImgs(!1,!0);if(t.length<=1)return;const i=(a,l)=>!(!a||!a.img||!a.img.parentNode||a.img.parentNode.classList.contains("pv-pic-window-container")||a.src==l||a.src&&/^data:/.test(a.src)&&a.src.length<250);if(this.data.img){for(let a=0;a<t.length;a++){let l=t[a];if(l.img==this.data.img){if(e){if(a!=t.length-1){for(a++,l=t[a];!i(l,this.data.src);){if(a++,a==t.length)return;l=t[a]}if(l&&l.img){let s=c.imgWindow.switchStoreLoc?{left:this.imgWindow.style.left,top:this.imgWindow.style.top}:!1;this.remove(),new ht(l,this.actual?"actual":"current",!1,!0,s)}}}else if(a!=0){for(a--,l=t[a];!i(l,this.data.src);){if(a--,a==-1)return;l=t[a]}if(l){let s=c.imgWindow.switchStoreLoc?{left:this.imgWindow.style.left,top:this.imgWindow.style.top}:!1;this.remove(),new ht(l,this.actual?"actual":"current",!1,!0,s)}}return}}if(this.data.img.src)for(let a=0;a<t.length;a++){let l=t[a];if(l.img&&l.img.src==this.data.img.src){if(e){if(a!=t.length-1){for(a++,l=t[a];!i(l,this.data.src);){if(a++,a==t.length)return;l=t[a]}if(l&&l.img){let s=c.imgWindow.switchStoreLoc?{left:this.imgWindow.style.left,top:this.imgWindow.style.top}:!1;this.remove(),new ht(l,this.actual?"actual":"current",!1,!0,s)}}}else if(a!=0){for(a--,l=t[a];!i(l,this.data.src);){if(a--,a==-1)return;l=t[a]}if(l){let s=c.imgWindow.switchStoreLoc?{left:this.imgWindow.style.left,top:this.imgWindow.style.top}:!1;this.remove(),new ht(l,this.actual?"actual":"current",!1,!0,s)}}return}}}},changeData:function(e){this.src!=e.src&&(this.loaded=!1,this.data=e,this.src=e.src,this.img.src=location.protocol=="https"?e.src.replace(/^https?:/,""):e.src)},addStyle:function(){if(Be.style){Be.style.parentNode||(Be.style=V(Be.style.innerText));return}Be.style=V("                    .pv-pic-window-container {                    "+(c.imgWindow.fixed?"position: fixed;":"position: absolute;")+'                    background-image: initial;                    padding: 0;                    border: 3px solid rgb(255 255 255 / 50%);                    border-radius: 1px;                    line-height: 0;                    text-align: left;                    box-sizing: content-box;                    -webkit-transition: opacity 0.2s ease-out;                    transition: opacity 0.1s ease-out;                    overscroll-behavior: none;                    box-shadow: 0 0 6px 2px rgba(0,0,0,0.35);                    box-sizing: content-box;                    display: initial;                    background: #00000080;                    }                    .pv-pic-window-container span {                    background-image: initial;                    float: initial;                    }                    .pv-pic-window-transition-all{                    -webkit-transition: top 0.2s ease, left 0.2s ease;                    transition: top 0.2s ease, left 0.2s ease;                    }                    .pv-pic-window-imgbox {                    position: relative;                    display: block;                    overflow: hidden;                    background-color: rgba(40, 40, 40, 0.65);                    }                    .pv-pic-window-container .compareBox {                    position: absolute;                    top: 0;                    left: 0;                    width: 100%;                    height: 100%;                    pointer-events: none;                    }                    .pv-pic-window-container .compareBox>div {                    width: 100%;                    height: 100%;                    position: absolute;                    }                    .pv-pic-window-container .compareBox>div>.compareImgCon {                    width: 100%;                    max-width: 100%;                    height: 100%;                    overflow: hidden;                    }                    .pv-pic-window-container .compareBox>div>.compareImgCon>img {                    width: auto;                    height: 100%;                    max-width: unset;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider {                    position: absolute;                    top: 0;                    bottom: 0;                    width: 2px;                    background-color: rgba(255,255,255,.5);                    border-top: 0;                    border-bottom: 0;                    box-shadow: 0 0 2px rgba(0,0,0,.5);                    overflow: visible;                    z-index: 9;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider>button {                    position: absolute;                    top: calc(50% - 40px);                    left: -4px;                    width: 10px;                    background-color: #ddd;                    border: 4px solid #fff;                    height: 80px;                    text-align: center;                    padding: 0;                    outline: 0;                    cursor: ew-resize;                    box-shadow: 0 0 2px rgba(0,0,0,.5);                    pointer-events: all;                    box-sizing: border-box;                    background-image: none;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider>button:hover {                    background-color: #777;                    }                    .pv-pic-window-close,                    .pv-pic-window-max,                    .pv-pic-window-search,                    .pv-pic-window-toolbar,                    .pv-pic-window-tb-tool-extend-menu{                    -webkit-transition: opacity 0.2s ease-in-out;                    transition: opacity 0.2s ease-in-out;                    box-sizing: content-box;                    }                    .pv-pic-window-toolbar {                    position: absolute;                    background-color: #535353;                    padding: 0;                    opacity: 0.5;                    display: none;                    cursor: default;                    -o-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-toolbar {                    display: block;                    }                    .pv-pic-window-toolbar:hover,                    .pv-pic-window-container>.pv-pic-window-toolbar.insert:hover{                    opacity: 1;                    }                    span.pv-pic-window-close {                    cursor: pointer;                    position: absolute;                    right: 0px;                    top: -22px;                    background: url("'+c.icons.close+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.5;                    border:none;                    padding:0;                    padding-top:2px!important;                    background-color:#1771FF;                    display: none;                    z-index: 2;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-close {                    display: block;                    }                    span.pv-pic-window-search {                    cursor: pointer;                    position: absolute;                    right: 50px;                    top: -22px;                    background: url("'+c.icons.searchBtn+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.9;                    border:none;                    padding:0;                    padding-top:2px;                    background-color:#1771FF;                    display: none;                    }                    span.pv-pic-window-max {                    cursor: pointer;                    position: absolute;                    right: 46px;                    top: -22px;                    background: url("'+c.icons.maxBtn+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.5;                    border:none;                    border-right: 1px solid #868686;                    padding:0;                    padding-top:2px!important;                    background-color:#1771FF;                    display: none;                    z-index: 2;                    }                    .pv-pic-window-container>.pv-pic-window-max:hover,                    .pv-pic-window-container>.pv-pic-window-close:hover,                    .pv-pic-window-container>.pv-pic-window-max.insert:hover,                    .pv-pic-window-container>.pv-pic-window-close.insert:hover {                    background-color:red;                    opacity: 1!important;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-max {                    display: block;                    }                    .pv-pic-window-search:hover {                    background-color:red;                    opacity: 1;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-search {                    display: block;                    }                    .pv-pic-window-description {                    display: none;                    background: yellow;                    margin: 0 -5px 0 15px!important;                    padding: 3px!important;                    color: black;                    text-shadow: 0 0 1px #00000099;                    }                    .pv-pic-window-description::before {                    display: inline-block;                    content:"";                    position: absolute;                    border: 10px solid transparent;                    margin-left: -22px;                    top: -1px;                    border-right-color: yellow;                    }                    span.pv-pic-window-pre,                    span.pv-pic-window-next{                    -webkit-transition: opacity 0.3s ease;                    transition: opacity 0.3s ease;                    position: absolute;                    height: 100px;                    top: calc(50% - 50px);                    width: 36px;                    background: #ffffff60 no-repeat center;                    opacity: 0;                    cursor: pointer;                    pointer-events: none;                    }                    span.pv-pic-window-pre {                    left: 0;                    background-image: url("'+c.icons.arrowLeft+'");                    }                    span.pv-pic-window-next {                    right: 0;                    background-image: url("'+c.icons.arrowRight+'");                    }                    .compare>.pv-pic-search-state{                    display: none;                    }                    .pv-pic-window-container_focus>.pv-pic-search-state,.preview>.pv-pic-search-state {                    opacity:0.8;                    }                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-imgbox{                    cursor: none;                    }                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-search-state,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-toolbar,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-max,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-close,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-pre,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-next{                    opacity:0!important;                    }                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox:hover~.pv-pic-window-pre,                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox:hover~.pv-pic-window-next{                    opacity:0.3;                    pointer-events: all;                    }                    .pv-pic-window-container>.pv-pic-window-pre:hover,                    .pv-pic-window-container>.pv-pic-window-next:hover{                    opacity:1;                    pointer-events: all;                    }                    .pv-pic-window-container_focus:hover>.pv-pic-search-state{                    border-radius: 0 0 8px 0;                    top: 0px;                    pointer-events: all;                    }                    .pv-pic-window-container>.pv-pic-window-pre:hover~span.pv-pic-search-state,                    .pv-pic-window-container>.pv-pic-window-next:hover~span.pv-pic-search-state{                    opacity:0;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover{                    overflow:visible;                    background:none;                    box-shadow:none;                    opacity: 1;                    height: 30px;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover>span{                    opacity: 0;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover>svg{                    display: block;                    }                    span.pv-pic-search-state {                    top: -21px;                    left: 0px;                    display: block;                    position: absolute;                    z-index: 1;                    color: #ffff00;                    height: 18px;                    line-height: 18px;                    opacity:0;                    transition: all 0.3s ease;                    user-select: none;                    -webkit-box-sizing: content-box;                    box-sizing: content-box;                    border-radius: 1px;                    background: rgb(0 0 0 / 75%);                    box-shadow: rgb(221, 221, 221) 0px 0px 1px inset;                    max-width: 100%;                    overflow: hidden;                    font: 13px / 1.4em Roboto,arial,sans-serif,\u5FAE\u8F6F\u96C5\u9ED1,"Noto Sans SC";                    pointer-events: none;                    }                    .pv-pic-search-state>span {                    pointer-events: none;                    padding: 1px 5px!important;                    white-space: nowrap;                    overflow: hidden;                    }                    .pv-pic-search-state>span>b {                    background: yellow;                    color: black;                    margin-right: -5px;                    padding: 3px;                    }                    .pv-pic-search-state>span>strong {                    background: inherit;                    color: #ffffff;                    }                    span.pv-pic-search-state>.pv-icon {                    width: 20px;                    height: 20px;                    vertical-align: middle;                    fill: currentColor;                    overflow: hidden;                    position: absolute;                    left: 1px;                    top: 1px;                    background: black;                    border-radius: 15px;                    padding: 5px;                    color: white;                    cursor: pointer;                    display: none;                    box-sizing: content-box;                    transition: all 0.3s ease;                    }                    .pv-pic-search-state>.pv-icon:hover {                    color: #ffff00;                    }                    .pv-pic-search-state>.pv-icon * {                    pointer-events: none;                    }                    .pv-pic-window-scrollSign {                    display: none;                    width: 100px;                    height: auto;                    fill: black;                    top: 10px;                    right: 0px;                    position: absolute;                    opacity: 0;                    -webkit-animation: scroll_sign_opacity 2s 3 ease-in-out;                    animation: scroll_sign_opacity 2s 3 ease-in-out;                    }                    @-webkit-keyframes scroll_sign_opacity {                      0% { opacity: 0 }                      50% { opacity: 1 }                      100% { opacity: 0 }                    }                    @keyframes scroll_sign_opacity {                      0% { opacity: 0 }                      50% { opacity: 1 }                      100% { opacity: 0 }                    }                    .pv-pic-window-scroll {                    max-height: calc(100vh - 2px);                    max-width: 100vw;                    }                    .pv-pic-window-scroll>.pv-pic-window-imgbox {                    max-height: calc(100vh - 2px);                    max-width: 100vw;                    overflow-y: scroll;                    overflow-x: hidden;                    overscroll-behavior: contain;                    -ms-scroll-chaining: contain;                    scrollbar-color: initial;                    }                    .pv-pic-window-scroll>.pv-pic-window-scrollSign {                    display: block;                    }                    .pv-pic-window-scroll>.pv-pic-window-close,                    .pv-pic-window-scroll>.pv-pic-window-max {                    display: none;                    }                    .pv-pic-window-black>.pv-pic-window-imgbox>img {                    background: black!important;                    }                    .pv-pic-window-white>.pv-pic-window-imgbox>img {                    background: white!important;                    }                    .transition-transform{                    transition: transform 0.3s ease;                    }                    .transition-all{                    transition: all 0.3s ease;                    }                    .pv-pic-window-pic {                    position: relative;                    display:inline-block;/*opera\u628A\u56FE\u7247\u8BBE\u7F6Edisplay:block\u4F1A\u51FA\u73B0\u6E32\u67D3\u95EE\u9898\uFF0C\u4F1A\u6709\u6B8B\u5F71\uFF0C\u8FD8\u4F1A\u5F15\u53D1\u5176\u4ED6\u5404\u79CD\u95EE\u9898\uFF0C\u5413\u5C3F*/                    max-width:unset;                    min-width:unset;                    max-height:unset;                    min-height:unset;                    width:inherit;                    height:inherit;                    padding:0;                    margin:0;                    border:none;                    vertical-align:middle;                    }                    .pv-pic-window-container.preview {                    pointer-events: none;                    }                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox {                    box-shadow: 0 0 6px black;                    }                    span.pv-pic-window-container_focus:not(.preview) .pv-pic-window-pic {                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    }                    span.pv-pic-window-tb-tool,                    span.pv-pic-window-tb-command{                    box-sizing:content-box;                    -moz-box-sizing:content-box;                    -webkit-box-sizing:content-box;                    height: 24px;                    width: 24px;                    padding: 12px 8px 6px 6px!important;                    margin:0;                    display: block;                    background: transparent no-repeat center;                    cursor: pointer;                    position: relative;                    border: none;                    border-left: 2px solid transparent;                    border-bottom: 1px solid #868686;                    background-origin: content-box;                    }                    .pv-pic-window-toolbar > span:last-child {                    border-bottom: none;                    }                    .pv-pic-window-tb-tool:hover,                    .pv-pic-window-tb-command:hover{                    border-left: 2px solid red;                    }                    .pv-pic-window-tb-tool-selected{                    box-shadow: inset 0 21px 0 rgba(255,255,255,0.3) ,inset 0 -21px 0 rgba(0,0,0,0.3);                    border-left:2px solid #1771FF;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-hand {                    background-image: url("'+c.icons.hand+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-rotate {                    background-image: url("'+c.icons.rotate+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-zoom {                    background-image: url("'+c.icons.zoom+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-flip-horizontal {                    background-image: url("'+c.icons.flipHorizontal+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-flip-vertical {                    background-image: url("'+c.icons.flipVertical+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-compare {                    background-image: url("'+c.icons.compare+'")!important;                    }                    .pv-pic-window-tb-tool-badge-container {                    display: block;                    position: relative;                    }                    span.pv-pic-window-tb-tool-badge {                    position: absolute;                    top: -3px;                    right: 1px;                    font-size: 10px;                    line-height: 1.5;                    padding: 0 3px;                    background-color: #F93;                    border-radius: 50px;                    opacity: 0.5;                    color: black;                    }                    span.pv-pic-window-tb-tool-extend-menu{                    position:absolute;                    top:0;                    margin-left:-1px;                    background-color:#535353;                    display:none;                    left:40px;                    color:#C3C3C3;                    font-size:12px;                    text-shadow:0px -1px 0px black;                    opacity:0.7;                    }                    .pv-pic-window-tb-tool-extend-menu:hover{                    opacity:0.9;                    }                    .pv-pic-window-tb-tool-extend-menu-item{                    display:block;                    line-height:1.5;                    text-align:center;                    padding:10px!important;                    cursor:pointer;                    border: none;                    border-right: 2px solid transparent;                    border-bottom: 1px solid #868686;                    font-size: 20px;                    }                    .pv-pic-window-tb-tool-extend-menu-item>svg{                    pointer-events: none;                    }                    .pv-pic-window-tb-tool-extend-menu-item:last-child{                    border-bottom: none;                    }                    .pv-pic-window-tb-tool-extend-menu-item:hover{                    border-right:2px solid red;                    }                    .pv-pic-window-tb-tool-extend-menu-item:active{                    padding:11px 9px 9px 11px;                    }                    .pv-pic-window-tb-tool-extend-menu-container:hover .pv-pic-window-tb-tool{                    border-left:2px solid red;                    }                    .pv-pic-window-tb-tool-extend-menu-container:hover .pv-pic-window-tb-tool-extend-menu{                    display:block;                    }                    .pv-pic-window-tb-tool-extend-menu-container::after{                    content:"";                    position:absolute;                    right:1px;                    bottom:2px;                    width:0;                    height:0;                    padding:0;                    margin:0;                    border:3px solid #C3C3C3;                    border-top-color:transparent;                    border-left-color:transparent;                    opacity:0.5;                    }                    .pv-pic-window-overlayer{                    height:100%;                    width:100%;                    position:fixed;                    top:0;                    left:0;                    z-index: '+c.imgWindow.zIndex+';                    }                    span.pv-pic-window-rotate-indicator{                    display:none;                    position:fixed;                    width:250px;                    height:250px;                    padding:10px;                    margin-top:-135px;                    margin-left:-135px;                    background:transparent url("'+c.icons.rotateIndicatorBG+'") no-repeat center;                    }                    span.pv-pic-window-rotate-indicator-pointer{                    display:block;                    margin-left:auto;                    margin-right:auto;                    background:transparent url("'+c.icons.rotateIndicatorPointer+'") no-repeat center;                    width:60px;                    height:240px;                    position:relative;                    top:5px;                    transform:rotate(0.1deg);                    }                    .pv-pic-window-rotate-overlayer{/*\u5F53\u5207\u6362\u5230\u65CB\u8F6C\u5DE5\u5177\u7684\u65F6\u5019\u663E\u793A\u8FD9\u4E2A\u8986\u76D6\u5C42\uFF0C\u7136\u540E\u65CB\u8F6C\u6307\u793A\u5668\u663E\u793A\u5728\u8FD9\u4E2A\u8986\u76D6\u5C42\u7684\u4E0B\u9762*/                    position:absolute;                    top:0;                    bottom:0;                    left:0;                    right:0;                    display:none;                    background-color:transparent;                    }                    .pv-pic-window-range{                    position:absolute;                    border:none;                    width:100px;                    height:100px;                    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.8);                    display:none;                    padding:0;                    background-color:rgba(255, 0, 0, 0.150);                    }                    .pv-pic-window-container::-webkit-scrollbar, .pv-pic-window-container>.pv-pic-window-imgbox::-webkit-scrollbar { width: 0 !important }                    .pv-pic-window-container, .pv-pic-window-container>.pv-pic-window-imgbox { -ms-overflow-style: none;overflow: -moz-scrollbars-none; }                    ')},firstOpen:function(){Be.selectedTool="hand",this.removed=!1,this.imgWindow.classList.remove("pv-pic-window-scroll"),this.focus();var e=this.imgWindow,t=c.imgWindow.fixed?{x:0,y:0}:F();e.style.left=-5+t.x+"px",e.style.top=-5+t.y+"px";var i=ke();i.h-=16,i.w-=16;var a=fe.getComputedStyle(e),l={h:parseFloat(a.height),w:parseFloat(a.width)};this.isLongImg=l.h>i.h&&l.h/l.w>2.5,c.imgWindow.suitLongImg&&this.isLongImg?(c.imgWindow.fitToScreen&&this.fitToScreenWidth(),this.center(l.w<=i.w,!1),this.imgWindow.classList.add("pv-pic-window-scroll")):c.imgWindow.fitToScreen?(this.fitToScreen(),this.center(!0,!0)):this.center(l.w<=i.w,l.h<=i.h),this.initPos&&(this.imgWindow.style.left=this.initPos.left,this.imgWindow.style.top=this.initPos.top),this.keepScreenInside()},keepScreenInside:function(){var e=this.imgWindow,t={h:e.offsetHeight,w:e.offsetWidth},i=ke();function a(l,s,n,d){for(var v=l.getBoundingClientRect(),C=l.style,m=!1;s.length;){var T=s[0],M=n[0],p=0;d&&(p=d.shift()),s.shift(),n.shift();var I=parseFloat(C[T]),E;switch(T){case"top":E=I-v.top-p,v.top-p<=0?E=Math.min(E,t.h):E=Math.max(E,M);break;case"right":E=I+(v.right-i.w)+p,v.right+p>=i.w?E=Math.min(E,t.w):E=Math.max(E,M);break;case"bottom":E=I+(v.bottom-i.h)+p,v.bottom+p>=i.h?E=Math.min(E,t.h):E=Math.max(E,M);break;case"left":E=I-v.left-p,v.left-p<=0?E=Math.min(E,t.w):E=Math.max(E,M);break}m=m||E!==M,C[T]=E+"px"}m?l.classList.add("insert"):l.classList.remove("insert")}a(this.closeButton,["top","right"],[-22,0]),a(this.maxButton,["top","right"],[-22,46],[0,46]),a(this.toolbar,["top","left"],[0,-42])},initMaxSize:function(){let e=ke(),t=e.w-50,i=e.h-50,a,l;c.floatBar.previewMaxSizeW&&t>c.floatBar.previewMaxSizeW&&(t=c.floatBar.previewMaxSizeW),c.floatBar.previewMaxSizeW&&i>c.floatBar.previewMaxSizeH&&(i=c.floatBar.previewMaxSizeH),this.zoomLevel===1&&(this.zoomLevel=0,this.zoom(1));let s=fe.getComputedStyle(this.imgWindow),n={h:parseFloat(s.height),w:parseFloat(s.width)},d,v=this.imgWindow.classList.contains("pv-pic-window-scroll");if(c.imgWindow.fitToScreenSmall||n.w>t||n.h>i){n.w/n.h>t/i?d={w:t,h:t/(n.w/n.h)}:v||(d={h:i,w:i*(n.w/n.h)});let C=this.getRotatedImgCliSize(d),m=this.imgNaturalSize;C&&m&&C.w&&m.w&&this.zoom(C.w/m.w)}},followPos:function(e,t,i){if(this.removed||!c.floatBar.globalkeys.previewFollowMouse)return;let a=this.imgWindow;if(!a||(this.followPosX=e,this.followPosY=t,!i&&this.following))return;let l=ke(),s=Math.min(250,l.h>>2,l.w>>2,(this.img.naturalWidth||500)>>1,(this.img.naturalHeight||500)>>1),n=50,d,v;a.style.position="fixed";let C={x:0,y:0};if(this.initMaxSize(),a.offsetWidth/a.offsetHeight>l.w/l.h){t>l.h/2?(v=t-a.offsetHeight-s+C.y,v<n>>1&&(v=n>>1)):(v=t+s+C.y,v>l.h-a.offsetHeight-1&&(v=l.h-a.offsetHeight-1)),d=(l.w-a.offsetWidth)/2;let m=e+s;if(d>m)d=m;else{let T=e-a.offsetWidth-s;d<T&&(d=T)}d=d+C.x}else{e>l.w/2?(d=e-a.offsetWidth-s+C.x,d<1&&(d=1)):(d=e+s+C.x,d>l.w-a.offsetWidth-1&&(d=l.w-a.offsetWidth-1)),v=(l.h-a.offsetHeight)/2;let m=t+s;if(v>m)v=m;else{let T=t-a.offsetHeight-s;v<T&&(v=T)}v=v+C.y}clearTimeout(this.followPosTimer),i||!this.loaded?(a.classList.remove("pv-pic-window-transition-all"),this.following=!1):Math.abs(d-parseInt(a.style.left))+Math.abs(v-parseInt(a.style.top))>50?(this.following=!0,a.classList.add("pv-pic-window-transition-all"),this.followPosTimer=setTimeout(()=>{this.following=!1,this.followPos(this.followPosX,this.followPosY),a.classList.add("pv-pic-window-transition-all")},250)):a.classList.remove("pv-pic-window-transition-all"),a.style.left=d+"px",a.style.top=v+"px"},fitToScreen:function(){let e=this.imgWindow;if(!c.imgWindow.fitToScreen)return;let t=ke();t.h-=6,t.w-=6;let i=fe.getComputedStyle(e),a={h:parseFloat(i.height),w:parseFloat(i.width)},l=a,s=e.classList.contains("pv-pic-window-scroll");if(c.imgWindow.fitToScreenSmall||a.w-t.w>0||a.h-t.h>0){a.w/a.h>t.w/t.h?l={w:t.w,h:t.w/(a.w/a.h)}:s||(l={h:t.h,w:t.h*(a.w/a.h)});let n=this.getRotatedImgCliSize(l),d=this.imgNaturalSize;n&&d&&n.w&&d.w&&this.zoom(n.w/d.w)}},fitToScreenWidth:function(){let e=this.imgWindow;if(!c.imgWindow.fitToScreen)return;let t=ke();t.h-=6,t.w-=6;let i=fe.getComputedStyle(e),a={h:parseFloat(i.height),w:parseFloat(i.width)},l=a,s=e.classList.contains("pv-pic-window-scroll");if(a.w>t.w){a.w/a.h>t.w/t.h&&(l={w:t.w,h:t.w/(a.w/a.h)});let n=this.getRotatedImgCliSize(l),d=this.imgNaturalSize;n&&d&&n.w&&d.w&&this.zoom(n.w/d.w)}},center:function(e,t){if(!(!e&&!t)){var i=this.imgWindow;if(i){var a=ke(),l=c.imgWindow.fixed?{x:0,y:0}:F();e&&(i.style.left=(a.w-i.offsetWidth)/2+l.x+"px"),t&&(i.style.top=(a.h-i.offsetHeight)/2+l.y+"px")}}},move:function(e){this.working=!0;var t=this.cursor;this.changeCursor("handing");var i={x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY},a=this.imgWindow,l=a.style,s={left:parseFloat(l.left),top:parseFloat(l.top)},n=this,d=function(C){l.left=s.left+(C.pageX||C.touches[0].pageX)-i.x+"px",l.top=s.top+(C.pageY||C.touches[0].pageY)-i.y+"px",n.keepScreenInside(),n.moving=!0,C.preventDefault(),C.stopPropagation()},v=function(){e.preventDefault(),n.changeCursor(t),n.working=!1,n.tempHand&&n.spaceKeyUp&&(n.tempHand=!1,n.changeCursor(n.selectedTool)),u.removeEventListener("mousemove",d,!0),u.removeEventListener("mouseup",v,!0),u.removeEventListener("touchmove",d,!0),u.removeEventListener("touchend",v,!0)};u.addEventListener("mousemove",d,!0),u.addEventListener("mouseup",v,!0),u.addEventListener("touchmove",d,!0),u.addEventListener("touchend",v,!0)},rotate:function(e,t){var i=this.img,a=this.imgWindow;a.classList.remove("pv-pic-window-scroll");var l=i.style[Ie.cssTransform].replace(/rotate\([^)]*\)/i,""),s=fe.getComputedStyle(a),n={h:parseFloat(s.height),w:parseFloat(s.width)},d={top:parseFloat(a.style.top),left:parseFloat(a.style.left)},v={h:i.clientHeight,w:i.clientWidth},C={top:parseFloat(i.parentNode.style.top),left:parseFloat(i.parentNode.style.left)},m=this,T=Math.PI,M=function(re){if(m.rotatedRadians!=re){m.working?i.parentNode.style[Ie.cssTransform]=" rotate("+re+"rad) "+l:(i.parentNode.classList.remove("transition-transform"),i.parentNode.style[Ie.cssTransform]=" rotate("+re+"rad) "+l,setTimeout(()=>{i.parentNode.classList.add("transition-transform")},0)),m.rotateIPointer.style[Ie.cssTransform]="rotate("+re+"rad)",m.rotatedRadians=re,m.setToolBadge("rotate",re/(T/180));var Y=m.getRotatedImgRectSize(re,v);a.style.width=Y.w+"px",a.style.height=Y.h+"px",t||m.setImgWindowOffset(d,n,Y),m.setImgOffset(C,n,Y),m.keepScreenInside()}};if(typeof e=="number"){M(e);return}this.working=!0;var p=this.rotatedRadians;this.shiftKeyUp=!0;var I=c.imgWindow.shiftRotateStep/(180/Math.PI),E=function(re){m.rotateIndicator.style.display="block";var Y=p+Math.atan2(re.clientY-e.y,re.clientX-e.x);Y>=2*T?Y-=2*T:Y<0&&(Y+=2*T),m.shiftKeyUp||(Y-=Y%I,Y+=I),M(Y)},X=function(){m.working=!1,m.rotateIndicator.style.display="none",u.removeEventListener("mousemove",E,!0),u.removeEventListener("mouseup",X,!0),m.img.parentNode.classList.add("transition-transform")};m.img.parentNode.classList.remove("transition-transform"),u.addEventListener("mousemove",E,!0),u.addEventListener("mouseup",X,!0)},convertToValidRadians:function(e){var t=Math.PI;return e>t&&(e=2*t-e),e>1/2*t&&(e=t-e),e},getRotatedImgRectSize:function(e,t){return t=t||{h:this.img.clientHeight,w:this.img.clentWidth},typeof e>"u"&&(e=this.rotatedRadians),e=this.convertToValidRadians(e),{h:this.notExponential(t.h*Math.cos(e)+t.w*Math.sin(e)),w:this.notExponential(t.h*Math.sin(e)+t.w*Math.cos(e))}},getRotatedImgCliSize:function(e,t){if(typeof t>"u"&&(t=this.rotatedRadians),t=this.convertToValidRadians(t),t==0)return e;var i=(e.h-e.w*Math.tan(t))/(Math.cos(t)-Math.sin(t)*Math.tan(t)),a=(e.h-i*Math.cos(t))/Math.sin(t);return{h:i,w:a}},setImgOffset:function(e,t,i){var a=this.img.parentNode.style,l=this.notExponential(e.top+(i.h-t.h)*1/2)+"px",s=this.notExponential(e.left+(i.w-t.w)*1/2)+"px";a.top=l,a.left=s},setImgWindowOffset:function(e,t,i,a){a=a||{x:1/2,y:1/2};var l=this.imgWindow.style,s=e.top-(i.h-t.h)*a.y+"px",n=e.left-(i.w-t.w)*a.x+"px";l.top=s,l.left=n},zoom:function(e,t){var i=this.imgWindow,a=fe.getComputedStyle(i),l={h:parseFloat(a.height),w:parseFloat(a.width)},s={top:parseFloat(i.style.top),left:parseFloat(i.style.left)},n=this.img,d=this,v=function(E){if(!(typeof E>"u"||E<0||E==d.zoomLevel)){var X={h:d.imgNaturalSize.h*E||10,w:d.imgNaturalSize.w*E||10};n.width=X.w,n.height=X.h,d.imgbox.style.width=X.w+"px",d.imgbox.style.height=X.h+"px",X.w<60?d.imgState.style.display="none":d.imgState.style.display="",X.w<220?(d.maxButton.style.opacity="0",d.closeButton.style.opacity="0"):(d.maxButton.style.opacity="",d.closeButton.style.opacity=""),X.w<100||X.h<100?(d.preButton.style.left="-36px",d.nextButton.style.right="-36px"):(d.preButton.style.left="0px",d.nextButton.style.right="0px");var re=d.getRotatedImgRectSize(d.rotatedRadians,X);i.style.width=re.w+"px",i.style.height=re.h+"px",d.setImgWindowOffset(s,l,re,t),d.setImgOffset({top:0,left:0},X,re),d.zoomLevel=E,d.setToolBadge("zoom",E),d.keepScreenInside()}};if(typeof e!="object"){t=t||{x:1/2,y:1/2},v(e);return}this.working=!0,t=this.getZoomRatio({x:e.clientX,y:e.clientY});var C,m=e.pageX,T=this.zoomLevel,M=0,p=function(E){if(M++,!(M<2)){C=!0;var X=E.pageX,re;X>m?(d.changeCursor("zoom",!1),re=.05):(d.changeCursor("zoom",!0),re=-.05),m=X,T+=re,v(T)}},I=function(E){d.working=!1,u.removeEventListener("mousemove",p,!0),u.removeEventListener("mouseup",I,!0);var X=d.getNextZoomLevel();d.zoomOut&&d.altKeyUp&&(d.zoomOut=!1),C||v(X),d.changeCursor("zoom",d.zoomOut),d.tempZoom&&d.ctrlKeyUp&&d.altKeyUp&&(d.tempZoom=!1,d.changeCursor(d.selectedTool))};u.addEventListener("mousemove",p,!0),u.addEventListener("mouseup",I,!0)},getNextZoomLevel:function(){var e,t=this;return this.zoomOut?Be.zoomRangeR.find(function(a){if(a<t.zoomLevel)return e=a,!0})||(e=t.zoomLevel*.9):Be.zoomRange.find(function(a){if(a>t.zoomLevel)return e=a,!0})||(e=t.zoomLevel*1.1),e},getZoomRatio:function(e){var t=this.img.getBoundingClientRect(),i={x:(e.x-t.left)/t.width,y:(e.y-t.top)/t.height};return i.x<0?i.x=0:i.x>1&&(i.x=1),i.y<0?i.y=0:i.y>1&&(i.y=1),i},aerialView:function(e){this.working=!0;var t=this.zoomLevel,i=ke();i.h-=16,i.w-=16;var a=this.imgWindow,l=fe.getComputedStyle(a),s={h:parseFloat(l.height),w:parseFloat(l.width)},n=s.h/s.w,d=i.h/i.w,v,C={};n>d?(v={h:i.h,w:i.h/n},C.h=Math.min(i.h*(v.h/s.h),v.h),C.w=Math.min(C.h/d,v.w)):(v={w:i.w,h:i.w*n},C.w=Math.min(i.w*(v.w/s.w),v.w),C.h=Math.min(C.w*d,v.h)),this.zoom(this.getRotatedImgCliSize(v).w/this.imgNaturalSize.w),this.center(!0,!0),this.keepScreenInside();var m=this.viewRange,T=m.style;T.display="block",T.height=C.h+"px",T.width=C.w+"px",T.top="0px",T.left="0px";var M=m.getBoundingClientRect(),p=c.imgWindow.fixed?{x:0,y:0}:F(),I={x:M.left+p.x+1/2*C.w,y:M.top+p.y+1/2*C.h},E=this,X={x:[8,8+v.w-C.w],y:[8,8+v.h-C.h]};function re(q){var ye=q.y-I.y,de=q.x-I.x;ye<=X.y[0]?ye=X.y[0]:ye>=X.y[1]&&(ye=X.y[1]),T.top=ye+"px",de<=X.x[0]?de=X.x[0]:de>=X.x[1]&&(de=X.x[1]),T.left=de+"px"}re({x:e.pageX,y:e.pageY});var Y=function(q){re({x:q.pageX,y:q.pageY})},w=function(){E.working=!1,m.style.display="none",E.zoom(t);var q=c.imgWindow.fixed?{x:0,y:0}:F();a.style.top=-13-s.h*((parseFloat(T.top)-X.y[0])/v.h)+q.y+"px",a.style.left=-13-s.w*((parseFloat(T.left)-X.x[0])/v.w)+q.x+"px",E.center(C.w==v.w,C.h==v.h),E.keepScreenInside(),u.removeEventListener("mousemove",Y,!0),u.removeEventListener("mouseup",w,!0)};u.addEventListener("mousemove",Y,!0),u.addEventListener("mouseup",w,!0)},setToolBadge:function(e,t){var i=0;switch(e){case"zoom":i=2,this.img.naturalWidth&&(Ue(`<strong>${this.img.naturalWidth} x ${this.img.naturalHeight}</strong>`+(t!==1?` (${parseInt(t*100)}%)`:"")+(this.curIndex>=0?` <b>[${this.curIndex+1}/${this.data.all.length}]</b>`:""),this.imgState),this.descriptionSpan&&this.imgState.appendChild(this.descriptionSpan));break;case"rotate":i=1;break;default:break}t=typeof t=="string"?t:t.toFixed(i),this.toolMap[e].nextElementSibling.textContent=t},notExponential:function(e){if(e>0){if(e>=9999999999999999e5)return 9999999999999999e5;if(e<=1e-6)return 1e-6}else if(e<0){if(e>=-1e-6)return-1e-6;if(e<=-9999999999999999e5)return-9999999999999999e5}return e},blur:function(e){if(this.focused){Be.showing=!1;var t=this.imgWindow;e!==!0&&t.contains(e.target)||(t.classList.remove("pv-pic-window-container_focus"),u.removeEventListener("mousedown",this._blur,!0),u.removeEventListener("keydown",this._focusedKeydown,!1),u.removeEventListener("keyup",this._focusedKeyup,!0),this.changeCursor("default"),Be.selectedTool=this.selectedTool,this.imgWindow.style.zIndex=c.imgWindow.zIndex,this.zIndex=c.imgWindow.zIndex,this.focused=!1)}},focus:function(){this.focused||(this.toolMap.compare.style.display=Be.all.length>1?"":"none",Be.showing=!0,this.imgWindow.classList.add("pv-pic-window-container_focus"),this.imgWindow.style.zIndex=c.imgWindow.zIndex+1,this.zIndex=c.imgWindow.zIndex+1,u.addEventListener("keydown",this._focusedKeydown,!1),u.addEventListener("keyup",this._focusedKeyup,!0),u.addEventListener("mousedown",this._blur,!0),this.changeCursor(this.selectedTool),c.imgWindow.syncSelectedTool&&Be.selectedTool&&this.selectTool(Be.selectedTool),this.focused=!0)},focusedKeyup:function(e){var t=e.keyCode,i=[27,32,18,16,72,17,72,82,90,67,37,39];if(i.indexOf(t)!=-1&&!G.getSelection().toString()){switch(e.preventDefault(),t){case 32:{if(this.spaceKeyUp=!0,!this.tempHand)return;this.working||(this.tempHand=!1,this.changeCursor(this.selectedTool))}break;case 18:{if(this.altKeyUp=!0,!this.zoomOut)return;this.working||(this.zoomOut=!1,this.changeCursor("zoom"),this.tempZoom&&this.ctrlKeyUp&&(this.tempZoom=!1,this.changeCursor(this.selectedTool)))}break;case 16:this.shiftKeyUp=!0;break;case 17:if(clearTimeout(this.ctrlkeyDownTimer),!this.justCKeyUp){if(this.ctrlKeyUp=!0,!this.tempZoom)return;!this.working&&this.altKeyUp&&(this.tempZoom=!1,this.changeCursor(this.selectedTool))}break;case 67:{this.justCKeyUp=!0;var a=this;clearTimeout(this.justCKeyUpTimer),this.justCKeyUpTimer=setTimeout(function(){a.justCKeyUp=!1,B(a.src)},100)}break;case 72:this.hKeyUp=!0;break;case 82:this.rKeyUp=!0;break;case 90:this.zKeyUp=!0;break;case 39:this.switchImage(!0);break;case 37:this.switchImage(!1);break;case 27:c.imgWindow.close.escKey&&(this.remove(),e.stopPropagation());break;default:break}[72,82,90].indexOf(t)!=-1&&!this.working&&this.restoreBeforeTool&&(this.restoreBeforeTool=!1,this.selectTool(this.beforeTool))}},focusedKeydown:async function(e){var t=e.keyCode;if(c.floatBar.keys.enable&&!G.getSelection().toString()){if(this.data&&this.data.img&&e.key.toLowerCase()==c.floatBar.keys.download){lt(this.img.src,this.data.img.title||this.data.img.alt,c.saveName),e.preventDefault(),e.stopPropagation();return}if(e.key.toLowerCase()==c.floatBar.keys.gallery){we||(we=new je,we.data=[]);var i=await we.getAllValidImgs();i.target=this.data,we.data=i,we.load(we.data),this.remove(),e.preventDefault(),e.stopPropagation();return}var a=[32,82,72,90,18,16,17,27,67];if(a.indexOf(t)!=-1){if(e.preventDefault(),this.working){t==16&&(this.shiftKeyUp=!1);return}switch(t){case 82:if(this.rKeyUp){this.rKeyUp=!1,this.beforeTool=this.selectedTool,this.beforeTool!="rotate"&&this.selectTool("rotate");var l=Math.PI,s=this.rotatedRadians+(e.shiftKey?-90:90)*l/180;s>=2*l?s-=2*l:s<0&&(s+=2*l),this.rotate(s,!0)}break;case 72:this.hKeyUp&&(this.hKeyUp=!1,this.beforeTool=this.selectedTool,this.selectTool("hand"));break;case 90:if(this.zKeyUp){this.zKeyUp=!1,this.beforeTool=this.selectedTool,this.selectTool("zoom");let d=e.shiftKey?this.zoomLevel-.5:this.zoomLevel+.5;typeof d<"u"&&this.zoom(d,{x:0,y:0}),Ce&&Ce==this&&(c.floatBar.globalkeys.previewFollowMouse?this.followPos(Xt,Kt,!0):this.center(!0,!0))}break;case 32:this.spaceKeyUp&&(this.spaceKeyUp=!1,this.selectedTool!="hand"&&(this.tempHand=!0,this.changeCursor("hand")));break;case 18:if(this.altKeyUp){if(this.selectedTool!="zoom"&&!this.tempZoom||this.zoomOut)return;this.zoomOut=!0,this.altKeyUp=!1,this.changeCursor("zoom",!0)}break;case 17:if(this.ctrlKeyUp){var n=this;this.ctrlkeyDownTimer=setTimeout(function(){n.ctrlKeyUp=!1,n.selectedTool!="zoom"&&(n.tempZoom=!0,n.changeCursor("zoom"))},100)}break;case 67:clearTimeout(this.ctrlkeyDownTimer);break;case 27:break;default:break}return e.stopPropagation(),!1}}},toolbarEventHandler:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,i=this.toolMap;for(var a in i)if(i.hasOwnProperty(a)&&i[a]==t){switch(e.type){case"mousedown":this.selectTool(a);break;case"dblclick":this.dblclickCommand(a);break;default:break}break}},imgWindowEventHandler:function(e){e.button==0&&e.stopPropagation();var t=this.selectedTool;if(t=="hand"&&c.imgWindow.suitLongImg&&this.isLongImg){var i=this.imgWindow.classList.contains("pv-pic-window-scroll");if(e.type=="wheel"&&i)return;if(e.type=="click"&&!this.moving){var a=ke(),l=this.imgWindow,s=c.imgWindow.fixed?{x:0,y:0}:F(),n=parseFloat(l.style.top);if(i?(l.style.top=parseFloat(l.style.top)-F(l.children[0]).y+"px",this.imgWindow.classList.remove("pv-pic-window-scroll")):(this.rotate(0,!0),this.imgWindow.classList.add("pv-pic-window-scroll"),l.children[0].scrollTop=-parseInt(l.style.top)),!i){l.style.top=(a.h-l.offsetHeight)/2+s.y+"px";var d=parseFloat(l.style.top)-n;this.imgWindow.scrollTop?this.imgWindow.scrollTop=d:this.imgWindow.pageYOffset?this.imgWindow.pageYOffset=d:this.imgWindow.scrollY&&(this.imgWindow.scrollY=d)}this.keepScreenInside()}}switch(e.type){case"click":t==="hand"&&!this.moving&&(this.imgWindow.classList.contains("pv-pic-window-black")?(this.imgWindow.classList.remove("pv-pic-window-black"),this.imgWindow.classList.add("pv-pic-window-white")):this.imgWindow.classList.contains("pv-pic-window-white")?this.imgWindow.classList.remove("pv-pic-window-white"):this.imgWindow.classList.add("pv-pic-window-black")),this.moving=!1,e.ctrlKey&&e.target.nodeName.toUpperCase()=="IMG"&&e.preventDefault();break;case"mousedown":case"touchstart":{this.focused||(this.focus(),this.moving=!0,this.keepScreenInside());var v=e.target;if(e.button==2){if(v!=this.rotateOverlayer)return;var C=this;this.rotateOverlayer.style.display="none";var m=function(){u.removeEventListener("mouseup",m,!0),setTimeout(function(){C.rotateOverlayer.style.display="block"},10)};u.addEventListener("mouseup",m,!0);return}if(e.button!=0&&e.type!="touchstart"||v!=this.imgWindow&&v!=this.img&&v!=this.rotateOverlayer&&v!=this.imgState)return;if(e.preventDefault(),this.tempHand)this.move(e);else if(this.tempZoom)this.zoom(e);else if(t=="hand")this.restoreBeforeTool=!this.hKeyUp,this.hKeyUp?this.move(e):this.aerialView(e);else if(t=="rotate"){var T={x:e.clientX-30,y:e.clientY},M=this.rotateIndicator.style;M.top=T.y+"px",M.left=T.x+"px",this.restoreBeforeTool=!this.rKeyUp,this.rotate(T)}else t=="zoom"&&(this.restoreBeforeTool=!this.zKeyUp,this.zoom(e))}break;case"wheel":{if(!this.focused||e.deltaY===0||(e.preventDefault(),this.working))return;var p=this.zoomOut;this.zoomOut=e.deltaY>0;var I=this.getZoomRatio({x:e.clientX,y:e.clientY}),E=this.getNextZoomLevel();this.zoomed=!0,this.zoom(E,I),this.zoomOut=p}break;default:break}},dblclickCommand:function(e){var t;switch(e){case"hand":this.zoom(1),this.fitToScreen(),this.center(!0,!0),this.keepScreenInside();break;case"rotate":{if(this.rotatedRadians==0)return;t=!0,this.rotate(0,!0)}break;case"zoom":{if(this.zoomLevel==1)return;t=!0,this.zoom(1,{x:0,y:0})}break;default:break}if((e=="rotate"||e=="zoom")&&t){var i=c.imgWindow.fixed?{x:0,y:0}:F(),a=this.imgWindow,l=a.getBoundingClientRect(),s=a.style;l.left<40&&(s.left=40+i.x+"px"),l.top<-5&&(s.top=-5+i.y+"px"),this.keepScreenInside()}},doFlipCommand:function(e){var t={fv:[/scaleY\([^)]*\)/i," scaleY(-1) "],fh:[/scaleX\([^)]*\)/i," scaleX(-1) "]},i=this.img.parentNode.style[Ie.cssTransform],a=this.toolMap[e].classList;t[e][0].test(i)?(i=i.replace(t[e][0],""),a.remove(this.selectedToolClass)):(i+=t[e][1],a.add(this.selectedToolClass)),this.img.parentNode.style[Ie.cssTransform]=i},selectTool:function(e){var t=["fv","fh"];if(t.indexOf(e)==-1){if(this.selectedTool==e)return;let s=this;if(e=="compare"){var i=0,a;Be.all.forEach(function(n){n.zIndex>=i&&n!=s&&(i=n.zIndex,a=n)}),a&&(this.toolMap.compare.style.display="none",this.compare([a.img.src]));return}var l=this.selectedTool;if(this.selectedTool=e,this.tempHand||this.tempZoom)return;this.rotateOverlayer.style.display=e=="rotate"?"block":"none",l&&this.toolMap[l].classList.remove(this.selectedToolClass),this.toolMap[e].classList.add(this.selectedToolClass),this.changeCursor(e)}else this.doFlipCommand(e)},changeCursor:function(e,t){if(e=="zoom"&&(e+=t?"-out":"-in"),this.cursor!=e){this.cursor=e;var i;switch(e){case"hand":i=Ie.cssCursorValue.grab||"pointer";break;case"handing":i=Ie.cssCursorValue.grabbing||"pointer";break;case"zoom-in":i=Ie.cssCursorValue.zoomIn;break;case"zoom-out":i=Ie.cssCursorValue.zoomOut;break;case"rotate":i="progress";break;case"default":i="";break}typeof i<"u"&&(this.imgWindow.style.cursor=i)}},remove:function(e){if(this.removed)return;this.removed=!0,this.blur(!0),e||(this.imgWindow.style.opacity=0);let t=this;if(setTimeout(()=>{this.removed&&(t.isImg&&(t.img.src=c.icons.brokenImg_small),t.imgWindow.parentNode.removeChild(t.imgWindow))},300),!this.preview){var i=Be.all.indexOf(this);Be.all.splice(i,1)}var a=u.createEvent("CustomEvent");if(a.initCustomEvent("pv-removeImgWindow",!1,!1),this.imgWindow.dispatchEvent(a),Be.all.length==0)Be.overlayer&&(Be.overlayer.style.display="none");else{var l=0,s;Be.all.forEach(function(n){n.zIndex>=l&&(l=n.zIndex,s=n)}),s&&s.focus()}}},Pe(Le(u),e=>{Ce&&!Ce.removed&&(Ce.isLongImg?(e.preventDefault(),e.stopPropagation(),Ce.img.parentNode.scrollTop+=e.deltaY):Ce.curIndex>=0&&(e.preventDefault(),e.stopPropagation(),Ce.switchImage(e.deltaY>0)))},!0);var Qt;function ht(e,t,i,a,l){if(ht.all.find(function(s,n,d){if(e.src==s.data.src||e.img==s.data.img)return!0}))return!1;t==="popup"&&(Qt&&Qt.cancel(),Qt=this),this.args=ue.slice.call(arguments,0),e.src!=e.imgSrc&&!e.srcs&&(e.srcs=[e.imgSrc]),this.data=e,this.buttonType=t,this.openInTopWindow=a,this.waitImgLoad=i,this.initPos=l||!1,this.init()}ht.all=[],ht.prototype={init:function(){ht.all.push(this),this.addStyle();var e=u.createElement("span");e.className="pv-loading-container",this.loadingAnim=e,e.title=o("loading")+":"+this.data.src;let t=u.createElement("span");t.className="pv-loading-button pv-loading-retry",t.title="Retry",e.appendChild(t);let i=u.createElement("span");i.className="pv-loading-button pv-loading-cancle",i.title="Cancel",e.appendChild(i),this.buttonType=="popup"&&(e.style.pointerEvents="none"),Le(u).appendChild(e);var a=this;if(e.addEventListener("click",function(l){var s=l.target.classList;s.contains("pv-loading-cancle")?a.cancel():s.contains("pv-loading-retry")&&(a.remove(),new ht(a.args[0],a.args[1],a.args[2],a.args[3]))},!0),this.setPosition(),!this.data.noActual&&(this.buttonType=="current"||this.buttonType=="gallery"))this.loadImg(this.data.imgSrc);else if(this.data.xhr)gt.load({url:this.data.src,xhr:this.data.xhr,cb:function(l,s,n){l?(a.data.src=l,s&&s.length&&(s=Array.from(new Set(s))),a.data.all=s,n&&(a.data.description=n),a.loadImg(l,s)):a.data.imgSrc?a.loadImg(a.data.imgSrc,s):a.error()},onerror:function(){a.error()}});else if(this.buttonType=="search"){mt();let l=0,s=function(){Ke(a.data.imgSrc,null,function(n,d){let v=n.shift();d==3?a.loadImg(v,n):(l=d+1,a.loadImg(v,n,s))},function(n){a.error("\u7F51\u7EDC\u9519\u8BEF")},function(n){a.error("\u6CA1\u6709\u627E\u5230\u539F\u56FE")},l)};s()}else this.loadImg(this.data.src||this.data.imgSrc,this.data.srcs)},addStyle:function(){if(ht.style){ht.style.parentNode||(ht.style=V(ht.style.innerText));return}ht.style=V('                .pv-loading-container {                position: absolute;                z-index:999999997;                background: black url("'+c.icons.loading+'") center no-repeat;                background-origin: content-box;                border: none;                padding: 1px 30px 1px 2px;                margin: 0;                opacity: 0.5;                height: 24px;                min-width: 24px;                box-shadow: 2px 2px 0px #666;                -webkit-transition: opacity 0.15s ease-in-out;                transition: opacity 0.15s ease-in-out;                width: initial;                }                .pv-loading-container:hover {                opacity: 0.9;                }                .pv-loading-button {                cursor: pointer;                height: 24px;                width: 24px;                position: absolute;                right: 0;                top: 0;                opacity: 0.4;                background:transparent center no-repeat;                -webkit-transition: opacity 0.15s ease-in-out;                transition: opacity 0.15s ease-in-out;                }                .pv-loading-button:hover {                opacity: 1;                }                .pv-loading-cancle{                pointer-events: all;                background-image: url("'+c.icons.loadingCancle+'");                }                .pv-loading-retry{                display:none;                pointer-events: all;                background-image: url("'+c.icons.retry+'");                }                .pv-loading-container_error{                background-image:none;                }                .pv-loading-container_error::after{                content:"'+o("loadError")+'";                line-height: 24px;                color: red;                font-size: 14px;                display:inline;                }                .pv-loading-container_error .pv-loading-cancle{                display:none;                }                .pv-loading-container_error .pv-loading-retry{                display:block;                }                ')},remove:function(){this.removed||(this.removed=!0,this.loadingAnim.parentNode.removeChild(this.loadingAnim),ht.all.splice(ht.all.indexOf(this),1))},cancel:function(){this.imgReady&&this.imgReady.abort(),this.remove()},error:function(e,t,i){e&&ae(e),this.loadingAnim.style.pointerEvents="",this.loadingAnim.classList.add("pv-loading-container_error"),ae("Picviewer CE+ \u8F7D\u5165\u5927\u56FE\u9519\u8BEF\uFF1A%o",this.data);var a=this;setTimeout(function(){a.remove()},3e3)},setPosition:function(){var e=me(this.data.img),t=this.loadingAnim.style,i=F();t.top=e.top+i.y+1+"px",t.left=e.left+i.x+1+"px",t.removeProperty("display")},loadImg:async function(e,t,i){var a=this,l=ge.getMode(e),s;let n=function(){s.play(),a.load(this||s),s.removeEventListener("loadeddata",n)};if(this.buttonType==="magnifier")s=u.createElement("img"),s.src=l==="video"||l==="audio"?this.data.imgSrc:e,l="";else{switch(l){case"video":if(s=ni(),s.style.width=0,s.style.height=0,s.controls=!0,s.loop=!0,s.autoplay=!0,s.volume=ge.mute?0:1,e=e.replace(/^video:/,""),e.indexOf(".mkv")!==-1)s.type="video/mp4";else if(e.indexOf(".m3u8")!==-1)try{n(),await ie(s,e),e=""}catch(v){console.error("Failed to load or initialize Video.js player:",v)}break;case"audio":s=u.createElement("audio"),s.controls=!0,s.autoplay=!0,s.volume=ge.mute?0:1,e=e.replace(/^audio:/,"");break;default:s=u.createElement("img");break}e&&(s.src=e),Ft=s}var d={error:function(v){if(/^blob:/.test(e)){if(Array.isArray(t)){var C=t.shift();if(C){a.loadImg(C,t,i);return}}}else if(l=="image"||l==""){A({method:"GET",url:s.src,responseType:"blob",onload:function(m){const T=URL.createObjectURL(m.response);a.loadImg(T,t,i);const M=()=>URL.revokeObjectURL(T);G.addEventListener("beforeunload",M)},onerror:function(){if(Array.isArray(t)){var m=t.shift();if(m){a.loadImg(m,t,i);return}}else a.error("",this,v)}});return}else a.error("",this,v);i?i():a.error("",this,v)}};d[a.waitImgLoad?"load":"ready"]=function(v){a.load(this,v)},l==="video"||l==="audio"?e&&(s.addEventListener("loadeddata",n),s.load()):a.imgReady=Ae(s,d)},load:async function(e,t){this.remove(),this.img=e;var i=this.buttonType;if(i=="gallery"){we||(we=new je,we.data=[]);var a=await we.getAllValidImgs();a.target=this.data,this.data=a}var l=this;function s(){var n=l.data,d=function(v){v&&(delete v.img,delete v.imgPA)};Array.isArray(n)?(Qi=Vt,Vt=U(n,!0),d(n.target),n.forEach(function(v){d(v)})):d(n),G.postMessage({messageID:Pt,src:e.src,data:n,command:"open",buttonType:i,to:"top"},"*")}this.openInTopWindow&&Hi&&di!==!1&&i!="magnifier"?di?s():(G.postMessage({messageID:Pt,command:"topWindowValid",to:"top"},"*"),u.addEventListener("pv-topWindowValid",function(n){di=n.detail,di?s():l.open()},!0)):this.open()},open:function(){switch(this.buttonType){case"popup":Ce&&Ce.src!=this.data.src&&(!this.data.srcs||!this.data.srcs.includes(Ce.src))&&Ce.remove(),(!Ce||Ce.removed)&&(this.data.src=this.img.src,Ce=new Be(this.img,this.data,null,null,!0)),Ce.loaded||(c.waitImgLoad?(Ce.imgWindow.style.display="none",Ce.imgWindow.style.opacity=0):c.floatBar.globalkeys.previewFollowMouse?Ce.followPos(Xt,Kt):(Ce.initMaxSize(),Ce.center(!0,!0),pi&&clearInterval(pi),pi=setInterval(function(){!Ce||Ce.removed||Ce.loaded?clearInterval(pi):Ce.center(!0,!0)},300))),Ce.imgWindow.classList.add("preview");break;case"gallery":we||(we=new je),we.load(this.data,this.from),we.changeMinView();break;case"magnifier":new et(this.img,this.data);break;case"download":lt(this.data.src||this.data.imgSrc,this.data.img.title||this.data.img.alt,c.saveName);break;case"copy":B(this.data.src||this.data.imgSrc);break;case"open":y(this.data.src||this.data.imgSrc,{active:!1});break;case"copyImg":yt(this.data.src||this.data.imgSrc);break;case"actual":case"search":case"current":case"original":this.data.src!=this.img.src&&(this.data.src=this.img.src),new Be(this.img,this.data,this.buttonType=="actual",this.initPos||!1);break}}};function yt(e){typeof ClipboardItem<"u"?be(e,(t,i)=>{if(t)try{navigator.clipboard.write([new ClipboardItem({[t.type]:t})])}catch(a){console.error(a)}},!0):B(e)}function bt(){this.init()}bt.prototype={init:function(){this.addStyle();var e=u.createElement("span");e.id="pv-float-bar-container",Le(u).appendChild(e);for(let a=0;a<5;a++){let l=u.createElement("span");l.className="pv-float-bar-button",e.appendChild(l)}var t={};this.buttons=t,this.children=e.children,ue.forEach.call(this.children,function(a,l){var s={actual:o("actualBtn").replace(/ ?\(A\)/,` (${c.floatBar.keys.actual.toUpperCase()})`),search:o("searchBtn").replace(/ ?\(S\)/,` (${c.floatBar.keys.search.toUpperCase()})`),gallery:o("galleryBtn").replace(/ ?\(G\)/,` (${c.floatBar.keys.gallery.toUpperCase()})`),current:o("currentBtn").replace(/ ?\(C\)/,` (${c.floatBar.keys.current.toUpperCase()})`),magnifier:o("magnifierBtn").replace(/ ?\(M\)/,` (${c.floatBar.keys.magnifier.toUpperCase()})`),download:o("download")+` (${c.floatBar.keys.download.toUpperCase()})`},n=c.floatBar.butonOrder[l];if(!n){a.style.display="none";return}t[n]=a,a.title=s[n],a.classList.add("pv-float-bar-button-"+n)}),this.floatBar=e;var i=this;e.addEventListener("click",function(a){var l,s=a.target;for(var n in t){if(!t.hasOwnProperty(n))return;if(s==t[n]){l=n;break}}l&&(i.open(a,l),i.hide())},!0),Lt("mouseleave",e,function(a){clearTimeout(i.hideTimer),i.hideTimer=setTimeout(function(){i.hide()},c.floatBar.hideDelay)}),Lt("mouseenter",e,function(a){clearTimeout(i.hideTimer),clearTimeout(i.showTimer),clearTimeout(i.globarOutTimer)}),this._scrollHandler=this.scrollHandler.bind(this)},addStyle:function(){if(bt.style){bt.style.parentNode||(bt.style=V(bt.style.innerText));return}bt.style=V('                    #pv-float-bar-container {                    position: absolute;                    background-image: initial;                    top: 0px;                    left: 0px;                    z-index:2147483640;                    padding: 5px;                    margin: 0;                    border: none;                    opacity: 0.35;                    line-height: 0;                    -webkit-transition: opacity 0.2s ease-in-out;                    transition: opacity 0.2s ease-in-out;                    display:none;                    }                    #pv-float-bar-container:hover {                    opacity: 1;                    }                    #pv-float-bar-container .pv-float-bar-button {                    vertical-align:middle;                    cursor: pointer;                    width: 18px;                    height: 18px;                    padding: 0;                    margin:0;                    border: none;                    display: inline-block;                    position: relative;                    box-shadow: 1px 0 3px 0px rgba(0,0,0,0.9);                    background: transparent center no-repeat;                    background-size:100% 100%;                    background-origin: content-box;                    -webkit-transition: margin-right 0.15s ease-in-out ,  width 0.15s ease-in-out ,  height 0.15s ease-in-out ;                    transition: margin-right 0.15s ease-in-out ,  width 0.15s ease-in-out ,  height 0.15s ease-in-out ;                    }                    #pv-float-bar-container .pv-float-bar-button:not(:last-child){                    margin-right: -14px;                    }                    #pv-float-bar-container .pv-float-bar-button:first-child {                    z-index: 4;                    }                    #pv-float-bar-container .pv-float-bar-button:nth-child(2) {                    z-index: 3;                    }                    #pv-float-bar-container .pv-float-bar-button:nth-child(3) {                    z-index: 2;                    }                    #pv-float-bar-container .pv-float-bar-button:last-child {                    z-index: 1;                    }                    #pv-float-bar-container:hover > .pv-float-bar-button {                    width: 24px;                    height: 24px;                    }                    #pv-float-bar-container:hover > .pv-float-bar-button:not(:last-child) {                    margin-right: 4px;                    }                    #pv-float-bar-container .pv-float-bar-button-actual {                    background-image:url("'+c.icons.actual+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-search {                    background-image:url("'+c.icons.search+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-gallery {                    background-image:url("'+c.icons.gallery+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-current {                    background-image:url("'+c.icons.current+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-magnifier {                    background-image:url("'+c.icons.magnifier+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-download {                    background-image:url("'+c.icons.download+'")!important;                    }                    ')},start:function(e){if(e&&e.type=="link"&&(e.hide=!0),ht.all.find(function(a,l,s){if(e.src==a.data.src||e.img==a.data.img)return!0})||et.all.find(function(a,l,s){if(e.src==a.data.src)return!0}))return!1;var t=this;clearTimeout(this.hideTimer);var i=function(a){u.removeEventListener("mouseout",i,!0),clearTimeout(t.showTimer),clearTimeout(t.hideTimer),t.hideTimer=setTimeout(function(){t.hide()},c.floatBar.hideDelay)};return clearTimeout(this.globarOutTimer),this.globarOutTimer=setTimeout(function(){u.addEventListener("mouseout",i,!0)},150),clearTimeout(this.showTimer),t.data=e,e.hide?(this.show(),this.floatBar.style.display="none",this.floatBar.style.opacity=0,!1):((!this.shown||t.data.img!=e.img)&&(this.floatBar.style.transition="unset",this.floatBar.style.opacity=.01),this.showTimer=setTimeout(function(){t.show()},c.floatBar.showDelay),!0)},setButton:function(){this.buttons.actual&&(this.data.noActual?this.buttons.actual.style.display="none":this.buttons.actual.style.removeProperty("display")),this.buttons.magnifier&&(this.data.type!="force"&&this.data.img.nodeName.toUpperCase()=="IMG"?this.buttons.magnifier.style.removeProperty("display"):this.buttons.magnifier.style.display="none"),this.data.img.nodeName.toUpperCase()!="IMG"},setPosition:function(){if(this.data.img.offsetWidth==0)return!0;var e=me(this.data.img),t=this.data.img.parentNode,i=!1;if(t&&t.scrollHeight>30&&t.scrollWidth>30){var a=t.getBoundingClientRect();if(a.width>30&&a.height>30){const X=fe.getComputedStyle(this.data.img),re=new DOMMatrixReadOnly(X.transform);let Y=re.m41,w=re.m42,q=re.m11,ye=re.m22;(w||this.data.img.offsetTop!=0||ye&&ye!==1)&&a.height<e.height-3&&(i=!0,e.top=a.top),(Y||this.data.img.offsetLeft!=0||q&&q!==1)&&a.width<e.width-3&&(i=!0,e.left=a.left)}}if(t=this.data.img.offsetParent,t&&!i&&(a=t.getBoundingClientRect(),a.width>30&&a.height>30)){const X=fe.getComputedStyle(this.data.img),re=new DOMMatrixReadOnly(X.transform);let Y=re.m41,w=re.m42,q=re.m11,ye=re.m22;(w||this.data.img.offsetTop!=0||ye&&ye!==1)&&a.height<e.height-3&&(e.top=a.top),(Y||this.data.img.offsetLeft!=0||q&&q!==1)&&a.width<e.width-3&&(e.left=a.left)}var l=ke(),s=this.data.img,n=c.floatBar.position.toLowerCase().split(/\s+/),d=c.floatBar.offset.x,v=c.floatBar.offset.y;let C=Le(u),m=fe.getComputedStyle(C),T,M;m.position==="static"?(T=u.documentElement,M={top:0,bottom:l.h,left:0,right:l.w}):(T=C,M=T.getBoundingClientRect());var p=F(T);e.top=e.top-M.top+p.y,e.left=e.left-M.left+p.x,e.bottom=M.bottom-e.bottom-p.y,e.right=M.right-e.right-p.x;var I=this.floatBar.style,E={top:function(){var X=e.top;X+v-p.y<10?(X=p.y,v=0):(c.floatBar.stayOut?X=X+v-10-c.floatBar.stayOutOffsetY:X=X+v,e.height<=50&&(X-=10)),I.bottom="unset",I.top=X+"px"},right:function(){var X=e.right;c.floatBar.stayOut?X=X-d-c.floatBar.stayOutOffsetX:X=X-d,e.width<=50&&(X+=10),I.left="unset",I.right=X+"px"},bottom:function(){var X=e.bottom;c.floatBar.stayOut?X=X-v-40-c.floatBar.stayOutOffsetY:X=X-v-30,e.height<=50&&(X+=10),I.top="unset",I.bottom=X+"px"},left:function(){var X=e.left;X+d-p.x<0?(X=p.x,d=0):(c.floatBar.stayOut?X=X+d-c.floatBar.stayOutOffsetX:X=X+d,e.width<=50&&(X-=10)),I.right="unset",I.left=X+"px"},center:function(){var X=e.left+d;I.left=X+e.width/2+"px"},hide:function(){var X=e.top,re=e.left;c.floatBar.stayOut?(X=X+v-10-c.floatBar.stayOutOffsetY,re=re+d-c.floatBar.stayOutOffsetX):(X=X+v,re=re+d),e.height<=50&&(X-=10),I.top=X+"px",e.width<=50&&(re-=10),I.left=re+"px"}};E[n[0]](),n.length>1&&E[n[1]]()},show:function(){this.setPosition()||(this.shown=!0,this.addStyle(),this.setButton(),this.floatBar.style.transition="",this.floatBar.style.display="block",this.floatBar.style.opacity="",clearTimeout(this.hideTimer),G.removeEventListener("scroll",this._scrollHandler,!0),G.addEventListener("scroll",this._scrollHandler,!0))},hide:function(){clearTimeout(this.showTimer),this.floatBar.style.opacity=.01,this.shown=!1,this.floatBar.style.display="none",G.removeEventListener("scroll",this._scrollHandler,!0)},scrollHandler:function(){clearTimeout(this.scrollUpdateTimer);var e=this;this.scrollUpdateTimer=setTimeout(function(){e.setPosition()},100)},open:async function(e,t){if(!(!this.shown||!this.data||!this.data.imgSrc)&&!G.getSelection().toString()){if(this.data.imgSrc.indexOf("blob:")===0){let l=await At(this.data.imgSrc);if(l){let s=this.data.src===this.data.imgSrc;this.data.imgSrc=l,this.data.srcs=[this.data.imgSrc],s&&(this.data.src=l)}}if(t==="download"&&!this.data.xhr){if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return;lt(this.data.src||this.data.imgSrc,this.data.img.title||this.data.img.alt,c.saveName),e.stopPropagation(),e.preventDefault();return}else{e.stopPropagation(),e.preventDefault();let l=e.altKey;if(e.type!="click"&&c.floatBar.globalkeys.invertInitShow&&c.floatBar.globalkeys.alt&&(l=!1),c.floatBar.invertAdditionalFeature?!l:l){let n,d=c.floatBar.additionalFeature;if(t=="actual"?this.data.xhr?t=d||"open":n=this.data.src||this.data.imgSrc:t=="current"&&(n=this.data.imgSrc),n){switch(d){case"copy":B(n);break;case"open":y(n,{active:!1});break;case"copyImg":yt(n);break}return}}}var i=e&&e.ctrlKey?!c.waitImgLoad:c.waitImgLoad,a=e&&e.shiftKey?!c.framesPicOpenInTopWindow:c.framesPicOpenInTopWindow;!i&&t=="magnifier"&&!oe.chrome&&(i=!0),new ht(this.data,t,i,a),e.type=="click"&&floatBar.hide()}},update:function(e,t){this.data.img==e&&this.data.imgSrc!=t&&(this.data.src=t,this.data.noActual=!1,this.data.type="rule",this.shown&&this.setButton())}};var gt=(function(){var e={},t={},i,a=0,l,s=!1;function n(p,I,E,X,re,Y,w){d(p,X,Y,async function(q){var ye,de=[],Se,Re,_e=v(q);if(typeof I=="function")ye=await I(q,_e,p+(X?`#p{${X}}`:""),l,S),ye&&(ye.url&&(Se=ye.cap,ye=ye.url),Array.isArray(ye)?(ye=ye.map(pt=>w(pt)),de=ye,ye=de[0]):ye=w(ye));else{var st=C(I,_e);st.forEach(function(pt){de.push(w(m(pt,p)))}),ye=de[0]}if(E){if(typeof E=="function")Se=await E(q,_e,p,l);else{var It=C(E,_e);Se=It.length?T(It[0]):!1}Array.isArray(Se)&&(Re=Se,Se=Re[0])}if(ye){let pt={iurl:ye,iurls:de,cap:Se,caps:Re};t[p+(X||"")]=pt,a&&pe.setListItem("xhrCache",p+(X||""),pt,a)}re(ye,de,Se,Re)})}async function d(p,I,E,X){var re={method:"GET",url:p,onload:function(Y){try{if(Y.status>399)throw"Server error: "+Y.status;X(Y.responseText,Y.finalUrl||p)}catch(w){if(!s&&Y.responseHeaders.indexOf("cloudflare")!=-1)return s=!0,d(p,I,E,X);i(w)}},onerror:i};if(I&&(re.method="POST",re.data=I,re.headers={"Content-Type":"application/x-www-form-urlencoded",Referer:p}),E&&(typeof E=="function"&&(E=await E(p+(I?`#p{${I}}`:""),l,ve)),re.headers=E),s){let Y={method:re.method||"GET",headers:re.headers};re.method&&re.method!="GET"&&(Y.body=re.data||""),fetch(re.url,Y).then(w=>w.text()).then(w=>{re.onload({responseText:w})}).catch(w=>re.onerror(w))}else A(re)}function v(p){var I=u.implementation.createHTMLDocument("PicViewerCE");return I.documentElement.innerHTML=p,I}function C(p,I){var E=[],X;Array.isArray(p)||(p=[p]);for(var re=0,Y=p.length;re<Y;re++)X=M(p[re],I),X&&X.length&&[].forEach.call(X,w=>{E.push(w)});return E}function m(p,I){Nt(p,!0);var E=p.dataset&&p.dataset.src||p.src||p.href||p.children&&p.children[0]&&p.children[0].src;return/^video$/i.test(p.nodeName)?E="video:"+E:/^audio$/i.test(p.nodeName)?E="audio:"+E:E.baseVal&&(E=E.baseVal),E?E.trim():!1}function T(p){return p.getAttribute("content")||p.getAttribute("title")||p.textContent}function M(p,I){return I.querySelectorAll(p)}return e.load=function(p){l=p.xhr;var I=t[p.url]||pe.getListItem("xhrCache",p.url);if(a=l.cacheNum||0,I){p.cb(I.iurl,I.iurls,I.cap,I.caps);return}i=p.onerror||function(){};let E=p.url.match(/#p{(.*)}$/);!p.post&&E&&(p.post=E[1],p.url=p.url.replace(/#p{.*/,"")),n(p.url,l.query||l.q,l.caption||l.c,p.post,p.cb,l.headers,l.after)},e})();function Nt(e,t){if(e.removeAttribute&&e.removeAttribute("loading"),e.nodeName.toUpperCase()!="IMG"||!t&&e.src&&!e.srcset&&!/^data/.test(e.src))return;let i;rt.find(function(a,l,s){try{if(i=a.call(e),i)return!0}catch(n){ae(n)}}),i&&(e.src=i)}function wt(e){for(var t=e,i,a=[];t=t.parentNode||t.host;)if(t.nodeName.toUpperCase()=="A"){i=t;break}for(t=e;(t=t.parentNode||t.host)&&t.nodeName.toUpperCase()!="BODY";)a.push(t);var l=i?i.href:"",s=/^data:/i.test(e.src),n,d,v,C=!1,m=e.currentSrc||e.src||e.dataset.lazySrc,T,M,p=fe.getComputedStyle(e);if(/^link$/i.test(e.nodeName)&&(p={height:64,width:64}),!/IMG/i.test(e.nodeName)&&p&&p.backgroundImage&&p.backgroundImage!="none"){let Y=p.height,w=p.width;e.offsetWidth||(w=10),e.offsetHeight||(Y=10),p.backgroundRepeatX=="repeat"&&(w=10),p.backgroundRepeatY=="repeat"&&(Y=10),p={height:Y,width:w}}var I={h:parseFloat(p.height)||e.height||e.offsetHeight,w:parseFloat(p.width)||e.width||e.offsetWidth};if(I.h===0&&I.w===0){for(let Y=0;Y<a.length;Y++)if(a[Y].offsetHeight){I={h:a[Y].offsetHeight,w:a[Y].offsetWidth};break}}var E={h:e.naturalHeight>1?e.naturalHeight:I.h,w:e.naturalWidth>1?e.naturalWidth:I.w};if(!n&&ge.rules.length>0){try{let Y=ge.getImage(e,i,a);Y&&m!=Y&&(n=Y)}catch(Y){g(Y)}if(n&&(Array.isArray(n)&&(d=n,n=d.shift()),v="rule",T=ge.xhr,ge.lazyAttr&&(m=e.getAttribute(ge.lazyAttr)||e.src),ge.description)){let Y=ge.description,w;Array.isArray(Y)&&Y.length===2&&(w=Y[1],Y=Y[0]);var X=Bt(Y,e);X&&(M=w?X.getAttribute(w):X.getAttribute("title")||X.textContent)}}if(/^IMG$/i.test(e.nodeName)&&!n&&l){if(l!=e.src&&nt.test(l)){if(n=l,/[&\?]url\=/.test(n)){n=n.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{n=decodeURIComponent(n)}catch{}}else if(/[&\?]https?:/.test(n)){n=n.replace(/.*[&\?](https?:)/,"$1");try{n=decodeURIComponent(n)}catch{}}}n&&(v="tpRule")}if(!n&&!s&&(rt.find(function(Y,w,q){try{if(n=Y.call(e,i),n)return!0}catch(ye){g(ye)}}),n&&(v="tpRule")),(!n||n==m)&&(C=!0,E.w==I.w&&E.h==I.h?(n=m,v="force",e.nodeName=="A"&&(M=e.title||e.alt||e.innerText)):(n=m,v="scale",E.h<c.gallery.scaleSmallSize&&E.w<c.gallery.scaleSmallSize&&(v="scaleSmall"))),!!n){var re={all:ge.all,src:n,srcs:d,type:v,imgSrc:m,iPASrc:l,sizeH:E.h,sizeW:E.w,imgCS:I,imgAS:E,noActual:C,xhr:T,description:M||e.title||e.alt||e.parentNode&&e.parentNode.title||"",img:e,imgPA:i};return re}}function ci(){return new ji}function ji(){this.init()}const ga=new Set(["3gpp","m4v","mkv","mp4","ogv","webm","m3u8"]),ma=new Set(["flac","m4a","mp3","oga","ogg","opus","wav"]);function Yi(e){if(e.indexOf(".video")!==-1||e.indexOf("video:")===0)return!0;e=e.replace(/.gif(\?width=\d*&|\?)format=mp4/,".mp4?").replace(/\/$/,""),e.lastIndexOf("?")>0&&(e=e.substring(0,e.lastIndexOf("?")));const t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return ga.has(t)||e.indexOf("googlevideo.com/videoplayback")>0||e.indexOf("v.redd.it")>0}function Pi(e){if(e.indexOf(".audio")!==-1||e.indexOf("audio:")===0)return!0;e=e.replace(/\/$/,""),e.lastIndexOf("?")>0&&(e=e.substring(0,e.lastIndexOf("?")));const t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return ma.has(t)}ji.prototype={init:function(){if(c.customRules){c.customRules==`[
/*
  {
    name: "Example, can be deleted safely",
    url: /^https?:\\/\\/www\\.google\\.com\\/search\\?/,
    getImage: function(a) {},
    src: /avatar/i,
    r: /\\?.*$/i,
    s: ''
  }
*/]`&&(c.customRules="[]");try{var e;c.customRules.indexOf("name:")!==-1?xi()||(e=fe.eval(Ge(c.customRules))):e=JSON.parse(c.customRules),Array.isArray(e)&&e.forEach(s=>{s.custom=!0;let n=!1;for(let d=0;d<siteInfo.length;d++)if(siteInfo[d].name==s.name){n=!0;for(let v in s)siteInfo[d][v]=s[v];break}n||siteInfo.unshift(s)})}catch(s){console.log("Wrong rule for Picviewer CE+"),console.log(s)}}var t=this,i=0,a=!1;t.rules=[];function l(){setTimeout(()=>{let s=i+20;for(s=s>siteInfo.length?siteInfo.length:s;i<s;i++){let d=siteInfo[i];if(d.enabled!=!1&&(!d.url||Tt(d.url).test(We))){if(d.xhr){d.xhr.after=C=>{let m=t.replaceByRule(C,d,!0);return Array.isArray(m)&&(m=m[0]),m&&m.length?m:C};let v=typeof d.xhr.url=="string"&&d.xhr.url.match(/^\/(.*)\/(\w*)$/);if(v)d.xhr.url=Tt(v[1],v[2]);else if(Array.isArray(d.xhr.url)){let C=Tt(d.xhr.url[0],"i"),m=d.xhr.url[1];d.xhr.url=(T,M)=>{if(!(!T||!T.href)&&C.test(T.href))return T.href.replace(C,m)}}}if(d.url&&!a){if(a=!0,d.css){var n=V(d.css);n.id="gm-picviewer-site-style"}if(d.lazyAttr&&(t.lazyAttr=d.lazyAttr),d.description&&(t.description=d.description),d.clickToOpen&&(t.clickToOpen=d.clickToOpen),d.ext&&(t.ext=d.ext),d.gallery){let v=d.gallery;t.gallery=()=>typeof v=="string"?u.querySelectorAll(v):v()}if(d.video){let v=typeof d.video=="string"&&d.video.match(/^\/(.*)\/(\w*)$/);v&&(d.video=Tt(v[1],v[2])),t.video=d.video}if(d.audio){let v=typeof d.audio=="string"&&d.audio.match(/^\/(.*)\/(\w*)$/);v&&(d.audio=Tt(v[1],v[2])),t.audio=d.audio}d.getExtSrc&&(t.getExtSrc=d.getExtSrc),d.mute&&(t.mute=!0)}t.rules.push(d)}}s<siteInfo.length?l():t.rules.sort((d,v)=>d.custom&&!v.custom?-1:!d.custom&&v.custom?1:d.url&&!v.url?-1:!d.url&&v.url?1:0)},1)}setTimeout(()=>{fe.pvcepRules&&Array.isArray(fe.pvcepRules)&&fe.pvcepRules.forEach(s=>{s.custom=!0;let n=!1;for(let d=0;d<siteInfo.length;d++)if(siteInfo[d].name==s.name){n=!0;for(let v in s)siteInfo[d][v]=s[v];break}n||siteInfo.unshift(s)}),l()},1)},replace:function(e,t,i){var a=[],l;let s=typeof t=="string"&&t.match(/^\/(.*)\/(\w+)$/);if(s&&(t=Tt(s[1],s[2])),Array.isArray(i))i.forEach(n=>{l=e.replace(t,n),l&&l!=e&&a.push(l)});else if(l=e.replace(t,i),l&&l!=e)return l;return a},replaceByRule:function(e,t,i){if(i&&(!t.r||/^data:/i.test(e)))return e;let a;if(Array.isArray(t.r))for(var l=0;l<t.r.length;l++){var s=t.r[l];if(s){if(Array.isArray(t.s)){var n=t.s[l];a=this.replace(e,s,n)}else a=this.replace(e,s,t.s);if(a&&a.length&&a!==e)break}}else a=this.replace(e,t.r,t.s);return a&&a.length?a:e},getMode:function(e){return!e||!e.length?"":this.video&&this.video.test(e)?"video":this.audio&&this.audio.test(e)?"audio":Yi(e)?"video":Pi(e)?"audio":""},getXhrLink:function(e,t){var i,a;this.xhr=null,this.xhrLink=!1;for(var l=0;l<this.rules.length;l++)if(a=this.rules[l],!a.src&&a.xhr){if(a.xhr.url){if(a.xhr.url.test)e&&a.xhr.url.test(e.href)&&(i=e.href);else if(typeof a.xhr.url=="string")try{e&&e.matches(a.xhr.url)&&(i=e.href)}catch(s){ae(s)}else i=a.xhr.url.call(e,e,t,a.xhr);if(i)return this.xhrLink=!0,this.xhr=a.xhr,i}else if(e&&(i=e.href,i))return this.xhrLink=!0,this.xhr=a.xhr,i}},getImage:function(e,t,i,a){var l,s,n=/^data:/i.test(e.src);this.all=null,this.xhr=null;for(var d=0;d<this.rules.length;d++)if(s=this.rules[d],!(s.src&&!Tt(s.src).test(e.src))&&!(s.exclude&&Tt(s.exclude).test(e.src))){if(s.xhr)if(s.xhr.url){if(s.xhr.url.test)t&&s.xhr.url.test(t.href)&&(l=t.href);else if(typeof s.xhr.url=="string")try{t&&t.matches(s.xhr.url)&&(l=t.href)}catch(v){ae(v)}else l=s.xhr.url.call(a||e,t,i,s.xhr);if(l)return this.xhr=s.xhr,l;this.xhr=null}else t&&(l=t.href);if(!(n&&(!s.url||!s.getImage))){if(l)return this.xhr=s.xhr,l;if(s.getImage?(l=s.getImage.call(a||e,t,i,s),l&&l.all&&(this.all=l.all,l=this.all[0])):l=null,!n&&s.r&&e.src&&!Array.isArray(l)&&(l||(l=e.src||e.currentSrc),l=this.replaceByRule(l,s)),l&&l.length>0&&l!=(e.src||e.currentSrc)){ae(s);break}else l=null}}return l&&l.length==0&&(l=null),l}};var Hi=G!=G.parent,di,Vt,Qi;function va(e){var t=e.data;if(!(!t||!t.messageID||t.messageID!=Pt)){var i=e.source,a,l;if(typeof i>"u"||i!==G)if(Hi)switch(a=t.command,a){case"navigateToImg":{if(!Vt.unique){var n=je.prototype.unique(Vt);Vt=n.data,Vt.unique=!0}var d=Vt[t.index].img,v=u.documentElement.contains(d)&&fe.getComputedStyle(d).display!="none";v&&(we&&we.shown&&we.minimize(),setTimeout(function(){je.prototype.navigateToImg(d),K(d)},0)),t.from&&G.postMessage({messageID:Pt,command:"navigateToImg",exist:v,to:t.from,index:t.index},"*")}break;case"sendFail":Vt=Qi;break;case"topWindowValid_frame":l=u.createEvent("CustomEvent"),l.initCustomEvent("pv-topWindowValid",!1,!1,t.valid),u.dispatchEvent(l);break}else switch(a=t.command,a){case"open":{if(t.buttonType==="download"){lt(t.src,u.title,c.saveName);return}var s=u.createElement("img");s.src=t.src,Ae(s,{ready:function(){ht.prototype.open.call({img:s,data:t.data,buttonType:t.buttonType,from:t.from})}})}break;case"navigateToImg":l=u.createEvent("CustomEvent"),l.initCustomEvent("pv-navigateToImg",!1,!1,t.exist),u.dispatchEvent(l);break;case"topWindowValid":t.from&&G.postMessage({messageID:Pt,command:"topWindowValid_frame",valid:Le(u).nodeName.toUpperCase()!="FRAMESET",to:t.from},"*");break}}}var Pt="pv-0.5106795670312598",hi=null;function xi(){if(hi===null)try{hi=fe.eval(Ge("false"))}catch{console.debug("unsafe"),hi=!0}return hi}function ya(){if(!xi()){var e=u.createElement("script");e.id="picviewer-page-script";var t=function(i){var a=Math.random(),l={top:G.top};G.addEventListener("message",function(s){var n=s.data;if(!(!n||!n.messageID||n.messageID!=i)){var d=s.source;if(d===G)if(n.to)n.from=a,l[n.to].postMessage(n,"*");else switch(n.command){case"getIframeObject":{for(var v=l[n.windowId],C=u.getElementsByTagName("iframe"),m,T,M=C.length-1;M>=0;M--)if(m=C[M],m.contentWindow===v){T=m;break}var p=u.createEvent("CustomEvent");p.initCustomEvent("pv-getIframeObject",!1,!1,T),u.dispatchEvent(p)}break}else l[n.from]=d}},!0)};e.textContent=Ge("("+t.toString()+")("+JSON.stringify(Pt)+")"),u.head&&u.head.appendChild(e)}}function ba(e){var t=ge.clickToOpen.preventDefault,i=ge.clickToOpen.button||0,a=!!ge.clickToOpen.alt,l=!!ge.clickToOpen.ctrl,s=!!ge.clickToOpen.shift,n=!!ge.clickToOpen.meta;function d(){u.removeEventListener("mouseout",d,!0),u.removeEventListener(i==2?"contextmenu":"mousedown",C,!0),e.imgPA&&t&&e.imgPA.removeEventListener("click",m,!0)}function v(T){return!(T.button!=i||T.altKey!=a||T.ctrlKey!=l||T.shiftKey!=s||T.metaKey!=n)}function C(T){if(v(T)&&(bt.prototype.open.call({data:e},T,ge.clickToOpen.type),t))return T.preventDefault(),T.stopPropagation(),!1}function m(T){v(T)&&T.preventDefault()}return u.addEventListener(i==2?"contextmenu":"mousedown",C,!0),e.imgPA&&t&&e.imgPA.addEventListener("click",m,!0),setTimeout(function(){u.addEventListener("mouseout",d,!0)},100),function(){d()}}var ki,Ce,pi,ri=!1,Si=!1;function Vi(e){return!(!e.ctrlKey&&e.key!=="Control"&&c.floatBar.globalkeys.ctrl||!e.altKey&&e.key!=="Alt"&&c.floatBar.globalkeys.alt||!e.shiftKey&&e.key!=="Shift"&&c.floatBar.globalkeys.shift||!e.metaKey&&e.key!=="Meta"&&c.floatBar.globalkeys.command||!c.floatBar.globalkeys.ctrl&&!c.floatBar.globalkeys.alt&&!c.floatBar.globalkeys.shift&&!c.floatBar.globalkeys.command)}function Ei(e){if(Si)return!1;let t;try{t=!Zt&&Ot}catch{}if(t&&t!=`
`)return!1;let i=c.floatBar.globalkeys.type=="hold"&&Vi(e)||c.floatBar.globalkeys.type=="press"&&ri;return c.floatBar.globalkeys.invertInitShow?!i:i}var fi,$t,Xt,Kt;function wa(e,t){$t&&u.removeEventListener("mousemove",$t,!0),fi&&clearTimeout(fi),$t=i=>{if(Xt=i.clientX,Kt=i.clientY,e!=i.target){let a=e.getBoundingClientRect(),l=i.target.getBoundingClientRect();a&&l&&(a.left>l.left||a.right<l.right||a.top>l.top||a.bottom<l.bottom)&&(u.removeEventListener("mousemove",$t,!0),clearTimeout(fi))}},u.addEventListener("mousemove",$t,!0),fi=setTimeout(()=>{u.removeEventListener("mousemove",$t,!0),t()},c.floatBar.showDelay||0)}function Aa(e,t,i,a,l,s){let n=e;if(!n||n.id=="pv-float-bar-container"||n.parentNode&&(n.parentNode.id=="icons"||n.parentNode.className=="search-jumper-btn")||n.className&&(/^pv\-/.test(n.className)||n.className=="whx-a"||n.className=="whx-a-node"||n.className=="search-jumper-btn"||n.classList.contains("pv-icon")||n.classList.contains("ks-imagezoom-lens")))return;if(n.nodeName.toUpperCase()=="PICTURE"&&(n=n.querySelector("img")),t=="mousemove"){if(Ce&&!Ce.removed&&!Ce.previewed){Ce.followPos(a,l),i||Ce.remove();return}else if(n.nodeName.toUpperCase()!="IMG"||!i)return}if(n.nodeName.toUpperCase()!="IMG"&&ge.rules.length>0&&ge.ext){var d=typeof ge.ext;if(d=="string")switch(ge.ext){case"previous":n=n.previousElementSibling||n;break;case"next":n=n.nextElementSibling||n;break;case"previous-2":n=n.previousElementSibling&&n.previousElementSibling.previousElementSibling||n;break}else if(d=="function"){try{n=ge.ext(n)||n}catch(Y){g(Y)}if(!n)return}}let v=/.*url\(\s*["']?([^ad\s'"#].+?)["']?\s*\)([^'"]|$)/i,C=/^\s*url\(\s*["']?([^ad\s'"#].+?)["']?\s*\)([^'"]|$)/i,m,T,M=Y=>{if(Y.nodeName.toUpperCase()=="HTML"||Y.nodeName=="#document"||Y.clientWidth<=c.floatBar.minSizeLimit.w||Y.clientHeight<=c.floatBar.minSizeLimit.h)return!1;T="";let w=fe.getComputedStyle(Y),q=w.backgroundRepeatX!="repeat"&&w.backgroundRepeatY!="repeat"&&w.backgroundImage;return q&&q!=="none"&&(T=w.backgroundImage.match(q.length>500?C:v)),T||(w=fe.getComputedStyle(Y,"::before"),q=w.backgroundRepeatX!="repeat"&&w.backgroundRepeatY!="repeat"&&w.backgroundImage,q&&q!=="none"&&(T=w.backgroundImage.match(q.length>500?C:v))),T||(w=fe.getComputedStyle(Y,"::after"),q=w.backgroundRepeatX!="repeat"&&w.backgroundRepeatY!="repeat"&&w.backgroundImage,q&&q!=="none"&&(T=w.backgroundImage.match(q.length>500?C:v))),T&&(T=T[1].replace(/\\"/g,'"')),T};if(n.nodeName.toUpperCase()!="IMG"){let Y,w,q,ye=[];try{if(ge.getExtSrc&&(Y=ge.getExtSrc.call(n)),!Y&&n.href){w=n;let de=0;for(;(w=w.parentNode||w.host)&&!(de++>5||w.nodeName.toUpperCase()=="BODY");)ye.push(w);Y=ge.getXhrLink(n,ye)}}catch(de){g(de)}if(Y){let de;Y&&Y.all&&(de=Y.all,Y=de[0]);let Se=Y,Re=c.floatBar.listenBg&&M(n)?T:Y;if(Array.isArray(Y)&&Y.length==2&&(Re=Y[0],Se=Y[1]),!ge.xhrLink){w=n,ye=[];do if(w.nodeName.toUpperCase()=="A"){q=w;break}while(w=w.parentNode||w.host);for(w=n;(w=w.parentNode||w.host)&&w.nodeName.toUpperCase()!="BODY";)ye.push(w);Se=ge.getImage(n,q,ye)||Se}let _e=Se===Re;m={all:de||ge.all,src:Se,type:ge.xhrLink&&_e?"link":"rule",imgSrc:Re,noActual:_e,img:n,xhr:ge.xhr}}}var p=function(){if(i){if(m.type!="link"&&m.type!="rule"&&m.src==m.imgSrc&&m.imgAS.w<m.imgCS.w*1.6&&m.imgAS.h<m.imgCS.h*1.6){if(m.img&&m.img.childElementCount&&(m.type=="force"||c.floatBar.globalkeys.invertInitShow))return!1;var Y=ke();if(c.floatBar.globalkeys.invertInitShow&&m.imgAS.w<=Y.w&&m.imgAS.h<=Y.h)return!1}if(Xt=a,Kt=l,Ce&&!Ce.removed){if(Ce.src==m.src)return!0;Ce.remove()}return wa(e,()=>{new ht(m,"popup",c.waitImgLoad,c.framesPicOpenInTopWindow)}),!0}else return!1};if(!m){if(n.nodeName.toUpperCase()!="IMG"&&n.dataset.role=="img"){let Y=n.parentNode.querySelector("img");Y&&(n=Y)}if(n.nodeName.toUpperCase()=="IMAGE"){let Y=n.href&&n.href.baseVal;Y&&(m={src:Y,type:"rule",imgSrc:Y,noActual:!0,img:n.parentNode})}else if(n.nodeName.toUpperCase()!="IMG"){if(Zt&&a>Zt.left&&a<Zt.left+Zt.width&&l>Zt.top&&l<Zt.top+Zt.height){m={src:Ot,type:"link",imgSrc:Ot,noActual:!0,img:n},p(),floatBar||(floatBar=new bt),floatBar.start(m);return}let Y=!1;n.nodeName.toUpperCase()=="AREA"&&(n=n.parentNode);var I,E;if(n.nodeName.toUpperCase()!="A"&&n.parentNode&&n.parentNode.style&&!/flex|grid|table/.test(getComputedStyle(n.parentNode).display)){for(I=n.previousElementSibling;I&&(I.offsetWidth&&I.offsetWidth>n.offsetWidth>>1&&(I.nodeName=="IMG"?E=I:I.nodeName=="PICTURE"&&(E=I.querySelector("img"))),getComputedStyle(I).position==="absolute");)I=I.previousElementSibling;if(I==n)I=null;else if(!I){for(I=n.nextElementSibling;I&&(I.offsetWidth&&I.offsetWidth>n.offsetWidth>>1&&(I.nodeName=="IMG"?E=I:I.nodeName=="PICTURE"&&(E=I.querySelector("img"))),getComputedStyle(I).position!="absolute");)I=I.nextElementSibling;I==n&&(I=null)}}if(n.children.length==1&&!(n.textContent&&n.textContent.trim())&&n.children[0].nodeName=="IMG")n=n.children[0],Y=!0;else if(c.floatBar.listenBg&&M(n)){let w=T;m={src:w,type:"scale",imgSrc:w,noActual:!0,img:n},Y=!0}else if(E)n=E,Y=!0;else if(n.nodeName.toUpperCase()=="CANVAS"){let w=n.src||n.dataset.src;w&&(m={src:w,type:"scale",imgSrc:w,noActual:!0,img:n},Y=!0)}else if(c.floatBar.listenBg&&I&&M(I)){let w=T;m={src:w,type:"scale",imgSrc:w,noActual:!0,img:n},Y=!0}else if(n.parentNode){let w;if(n.nodeName=="A"&&(w=n.querySelectorAll("img")),w&&w.length==1)n=w[0],Y=!0;else if(n.parentNode.nodeName.toUpperCase()=="IMG")n=n.parentNode,Y=!0;else if(c.floatBar.listenBg&&M(n.parentNode)){n=n.parentNode;let q=T;m={src:q,type:"scale",imgSrc:q,noActual:!0,img:n},Y=!0}}if(!Y){let w=n;for(;w&&!(w.textContent&&w.textContent.trim())&&w.children.length===1;)if(w=w.children[0],w.nodeName==="IMG"){n=w,Y=!0;break}else if(w.nodeName==="PICTURE"){n=w.querySelector("img"),Y=!0;break}else if(c.floatBar.listenBg&&M(w)){let q=T;m={src:q,type:"scale",imgSrc:q,noActual:!0,img:w},Y=!0;break}}if(!Y&&n.children&&n.children[0]&&n.children[0].nodeName.toUpperCase()=="IMG"){let w=n.children[0];for(;w.nextElementSibling&&w.nextElementSibling.nodeName.toUpperCase()=="IMG";)w=w.nextElementSibling;let q=w.getBoundingClientRect();l>=q.top&&l<=q.bottom&&a>=q.left&&a<=q.right&&(n=w,Y=!0)}if(!Y&&u.elementsFromPoint){let w=u.elementsFromPoint(a,l),q=Math.min(w.length,10);for(let ye=0;ye<q;ye++){let de=w[ye];if(de){if(/^img$/i.test(de.nodeName)){n=de,m=null,Y=!0;break}else if(c.floatBar.listenBg&&M(de)){n=de;let Se=T;m={src:Se,type:"scale",imgSrc:Se,noActual:!0,img:n},Y=!0;break}else if(n.nodeName.toUpperCase()!="A"&&de.nodeName.toUpperCase()=="CANVAS"){let Se=de.src||de.dataset.src;if(Se){n=de,m={src:Se,type:"scale",imgSrc:Se,noActual:!0,img:n},Y=!0;break}}}}}if(!Y&&n.shadowRoot){let w=n.shadowRoot.querySelectorAll("img");w.length===1&&(n=w[0])}if(m&&!/^data:/i.test(m.src)&&ge.rules.length>0&&n.nodeName.toUpperCase()!="IMG"){let w=m.src,q={src:w},ye,de=w;try{let Se=n,Re,_e=[];for(;Se=Se.parentNode||Se.host;)if(Se.nodeName.toUpperCase()=="A"){Re=Se;break}for(Se=n;(Se=Se.parentNode||Se.host)&&Se.nodeName.toUpperCase()!="BODY";)_e.push(Se);let st=ge.getImage(q,Re,_e,n);if(st&&de!=st){let It,pt;if(w=st,Array.isArray(w)&&(It=w,w=It.shift()),ye="rule",ge.description){let zt=ge.description,Jt;Array.isArray(zt)&&zt.length===2&&(Jt=zt[1],zt=zt[0]);var X=Bt(zt,q);X&&(pt=Jt?X.getAttribute(Jt):X.getAttribute("title")||X.textContent)}m.all=ge.all,m.src=w,m.type=ye,m.noActual=!1,m.xhr=ge.xhr,m.description=pt||""}}catch{}m.type!="rule"&&(rt.find(function(Se,Re,_e){try{if(w=Se.call(q),w)return!0}catch{}}),w&&w!=de&&(m.src=w,m.type="tpRule",m.noActual=!1))}}}if(!m&&n.nodeName.toUpperCase()!="IMG"){let Y=0;for(;n;){if(Y++>5){n=null;break}if((n.nodeName=="A"||n.nodeName=="a")&&nt.test(n.href))break;n=n.parentNode}if(n){let w=n.href;if(/[&\?]url\=/.test(w)){w=w.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{w=decodeURIComponent(w)}catch{}}else if(/[&\?]https?:/.test(w)){w=w.replace(/.*[&\?](https?:)/,"$1");try{w=decodeURIComponent(w)}catch{}}m={src:w,type:"link",imgSrc:w,noActual:!0,img:n,description:n.title||n.innerText},p(),floatBar||(floatBar=new bt),floatBar.start(m)}return}let re=!1;if(!(!m&&(Nt(n),m=wt(n),!m))&&m){if(!m.imgAS&&!m.imgCS){let q={w:m.img.offsetWidth||m.img.scrollWidth||n.offsetWidth||n.scrollWidth,h:m.img.offsetHeight||m.img.scrollHeight||n.offsetHeight||n.scrollHeight};m.imgAS=q,m.imgCS=q}c.floatBar.showWithRules&&(m.type=="rule"||m.type=="tpRule")||(m.imgAS.w==m.imgCS.w&&m.imgAS.h==m.imgCS.h?c.floatBar.sizeLimitOr?m.imgCS.w<=c.floatBar.forceShow.size.w&&m.imgCS.h<=c.floatBar.forceShow.size.h&&(re=!0):(m.imgCS.w<=c.floatBar.forceShow.size.w||m.imgCS.h<=c.floatBar.forceShow.size.h)&&(re=!0):c.floatBar.sizeLimitOr?m.imgCS.h<=c.floatBar.minSizeLimit.h&&m.imgCS.w<=c.floatBar.minSizeLimit.w&&(re=!0):(m.imgCS.h<=c.floatBar.minSizeLimit.h||m.imgCS.w<=c.floatBar.minSizeLimit.w)&&(re=!0)),ae(m),m.noActual||(m.srcs?m.imgSrc&&m.srcs.join(" ").indexOf(m.imgSrc)==-1&&m.srcs.push(m.imgSrc):m.srcs=[m.imgSrc]),floatBar||(floatBar=new bt),m.type=="rule"&&ge.clickToOpen&&ge.clickToOpen.enabled&&(ki&&ki(),ki=ba(m));let Y=re||(c.floatBar.position=="hide"?!0:s);m.hide=Y;let w=floatBar.start(m);!p()&&w&&(floatBar.floatBar.style.opacity==0&&(floatBar.floatBar.style.opacity=""),floatBar.floatBar.style.display="initial")}}var Ii,ui=!1;function Ji(e){if(vt||e.target==Be.overlayer)return;let t=Ei(e);if(e.type=="mousemove"){if(!ui){ui=!0;return}if(Ce&&!Ce.removed&&!Ce.previewed){t?(Xt=e.clientX,Kt=e.clientY,Ce.followPos(Xt,Kt)):Ce.remove();return}else{if(!t)return;let i=e.target;if(i.nodeName=="PICTURE"&&(i=i.lastElementChild||i),i.nodeName!="IMG")return}}ui&&(clearTimeout(Ii),Ii=setTimeout(function(){!e||!e.target||!e.target.parentNode||we&&we.shown||Aa(e.target,e.type,t,e.clientX,e.clientY,e.altKey)},50))}var Zt,Ot,Mi=!1;u.addEventListener("selectionchange",e=>{Mi||(Mi=!0,setTimeout(()=>{Mi=!1;const t=G.getSelection();Ot=t.toString(),Ot&&Ot.length<500?Ot=Ot.trim().replace(/^t?t?p?s?:/,"https:"):Ot="",Ot&&nt.test(Ot)?Zt=t.getRangeAt(0).getBoundingClientRect():Zt=null},300))}),u.addEventListener("visibilitychange",e=>{ui=!1});var Ft;u.addEventListener("securitypolicyviolation",e=>{e.violatedDirective.includes("media-src")&&Ft&&Ft.src==e.blockedURI&&A({method:"GET",url:Ft.src,responseType:"blob",onload:function(t){const i=URL.createObjectURL(t.response);Ft.src=i,Ft.load(),Ft.play().catch(l=>console.warn("[CSP Fixer] Autoplay after fix was blocked.",l));const a=()=>URL.revokeObjectURL(i);Ft.addEventListener("ended",a),G.addEventListener("beforeunload",a)}})});function ni(){let e=u.createElement("video");return e.addEventListener("error",t=>{/^blob:/.test(e.src)||A({method:"GET",url:e.src,responseType:"blob",onload:function(i){const a=URL.createObjectURL(i.response);e.src=a,e.load(),e.play().catch(s=>console.warn("[CSP Fixer] Autoplay after fix was blocked.",s));const l=()=>URL.revokeObjectURL(a);e.addEventListener("ended",l),G.addEventListener("beforeunload",l),Ft=null}})}),e}async function zi(e,t){await new Promise(i=>{let a=setInterval(()=>{let l=u.querySelector(e);if(l){l.focus(),l.scrollIntoView();let d=l.value;if(l.nodeName=="INPUT"){var s=Object.getOwnPropertyDescriptor(G.HTMLInputElement.prototype,"value").set;s.call(l,t)}else{var n=Object.getOwnPropertyDescriptor(G.HTMLTextAreaElement.prototype,"value").set;n.call(l,t)}let v=new Event("focus",{bubbles:!0});l.dispatchEvent(v),v=new Event("input",{bubbles:!0});let C=l._valueTracker;C&&C.setValue(d),l.dispatchEvent(v),v=new Event("change",{bubbles:!0}),l.dispatchEvent(v),clearInterval(a),i()}},100)})}function xa(e){if(!PointerEvent)return e.click();let t={isTrusted:!0,altKey:!1,azimuthAngle:0,bubbles:!0,button:0,buttons:0,clientX:1,clientY:1,cancelBubble:!1,cancelable:!0,composed:!0,ctrlKey:!1,defaultPrevented:!1,detail:1,eventPhase:2,fromElement:null,height:1,isPrimary:!1,metaKey:!1,pointerId:1,pointerType:"mouse",pressure:0,relatedTarget:null,returnValue:!0,shiftKey:!1,toElement:null,twist:0,which:1};e.focus();var i=new PointerEvent("mouseover",t);e.dispatchEvent(i),i=new PointerEvent("pointerover",t),e.dispatchEvent(i),i=new PointerEvent("mousedown",t),e.dispatchEvent(i),i=new PointerEvent("pointerdown",t),e.dispatchEvent(i),i=new PointerEvent("mouseup",t),e.dispatchEvent(i),i=new PointerEvent("pointerup",t),e.dispatchEvent(i),e.click()}async function jt(e,t){await new Promise(i=>{let a=setInterval(()=>{let l=u.querySelector(e);l?(clearInterval(a),xa(l),i()):t&&t()},100)})}async function gi(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}function ka(e){var t=(e.shadowRoot&&e.shadowRoot.activeElement||e).localName;return!(t=="textarea"||t=="input"||t=="select"||t=="object"||t=="embed"||e.getAttribute("contenteditable")=="true")}async function Ti(){we||(we=new je,we.data=[]);var e=await we.getAllValidImgs();if(!(e.length<1))return we.data=e,we.load(we.data),we}function Xi(e){const t=e.activeElement;return t?t.shadowRoot?Xi(t.shadowRoot):t:null}function Sa(e){let t=Xi(e);if(t&&(/INPUT|TEXTAREA/i.test(t.nodeName)&&t.getAttribute("aria-readonly")!="true"||t.contentEditable=="true"))return!0;for(;t&&t.nodeName;){if(t.contentEditable=="true")return!0;if(t.nodeName.toUpperCase()=="BODY")break;t=t.parentNode}return!1}function Ea(e){if(!(we&&we.shown)&&!Sa(u)){var t=e.key;if(Vi(e)){if(c.floatBar.keys.enable&&t==c.floatBar.keys.gallery)return Ti(),e.stopPropagation(),e.preventDefault(),ri=!ri,!0;if((!we||!we.shown&&!we.minimized)&&c.floatBar.globalkeys.type=="press")return ri=!ri,!0}if(!c.floatBar.keys.enable||e&&(e.ctrlKey||e.metaKey||G.getSelection().toString()))return!1;floatBar&&ka(e.target)&&Object.keys(c.floatBar.keys).some(function(i){if(!(i=="enable"||i=="search")&&t==c.floatBar.keys[i])return floatBar.open(e,i),!0})}}function Ia(e){(!e.isTrusted||e.key=="Alt"||e.key=="Control"||e.key=="Meta")&&(c.floatBar.globalkeys.type=="hold"||!Ei(e))&&Ce&&!Ce.removed&&(clearTimeout(Ii),c.floatBar.globalkeys.closeAfterPreview?Ce&&Ce.remove():(Ce.focus(),Ce.imgWindow.classList.remove("pv-pic-window-transition-all"),Ce.imgWindow.classList.remove("preview"),Ce.previewed=!0,Ce=null))}function Ci(e){let t=u.createDocumentFragment();return e.forEach(i=>{if(/^script/i.test(i.node))return;let a=u.createElement(i.node);if(i.text&&(a.innerText=i.text),i.attr&&Object.keys(i.attr).forEach(l=>{/^on/i.test(l)||a.setAttribute(l,i.attr[l])}),i.children){let l=Ci(i.children);a.appendChild(l)}t.appendChild(a)}),t}G.addEventListener("message",va,!0),ya(),u.addEventListener("keyup",Ia,!1),u.addEventListener("mouseenter",Ji,!0),u.addEventListener("mousemove",Ji,!0),u.addEventListener("mouseout",e=>{if(e.relatedTarget!=Be.overlayer&&Ce&&!Ce.removed&&Ei(e)){let t=Ce.data.img.getBoundingClientRect();(e.clientX<t.left+20||e.clientX>t.right-20||e.clientY<t.top+20||e.clientY>t.bottom-20)&&Ce&&Ce.remove()}},!0);var qt={Lunapic:(e,t)=>{y("https://www.lunapic.com/editor/index.php?action=url&url="+e,{active:!0})},"Pixlr easy":async(e,t)=>{t?(pe.setItem("editUrl",e),y("https://pixlr.com/x/",{active:!0})):(pe.setItem("editUrl",""),/^https:\/\/pixlr\.com\//.test(location.href)&&(await gi(1e3),await jt("#splash-file-menu"),await jt("#splash-file-url"),await zi("#image-url",e),await jt(".dialog>.buttons>a.button.positive")))},"Pixlr advanced":async(e,t)=>{t?(pe.setItem("editUrl",e),y("https://pixlr.com/e/",{active:!0})):(pe.setItem("editUrl",""),/^https:\/\/pixlr\.com\//.test(location.href)&&(await gi(1e3),await jt("#splash-file-menu"),await jt("#splash-file-url"),await zi("#image-url",e),await jt(".dialog>.buttons>a.button.positive")))},Photopea:async(e,t)=>{t?(pe.setItem("editUrl",e),y("https://www.photopea.com/",{active:!0})):(pe.setItem("editUrl",""),/^https:\/\/www\.photopea\.com\//.test(location.href)&&(await gi(1e3),await jt(".topbar>span>button"),await jt(".cmanager>.contextpanel>div:nth-child(4)"),await jt(".cmanager>div:last-child>div:nth-child(3)"),await zi("span.fitem.tinput>input",e),await jt(".form>button")))}},Ki={};for(let e in qt)Ki[e]=e;var qi=!1,Yt=null;R();var $i={auto:o("defaultLang")};for(let e in langList)$i[e]=langList[e];GM_config.init({id:"pv-prefs",title:GM_config.create("a",{href:"https://greasyfork.org/scripts/24204-picviewer-ce",target:"_blank",textContent:"Picviewer CE+ "+o("config"),title:o("openHomePage")}),isTabs:!0,skin:"tab",frameStyle:{minWidth:"350px",width:(Gt(o("floatBar")+o("magnifier")+o("gallery")+o("imgWindow")+o("others"),"14px","arial,tahoma,myriad pro,sans-serif")+250||480)+"px",zIndex:"2147483648",margin:"1px",border:"2px solid rgb(0, 0, 0)"},css:["#pv-prefs input[type='text'] { width: 50px; } ","#pv-prefs input[type='number'] { width: 50px; } ","#pv-prefs .inline .config_var { margin-left: 6px; }","#pv-prefs label.size { width: 205px; }","#pv-prefs span.sep-x { margin-left: 0px !important; }","#pv-prefs label.sep-x { margin-right: 5px; }","#pv-prefs label.floatBar-key { margin-left: 20px; width: 100px; }","#pv-prefs input.color { width: 120px; }","#pv-prefs input.order { width: 250px; }","#pv-prefs .config_header>a { border-bottom: solid 2px; }","#pv-prefs a:hover { color: #9f9f9f; }","#pv-prefs a { color: black; }","#pv-prefs .section_header_holder { padding-right: 10px; }","#pv-prefs textarea { width: 100%; }","#pv-prefs .nav-tabs { white-space: nowrap; width: fit-content; max-width: 100%; margin: 20 auto; display: flex; overflow-x: auto; overflow-y: visible; }"].join(`
`),fields:{"floatBar.position":{label:o("position"),title:o("positionTips"),type:"select",options:{"top left":o("topLeft"),"top right":o("topRight"),"bottom right":o("bottomRight"),"bottom left":o("bottomLeft"),"top center":o("topCenter"),"bottom center":o("bottomCenter"),hide:o("hide")},default:c.floatBar.position,section:[o("floatBar")]},"floatBar.stayOut":{label:o("stayOut"),type:"checkbox",default:c.floatBar.stayOut,line:"start"},"floatBar.stayOutOffsetX":{label:"X:",type:"int",default:c.floatBar.stayOutOffsetX},"floatBar.stayOutOffsetY":{label:"Y:",type:"int",default:c.floatBar.stayOutOffsetY,after:" "+o("px"),line:"end"},"floatBar.showDelay":{label:o("showDelay"),type:"int",default:c.floatBar.showDelay,after:" "+o("ms")},"floatBar.hideDelay":{label:o("hideDelay"),type:"int",className:"hideDelay",default:c.floatBar.hideDelay,after:" "+o("ms")},"floatBar.forceShow.size.w":{label:o("forceShow"),type:"int",className:"size",default:c.floatBar.forceShow.size.w,title:o("forceShowTip"),line:"start"},"floatBar.forceShow.size.h":{label:" x ",type:"int",className:"sep-x",after:" "+o("px"),default:c.floatBar.forceShow.size.h,line:"end"},"floatBar.minSizeLimit.w":{label:o("minSizeLimit"),type:"int",className:"size",default:c.floatBar.minSizeLimit.w,title:o("minSizeLimitTip"),line:"start"},"floatBar.minSizeLimit.h":{label:" x ",type:"int",className:"sep-x",after:" "+o("px"),default:c.floatBar.minSizeLimit.h,line:"end"},"floatBar.sizeLimitOr":{label:o("sizeLimitOr"),type:"checkbox",default:!1},"floatBar.showWithRules":{label:o("showWithRules"),type:"checkbox",default:c.floatBar.showWithRules,title:o("showWithRulesTip")},"floatBar.butonOrder":{label:o("butonOrder"),type:"text",className:"order",title:"actual,current,gallery,magnifier,download",default:c.floatBar.butonOrder.join(", ")},"floatBar.additionalFeature":{label:o("additionalFeature"),type:"select",options:{copy:o("copy"),copyImg:o("copyImg"),open:o("openInNewTab")},default:c.floatBar.additionalFeature||"open"},"floatBar.invertAdditionalFeature":{label:o("invertAdditionalFeature"),type:"checkbox",default:c.floatBar.invertAdditionalFeature},"floatBar.listenBg":{label:o("listenBg"),type:"checkbox",default:c.floatBar.listenBg,title:o("listenBgTip")},"floatBar.globalkeys.ctrl":{label:o("globalkeys"),type:"checkbox",after:"CTRL +",default:!0,line:"start"},"floatBar.globalkeys.alt":{after:"ALT +",type:"checkbox",className:"sep-x",default:!1},"floatBar.globalkeys.shift":{after:"SHIFT +",type:"checkbox",className:"sep-x",default:!1},"floatBar.globalkeys.command":{after:"META",type:"checkbox",className:"sep-x",default:!1,line:"end"},"floatBar.globalkeys.type":{label:o("globalkeysType"),type:"select",options:{press:o("globalkeysPress"),hold:o("globalkeysHold")},default:c.floatBar.globalkeys.type},"floatBar.globalkeys.invertInitShow":{label:o("initShow"),type:"checkbox",default:c.floatBar.globalkeys.invertInitShow},"floatBar.globalkeys.closeAfterPreview":{label:o("closeAfterPreview"),type:"checkbox",default:c.floatBar.globalkeys.closeAfterPreview},"floatBar.previewMaxSizeW":{label:o("previewMaxSize"),type:"int",className:"size",default:c.previewMaxSizeW||0,title:o("previewMaxSizeTip"),line:"start"},"floatBar.previewMaxSizeH":{label:" x ",type:"int",className:"sep-x",after:" "+o("px"),default:c.previewMaxSizeH||0,line:"end"},"floatBar.globalkeys.previewFollowMouse":{label:o("previewFollowMouse"),type:"checkbox",default:c.floatBar.globalkeys.previewFollowMouse},"floatBar.keys.enable":{label:o("keysEnable"),type:"checkbox",default:c.floatBar.keys.enable},"floatBar.keys.actual":{label:o("keysActual"),type:"text",className:"floatBar-key",default:c.floatBar.keys.actual,title:o("keysActualTip")},"floatBar.keys.current":{label:o("keysCurrent"),type:"text",className:"floatBar-key",default:c.floatBar.keys.current,title:o("keysCurrentTip")},"floatBar.keys.magnifier":{label:o("keysMagnifier"),type:"text",className:"floatBar-key",default:c.floatBar.keys.magnifier,title:o("keysMagnifierTip")},"floatBar.keys.gallery":{label:o("keysGallery"),type:"text",className:"floatBar-key",default:c.floatBar.keys.gallery,title:o("keysGalleryTip")},"floatBar.keys.download":{label:o("download"),type:"text",className:"floatBar-key",default:c.floatBar.keys.download},"floatBar.disableKeySites":{label:o("disableKeySites"),type:"textarea",default:c.floatBar.disableKeySites},"magnifier.radius":{label:o("magnifierRadius"),type:"int",default:c.magnifier.radius,section:[o("magnifier")],after:" "+o("px")},"magnifier.wheelZoom.enabled":{label:o("magnifierWheelZoomEnabled"),type:"checkbox",default:c.magnifier.wheelZoom.enabled},"magnifier.wheelZoom.scaleImage":{label:o("magnifierScaleImage"),type:"checkbox",default:c.magnifier.wheelZoom.scaleImage!==!1},"magnifier.wheelZoom.ctrl":{label:"",type:"checkbox",after:"CTRL +",default:!1,line:"start"},"magnifier.wheelZoom.alt":{after:"ALT +",type:"checkbox",className:"sep-x",default:!1},"magnifier.wheelZoom.shift":{after:"SHIFT +",type:"checkbox",className:"sep-x",default:!1},"magnifier.wheelZoom.meta":{after:"META",type:"checkbox",className:"sep-x",default:!1,line:"end"},"magnifier.wheelZoom.range":{label:o("magnifierWheelZoomRange"),type:"textarea",default:c.magnifier.wheelZoom.range.join(", ")},"gallery.defaultSizeLimit.w":{label:o("defaultSizeLimit"),type:"int",className:"size",section:[o("gallery")],default:c.gallery.defaultSizeLimit.w,line:"start"},"gallery.defaultSizeLimit.h":{label:" x ",type:"int",className:"sep-x",after:" "+o("px"),default:c.gallery.defaultSizeLimit.h,line:"end"},"gallery.fitToScreen":{label:o("galleryFitToScreen"),type:"checkbox",default:c.gallery.fitToScreen,title:o("galleryFitToScreenTip"),line:"start"},"gallery.fitToScreenSmall":{label:o("galleryFitToScreenSmall"),type:"checkbox",default:c.gallery.fitToScreenSmall,line:"end"},"gallery.scrollEndToChange":{label:o("galleryScrollEndToChange"),type:"checkbox",default:c.gallery.scrollEndToChange,title:o("galleryScrollEndToChangeTip")},"gallery.backgroundColor":{label:o("backgroundColor"),type:"text",className:"color",default:c.gallery.backgroundColor||"rgba(20,20,20,0.75)",line:"end"},"gallery.exportType":{label:o("galleryExportType"),type:"select",options:{grid:o("grid"),gridBig:o("gridBig"),list:o("list")},default:c.gallery.exportType},"gallery.loadMore":{label:o("galleryAutoLoad"),type:"checkbox",default:c.gallery.loadMore},"gallery.loadAll":{label:o("galleryLoadAll"),type:"checkbox",default:c.gallery.loadAll,title:o("galleryLoadAllTip")},"gallery.viewmoreEndless":{label:o("viewmoreEndless"),type:"checkbox",default:c.gallery.viewmoreEndless},"gallery.downloadWithZip":{label:o("galleryDownloadWithZip"),type:"checkbox",default:c.gallery.downloadWithZip},"gallery.downloadGap":{label:o("galleryDownloadGap"),type:"int",default:c.gallery.downloadGap,after:" ms"},"gallery.formatConversion":{label:o("formatConversion"),type:"textarea",title:`webp>png
x-icon>png`,default:c.gallery.formatConversion||""},"gallery.aria2Host":{label:o("aria2Host"),type:"text",className:"order",default:c.gallery.aria2Host||"http://localhost:6800",after:"/jsonrpc"},"gallery.aria2Token":{label:o("aria2Token"),type:"text",default:c.gallery.aria2Token||""},"gallery.scaleSmallSize":{label:o("galleryScaleSmallSize1"),type:"int",default:c.gallery.scaleSmallSize,after:o("galleryScaleSmallSize2")},"gallery.showSmallSize":{label:o("galleryShowSmallSize"),type:"checkbox",default:c.gallery.showSmallSize},"gallery.transition":{label:o("galleryTransition"),type:"checkbox",default:c.gallery.transition},"gallery.disableArrow":{label:o("galleryDisableArrow"),type:"checkbox",default:c.gallery.disableArrow},"gallery.sidebarPosition":{label:o("gallerySidebarPosition"),type:"select",options:{bottom:o("bottom"),right:o("right"),left:o("left"),top:o("top")},default:c.gallery.sidebarPosition,line:"start"},"gallery.sidebarSize":{label:o("gallerySidebarSize"),type:"int",default:c.gallery.sidebarSize,title:o("gallerySidebarSizeTip"),after:" "+o("px"),line:"end"},"gallery.max":{label:o("galleryMax1"),type:"number",default:c.gallery.max,after:o("galleryMax2")},"gallery.autoZoom":{label:o("galleryAutoZoom"),type:"checkbox",default:c.gallery.autoZoom,title:o("galleryAutoZoomTip")},"gallery.descriptionLength":{label:o("galleryDescriptionLength1"),type:"int",default:c.gallery.descriptionLength,after:o("galleryDescriptionLength2")},"gallery.autoOpenViewmore":{label:o("autoOpenViewmore"),type:"checkbox",default:c.gallery.autoOpenViewmore},"gallery.autoOpenSites":{label:o("galleryAutoOpenSites"),type:"textarea",default:c.gallery.autoOpenSites},"gallery.searchData":{label:o("gallerySearchData"),type:"textarea",default:c.gallery.searchData},"gallery.editSite":{label:o("galleryEditSite"),type:"select",options:Ki,default:c.gallery.editSite},"imgWindow.fitToScreen":{label:o("imgWindowFitToScreen"),type:"checkbox",default:c.imgWindow.fitToScreen,section:[o("imgWindow")],title:o("imgWindowFitToScreenTip")},"imgWindow.fitToScreenSmall":{label:o("imgWindowFitToScreenWhenSmall"),type:"checkbox",default:c.imgWindow.fitToScreenSmall},"imgWindow.suitLongImg":{label:o("suitLongImg"),type:"checkbox",default:c.imgWindow.suitLongImg},"imgWindow.switchStoreLoc":{label:o("switchStoreLoc"),type:"checkbox",default:c.imgWindow.switchStoreLoc},"imgWindow.defaultTool":{label:o("imgWindowDefaultTool"),type:"select",options:{hand:o("hand"),rotate:o("rotate"),zoom:o("zoom")},default:c.imgWindow.defaultTool},"imgWindow.close.escKey":{label:o("imgWindowEscKey"),type:"checkbox",default:c.imgWindow.close.escKey,line:"start"},"imgWindow.close.dblClickImgWindow":{label:o("imgWindowDblClickImgWindow"),type:"checkbox",default:c.imgWindow.close.dblClickImgWindow},"imgWindow.close.clickOutside":{label:o("imgWindowClickOutside"),type:"select",options:{"":o("none"),click:o("click"),dblclick:o("dblclick")},default:c.imgWindow.close.clickOutside,title:o("imgWindowClickOutsideTip"),line:"end"},"imgWindow.backgroundColor":{label:o("backgroundColor"),type:"text",className:"color",default:c.imgWindow.backgroundColor,line:"end"},"imgWindow.overlayer.shown":{label:o("imgWindowOverlayerShown"),type:"checkbox",default:c.imgWindow.overlayer.shown,line:"start"},"imgWindow.overlayer.color":{label:o("imgWindowOverlayerColor"),type:"text",className:"color",default:c.imgWindow.overlayer.color,line:"end"},"imgWindow.shiftRotateStep":{label:o("imgWindowShiftRotateStep1"),type:"int",default:c.imgWindow.shiftRotateStep,after:o("imgWindowShiftRotateStep2")},"imgWindow.zoom.mouseWheelZoom":{label:o("imgWindowMouseWheelZoom"),type:"checkbox",default:c.imgWindow.zoom.mouseWheelZoom},"imgWindow.zoom.range":{label:o("imgWindowZoomRange"),type:"textarea",default:c.imgWindow.zoom.range.join(", "),title:o("imgWindowZoomRangeTip"),attr:{spellcheck:"false"}},"imgWindow.fixed":{label:o("positionFixed"),default:c.imgWindow.fixed,type:"checkbox"},"imgWindow.zIndex":{label:"z-Index",default:c.imgWindow.zIndex,type:"int"},waitImgLoad:{label:o("waitImgLoad"),type:"checkbox",default:c.waitImgLoad,section:[o("others")],title:o("waitImgLoadTip")},customLang:{label:o("customLang"),type:"select",options:$i,default:c.customLang,line:"end"},saveName:{label:o("saveName"),type:"select",options:{0:o("default"),1:o("textFirst"),2:o("onlyUrl"),3:o("urlAndText")},default:c.saveName||0,title:o("saveNameTip")},saveNameAddTitle:{label:o("saveNameAddTitle"),type:"checkbox",default:!!c.saveNameAddTitle},debug:{label:o("debug"),type:"checkbox",default:c.debug},customRules:{label:GM_config.create("a",{href:"https://github.com/hoothin/UserScripts/tree/master/Picviewer%20CE%2B#-custom-rules-example",target:"_blank",textContent:o("customRules")}),type:"textarea",default:c.customRules}},events:{open:async function(e,t,i){Si=!0;let a=e.querySelector("#"+this.id+"_saveBtn"),l=e.querySelector("#"+this.id+"_closeBtn"),s=e.querySelector("#"+this.id+"_resetLink"),n=e.querySelector("#"+this.id+"_field_customRules");n.style.height="188px",n.setAttribute("spellcheck","false"),a.textContent=o("saveBtn"),a.title=o("saveBtnTips"),a.addEventListener("click",C=>{if(n.value){if(n.value.trim().indexOf("[")!=0){C.stopPropagation(),C.preventDefault(),alert("The rules must be enclosed in square brackets ([]).");return}try{var m;n.value.indexOf("name:")!==-1?xi()||fe.eval(Ge(n.value)):n.value=JSON.stringify(JSON.parse(n.value),null,4)}catch(T){C.stopPropagation(),C.preventDefault(),alert("Wrong rule:"+T.toString())}}},!0),l.textContent=o("closeBtn"),l.title=o("closeBtnTips"),s.textContent=o("resetLink"),s.title=o("resetLinkTips");let d=e.getElementById(this.id+"_field_gallery.searchData");d&&d.value==""&&(d.value=z);let v=e.getElementById(this.id+"_section_4");if(v){if(!Yt){Yt=u.createElement("div");let C=Ci([{node:"div",text:"Made with \u2764\uFE0F by @",attr:{style:"width: calc(100% - 8px); text-align: center;"},children:[{node:"a",text:"Hoothin",attr:{href:"mailto:rixixi@gmail.com"}},{node:"br"},{node:"a",text:"Star Me on \u{1F431}Github",attr:{href:"https://github.com/hoothin/UserScripts",target:"_blank"}},{node:"br"},{node:"span",text:"Join our "},{node:"a",text:"Discord",attr:{href:"https://discord.com/invite/keqypXC6wD",target:"_blank"}}]},{node:"img",attr:{src:"https://s2.loli.net/2023/02/06/afTMxeASm48z5vE.jpg",style:"width: 100%; margin-top: 5px; max-height: 180px; display: none;",onload:"this.style.display=''"}},{node:"div",attr:{style:"width: 100%; display: flex; align-items: center; justify-content: center; margin-top: 5px; font-size: 14px;"},children:[{node:"img",attr:{src:"https://ko-fi.com/favicon-32x32.png",style:"margin-right: 5px; height: 25px; display: none;",onload:"this.style.display=''"}},{node:"a",text:"Ko-fi",attr:{href:"https://ko-fi.com/hoothin",style:"margin-right: 10px;",target:"_blank"}},{node:"img",attr:{src:"https://static.afdiancdn.com/favicon.ico",style:"margin-right: 5px; height: 20px; display: none;",onload:"this.style.display=''"}},{node:"a",text:"\u7231\u53D1\u7535",attr:{href:"https://afdian.com/@hoothin",target:"_blank"}}]}]);Yt.style.padding="5px",Yt.appendChild(C),v.appendChild(Yt)}if(!qi){let C=await S(`https://hoothin.com/scripts/pvcep/${j}`).then(T=>T.json()).catch(T=>{});if(qi=!0,!C)return;let m=Ci(C);m&&m.childElementCount&&(Yt&&v.removeChild(Yt),Yt=u.createElement("div"),Yt.appendChild(m))}v.appendChild(Yt)}},save:function(){ia(),pe.setItem("customLang",c.customLang)},close:function(){Si=!1}}}),ia();var ei=pe.getListItem("hideIcon",location.hostname)||!1,mi=u.createElement("style");mi.textContent="#pv-float-bar-container{display:none!important}",ei&&u.head.appendChild(mi),N(o("openConfig"),vi),N(o("openGallery"),Ti),N(o("hideIcon")+(ei?"\u2611\uFE0F":""),()=>{ei=!ei,pe.setListItem("hideIcon",location.hostname,ei),ei?u.head.appendChild(mi):u.head.removeChild(mi)}),N(o("ruleRequest"),()=>{y("https://github.com/hoothin/UserScripts/issues/new?labels=Picviewer%20CE%2B&template=custom-rule-request.md&title=Request%20Picviewer%20CE%2B%20support%20for%20"+location.hostname,{active:!0})});function Ma(){if(!GM_config.frame||!GM_config.frame.contentDocument)return;let e=GM_config.frame.contentDocument.querySelectorAll("input.floatBar-key");[].forEach.call(e,t=>{t.setAttribute("readOnly","readonly"),t.addEventListener("keydown",i=>{i.key==="Escape"||i.key==="Backspace"?t.value="":t.value=i.key,i.stopPropagation(),i.preventDefault()})})}ge=ci();let Ri=pe.getItem("editUrl");if(Ri){let e=qt[c.gallery.editSite];if(e||(e=qt[Object.keys(qt)[0]]),e)if(u.readyState=="complete")e(Ri);else{let t=i=>{u.readyState=="complete"&&(e(Ri),u.removeEventListener("readystatechange",t))};u.addEventListener("readystatechange",t)}}var Li=u.createElement("style");if(Li.textContent="#pv-prefs { display: initial; }",Li.type="text/css",location.hostname=="hoothin.github.io"&&location.pathname=="/UserScripts/Picviewer%20CE+/")vi();else if(location.hostname=="hoothin.github.io"&&location.pathname=="/UserScripts/Picviewer%20CE+/gallery.html"){let e=new je;e.data=[],e.lockGallery=!0;var za=await e.getAllValidImgs();e.data=za,e.load(e.data);let t=new URLSearchParams(location.search),i=t.get("mode"),a=t.get("imgs");a&&e.addImageUrls(a),i=="1"&&e.maximizeSidebar();let l=e.eleMaps["img-content"],s=!1,n;l.addEventListener("click",d=>{if(d.target==l){if(clearTimeout(n),s){s=!1,e.openImages({altKey:!0});return}s=!0,n=setTimeout(()=>{s=!1,e.openImages(d)},300)}},!0)}else if(c.gallery.autoOpenSites){let e=c.gallery.autoOpenSites.split(`
`);for(let t=0;t<e.length;t++){let i=e[t].trim(),a=i[0]=="@";if(a&&(i=i.substr(1)),new RegExp(i).test(We)){setTimeout(async function(){let l=await Ti();l&&a&&l.maximizeSidebar()},2e3);break}}}let ea=!1;if(c.floatBar.disableKeySites){let e=c.floatBar.disableKeySites.split(`
`);for(let t=0;t<e.length;t++){let i=e[t].trim();if(new RegExp(i).test(We)){ea=!0;break}}}ea||u.addEventListener("keydown",Ea,!0);let ta=!1;for(let e=0;e<dt.length;e++)if(location.host.indexOf(dt[e])!==-1){ta=!0;break}ta&&u.addEventListener("click",e=>{if(Je.test(location.href)&&/pre|code/i.test(e.target.nodeName)){let t=e.target.innerText.trim();if(/"name":/.test(t)&&/"(r|xhr)":/.test(t))try{localStorage.setItem("picviewerCE.config.curTab",4);let i=JSON.parse(t.replace(/^\/\/.*/g,"")),a,l=GM_config.fields.customRules;c.customRules.indexOf('"name":')!==-1?a=JSON.parse(c.customRules):a=[],a.push(i),l.value=JSON.stringify(a,null,4),vi()}catch(i){alert(i.toString())}}},!0);function vi(){let e=GM_config.fields["gallery.searchData"];e&&e.value&&(e.value=e.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"));let t=GM_config.fields.customRules;t&&t.value&&(t.value=t.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")),u.head.appendChild(Li),GM_config.open(),u.documentElement.appendChild(GM_config.frame),setTimeout(()=>{if(GM_config.frame&&GM_config.frame.contentDocument.body.innerHTML===""){y("https://hoothin.github.io/UserScripts/Picviewer%20CE+/",{active:!0});return}GM_config.frame&&GM_config.frame.style&&GM_config.frame.style.display=="none"&&(GM_config.frame.src=""),Ma()},1e3)}function ia(){Object.keys(GM_config.fields).forEach(function(e){for(var t=e.split("."),i=t.pop(),a=c,l=t.shift();l;)a=a[l],l=t.shift();var s=GM_config.get(e);typeof s<"u"&&(e=="magnifier.wheelZoom.range"||e=="imgWindow.zoom.range"?a[i]=s.split(/[,]\s*/).map(function(n){return parseFloat(n)}):e=="floatBar.butonOrder"?a[i]=s.trim().split(/\s*[,]\s*/):a[i]=s)});try{localStorage&&localStorage.setItem&&(pe.getItem("inited")||(localStorage.setItem("picviewerCE.config.curTab",4),pe.setItem("inited",!0)))}catch{}typeof c.gallery.formatConversion>"u"&&(c.gallery.formatConversion="webp>png"),c.gallery.formatConversion.split(`
`).forEach(e=>{let t=e.split(">");t.length===2&&k.set(t[0].trim(),t[1].trim())}),ae=c.debug?console.log.bind(console):function(){}}}function qe(P){H.width=P.naturalWidth||P.width,H.height=P.naturalHeight||P.height;let G=H.getContext("2d");return G.clearRect(0,0,H.width,H.height),G.drawImage(P,0,0),H.toDataURL("image/png")}function ot(){Te(ut,Ze,ct,De,ft,at,Z)}var ft={ie:typeof ct.documentMode=="number",firefox:typeof XPCNativeWrapper=="function",opera:!!Ze.opera,chrome:!!Ze.chrome};if(ft.ie&&ct.documentMode<9)return;var De=(function(){var P=Array.prototype;return{find:P.find,slice:P.slice,forEach:P.forEach,some:P.some,every:P.every,map:P.map,filter:P.filter,indexOf:P.indexOf,lastIndexOf:P.lastIndexOf}})(),at={supportGM:typeof GM_getValue=="function"&&typeof GM_getValue("a","b")<"u",mxAppStorage:(function(){try{return Ze.external.mxGetRuntime().storage}catch{}})(),operaUJSStorage:(function(){try{return Ze.opera.scriptStorage}catch{}})(),setItem:function(P,G){this.supportGM?(GM_setValue(P,G),G===""&&typeof GM_deleteValue<"u"&&GM_deleteValue(P)):this.operaUJSStorage?this.operaUJSStorage.setItem(P,G):this.mxAppStorage?this.mxAppStorage.setConfig(P,G):Ze.localStorage&&Ze.localStorage.setItem(P,G)},getItem:function(P){var G;return this.supportGM?G=GM_getValue(P):this.operaUJSStorage?G=this.operaUJSStorage.getItem(P):this.mxAppStorage?G=this.mxAppStorage.getConfig(P):Ze.localStorage&&(G=Ze.localStorage.getItem(P)),G},getListItem:function(P,G){var u,ue=this.getItem(P);if(ue)for(var oe=0;oe<ue.length;oe++){var pe=ue[oe];if(pe.k==G){u=pe.v;break}}return u},setListItem:function(P,G,u,ue=50){var oe=this.getItem(P);(!oe||!oe.filter)&&(oe=[]),oe=oe.filter(pe=>pe&&pe.k!=G),u&&(oe.unshift({k:G,v:u}),oe.length>ue&&oe.pop()),this.setItem(P,oe)}};function Xe(P,G,u){A({method:"GET",url:P.trim(),onload:G,onerror:u})}function Ue(P,G){G&&(G.innerHTML=xe(P))}var $e=["Tineye","Google","Baidu"];function mt(){for(var P=0;P<$e.length;P++)if($e[P]==c.firstEngine){$e.splice(P,1);break}$e.unshift(c.firstEngine)}function Ke(P,G,u,ue,oe,pe){let fe=[];var ge=function(){Ue(o("beginSearchImg","\u767E\u5EA6"),G),Xe("http://image.baidu.com/n/same?queryImageUrl="+encodeURIComponent(P)+"&isguessword=1&rn=30&fr=pc&pn=0&sort=size",function(Je){let Ne;try{Ne=JSON.parse(Je.responseText)}catch{Ue(o("findNoPic"),G),setTimeout(function(){Ue("",G)},2e3),rt();return}if(Ne.data[0]){fe=[];for(let lt of Ne.data){if(fe.length>2)break;fe.push(lt.objURL)}Ue(o("findOverBeginLoad",["\u767E\u5EA6",fe.length]),G),nt(fe)}else{rt();return}},ue)},We=function(){Ue(o("beginSearchImg","Google"),G),Xe("https://www.google.com/searchbyimage?safe=off&image_url="+encodeURIComponent(P),function(Je){let Ne=ct.implementation.createHTMLDocument("");Ne.documentElement.innerHTML=Je.responseText;let lt=Ne.querySelector("div.card-section>div>div>span.gl>a");lt?Xe("https://www.google.com"+lt.getAttribute("href"),function(Ct){Ne.documentElement.innerHTML=Ct.responseText;let Rt=Ne.querySelectorAll("div.rg_meta");if(Rt.length==0){rt();return}fe=[];for(var At=0;At<Rt.length&&!(fe.length>2);At++){let kt=JSON.parse(Rt[At].innerHTML);fe.push(kt.ou)}Ue(o("findOverBeginLoad",["Google",fe.length]),G),nt(fe)},ue):rt()},ue)},it=function(){Ue(o("beginSearchImg","Tineye"),G),Xe("https://www.tineye.com/search?url="+encodeURIComponent(P)+"&sort=size",function(Je){let Ne=ct.implementation.createHTMLDocument("");Ne.documentElement.innerHTML=Je.responseText;let lt=Ne.querySelectorAll(".match-details>div.match:first-of-type>p.image-link:first-of-type>a");if(lt.length>0){fe=[];for(var Ct=0;Ct<lt.length&&!(fe.length>2);Ct++)fe.push(lt[Ct].href);Ue(o("findOverBeginLoad",["Tineye",fe.length]),G),nt(fe)}else rt()},ue)},rt=function(){pe++,pe<=$e.length?dt():(oe&&oe(),Ue(o("findNoPic"),G),setTimeout(function(){Ue("",G)},2e3))},nt=function(Je){u(Je,pe)};pe||(pe=1);var dt=function(){switch($e[pe-1]){case"Baidu":ge();break;case"Google":We();break;case"Tineye":it();break;default:it();break}};dt()}Ze.top!=Ze.self&&Ze.self.innerWidth===0&&Ze.self.innerHeight===0?ct.readyState!=="complete"&&Ze.addEventListener("load",P=>{setTimeout(()=>{Ze.self.innerWidth>250&&Ze.self.innerHeight>250&&ot()},500)}):ot()})(this,window,document,typeof unsafeWindow>"u"?window:unsafeWindow);
